function d3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function E2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ih={exports:{}},ul={},Oh={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D1;function f3(){if(D1)return Be;D1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function x(_){return _===null||typeof _!="object"?null:(_=m&&_[m]||_["@@iterator"],typeof _=="function"?_:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,k={};function S(_,U,ae){this.props=_,this.context=U,this.refs=k,this.updater=ae||y}S.prototype.isReactComponent={},S.prototype.setState=function(_,U){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,U,"setState")},S.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function C(){}C.prototype=S.prototype;function M(_,U,ae){this.props=_,this.context=U,this.refs=k,this.updater=ae||y}var A=M.prototype=new C;A.constructor=M,w(A,S.prototype),A.isPureReactComponent=!0;var D=Array.isArray,j=Object.prototype.hasOwnProperty,I={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function P(_,U,ae){var ie,Me={},he=null,ve=null;if(U!=null)for(ie in U.ref!==void 0&&(ve=U.ref),U.key!==void 0&&(he=""+U.key),U)j.call(U,ie)&&!L.hasOwnProperty(ie)&&(Me[ie]=U[ie]);var Oe=arguments.length-2;if(Oe===1)Me.children=ae;else if(1<Oe){for(var Re=Array(Oe),oe=0;oe<Oe;oe++)Re[oe]=arguments[oe+2];Me.children=Re}if(_&&_.defaultProps)for(ie in Oe=_.defaultProps,Oe)Me[ie]===void 0&&(Me[ie]=Oe[ie]);return{$$typeof:t,type:_,key:he,ref:ve,props:Me,_owner:I.current}}function K(_,U){return{$$typeof:t,type:_.type,key:U,ref:_.ref,props:_.props,_owner:_._owner}}function X(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function W(_){var U={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(ae){return U[ae]})}var Y=/\/+/g;function be(_,U){return typeof _=="object"&&_!==null&&_.key!=null?W(""+_.key):U.toString(36)}function le(_,U,ae,ie,Me){var he=typeof _;(he==="undefined"||he==="boolean")&&(_=null);var ve=!1;if(_===null)ve=!0;else switch(he){case"string":case"number":ve=!0;break;case"object":switch(_.$$typeof){case t:case e:ve=!0}}if(ve)return ve=_,Me=Me(ve),_=ie===""?"."+be(ve,0):ie,D(Me)?(ae="",_!=null&&(ae=_.replace(Y,"$&/")+"/"),le(Me,U,ae,"",function(oe){return oe})):Me!=null&&(X(Me)&&(Me=K(Me,ae+(!Me.key||ve&&ve.key===Me.key?"":(""+Me.key).replace(Y,"$&/")+"/")+_)),U.push(Me)),1;if(ve=0,ie=ie===""?".":ie+":",D(_))for(var Oe=0;Oe<_.length;Oe++){he=_[Oe];var Re=ie+be(he,Oe);ve+=le(he,U,ae,Re,Me)}else if(Re=x(_),typeof Re=="function")for(_=Re.call(_),Oe=0;!(he=_.next()).done;)he=he.value,Re=ie+be(he,Oe++),ve+=le(he,U,ae,Re,Me);else if(he==="object")throw U=String(_),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return ve}function ye(_,U,ae){if(_==null)return _;var ie=[],Me=0;return le(_,ie,"","",function(he){return U.call(ae,he,Me++)}),ie}function re(_){if(_._status===-1){var U=_._result;U=U(),U.then(function(ae){(_._status===0||_._status===-1)&&(_._status=1,_._result=ae)},function(ae){(_._status===0||_._status===-1)&&(_._status=2,_._result=ae)}),_._status===-1&&(_._status=0,_._result=U)}if(_._status===1)return _._result.default;throw _._result}var te={current:null},F={transition:null},H={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:F,ReactCurrentOwner:I};function q(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:ye,forEach:function(_,U,ae){ye(_,function(){U.apply(this,arguments)},ae)},count:function(_){var U=0;return ye(_,function(){U++}),U},toArray:function(_){return ye(_,function(U){return U})||[]},only:function(_){if(!X(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Be.Component=S,Be.Fragment=n,Be.Profiler=s,Be.PureComponent=M,Be.StrictMode=r,Be.Suspense=u,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Be.act=q,Be.cloneElement=function(_,U,ae){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var ie=w({},_.props),Me=_.key,he=_.ref,ve=_._owner;if(U!=null){if(U.ref!==void 0&&(he=U.ref,ve=I.current),U.key!==void 0&&(Me=""+U.key),_.type&&_.type.defaultProps)var Oe=_.type.defaultProps;for(Re in U)j.call(U,Re)&&!L.hasOwnProperty(Re)&&(ie[Re]=U[Re]===void 0&&Oe!==void 0?Oe[Re]:U[Re])}var Re=arguments.length-2;if(Re===1)ie.children=ae;else if(1<Re){Oe=Array(Re);for(var oe=0;oe<Re;oe++)Oe[oe]=arguments[oe+2];ie.children=Oe}return{$$typeof:t,type:_.type,key:Me,ref:he,props:ie,_owner:ve}},Be.createContext=function(_){return _={$$typeof:a,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:i,_context:_},_.Consumer=_},Be.createElement=P,Be.createFactory=function(_){var U=P.bind(null,_);return U.type=_,U},Be.createRef=function(){return{current:null}},Be.forwardRef=function(_){return{$$typeof:c,render:_}},Be.isValidElement=X,Be.lazy=function(_){return{$$typeof:h,_payload:{_status:-1,_result:_},_init:re}},Be.memo=function(_,U){return{$$typeof:f,type:_,compare:U===void 0?null:U}},Be.startTransition=function(_){var U=F.transition;F.transition={};try{_()}finally{F.transition=U}},Be.unstable_act=q,Be.useCallback=function(_,U){return te.current.useCallback(_,U)},Be.useContext=function(_){return te.current.useContext(_)},Be.useDebugValue=function(){},Be.useDeferredValue=function(_){return te.current.useDeferredValue(_)},Be.useEffect=function(_,U){return te.current.useEffect(_,U)},Be.useId=function(){return te.current.useId()},Be.useImperativeHandle=function(_,U,ae){return te.current.useImperativeHandle(_,U,ae)},Be.useInsertionEffect=function(_,U){return te.current.useInsertionEffect(_,U)},Be.useLayoutEffect=function(_,U){return te.current.useLayoutEffect(_,U)},Be.useMemo=function(_,U){return te.current.useMemo(_,U)},Be.useReducer=function(_,U,ae){return te.current.useReducer(_,U,ae)},Be.useRef=function(_){return te.current.useRef(_)},Be.useState=function(_){return te.current.useState(_)},Be.useSyncExternalStore=function(_,U,ae){return te.current.useSyncExternalStore(_,U,ae)},Be.useTransition=function(){return te.current.useTransition()},Be.version="18.3.1",Be}var I1;function ic(){return I1||(I1=1,Oh.exports=f3()),Oh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O1;function p3(){if(O1)return ul;O1=1;var t=ic(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function a(c,u,f){var h,m={},x=null,y=null;f!==void 0&&(x=""+f),u.key!==void 0&&(x=""+u.key),u.ref!==void 0&&(y=u.ref);for(h in u)r.call(u,h)&&!i.hasOwnProperty(h)&&(m[h]=u[h]);if(c&&c.defaultProps)for(h in u=c.defaultProps,u)m[h]===void 0&&(m[h]=u[h]);return{$$typeof:e,type:c,key:x,ref:y,props:m,_owner:s.current}}return ul.Fragment=n,ul.jsx=a,ul.jsxs=a,ul}var L1;function h3(){return L1||(L1=1,Ih.exports=p3()),Ih.exports}var p=h3(),Au={},Lh={exports:{}},xn={},_h={exports:{}},zh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _1;function m3(){return _1||(_1=1,(function(t){function e(F,H){var q=F.length;F.push(H);e:for(;0<q;){var _=q-1>>>1,U=F[_];if(0<s(U,H))F[_]=H,F[q]=U,q=_;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var H=F[0],q=F.pop();if(q!==H){F[0]=q;e:for(var _=0,U=F.length,ae=U>>>1;_<ae;){var ie=2*(_+1)-1,Me=F[ie],he=ie+1,ve=F[he];if(0>s(Me,q))he<U&&0>s(ve,Me)?(F[_]=ve,F[he]=q,_=he):(F[_]=Me,F[ie]=q,_=ie);else if(he<U&&0>s(ve,q))F[_]=ve,F[he]=q,_=he;else break e}}return H}function s(F,H){var q=F.sortIndex-H.sortIndex;return q!==0?q:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],f=[],h=1,m=null,x=3,y=!1,w=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(F){for(var H=n(f);H!==null;){if(H.callback===null)r(f);else if(H.startTime<=F)r(f),H.sortIndex=H.expirationTime,e(u,H);else break;H=n(f)}}function D(F){if(k=!1,A(F),!w)if(n(u)!==null)w=!0,re(j);else{var H=n(f);H!==null&&te(D,H.startTime-F)}}function j(F,H){w=!1,k&&(k=!1,C(P),P=-1),y=!0;var q=x;try{for(A(H),m=n(u);m!==null&&(!(m.expirationTime>H)||F&&!W());){var _=m.callback;if(typeof _=="function"){m.callback=null,x=m.priorityLevel;var U=_(m.expirationTime<=H);H=t.unstable_now(),typeof U=="function"?m.callback=U:m===n(u)&&r(u),A(H)}else r(u);m=n(u)}if(m!==null)var ae=!0;else{var ie=n(f);ie!==null&&te(D,ie.startTime-H),ae=!1}return ae}finally{m=null,x=q,y=!1}}var I=!1,L=null,P=-1,K=5,X=-1;function W(){return!(t.unstable_now()-X<K)}function Y(){if(L!==null){var F=t.unstable_now();X=F;var H=!0;try{H=L(!0,F)}finally{H?be():(I=!1,L=null)}}else I=!1}var be;if(typeof M=="function")be=function(){M(Y)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ye=le.port2;le.port1.onmessage=Y,be=function(){ye.postMessage(null)}}else be=function(){S(Y,0)};function re(F){L=F,I||(I=!0,be())}function te(F,H){P=S(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,re(j))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(x){case 1:case 2:case 3:var H=3;break;default:H=x}var q=x;x=H;try{return F()}finally{x=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=x;x=F;try{return H()}finally{x=q}},t.unstable_scheduleCallback=function(F,H,q){var _=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?_+q:_):q=_,F){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=q+U,F={id:h++,callback:H,priorityLevel:F,startTime:q,expirationTime:U,sortIndex:-1},q>_?(F.sortIndex=q,e(f,F),n(u)===null&&F===n(f)&&(k?(C(P),P=-1):k=!0,te(D,q-_))):(F.sortIndex=U,e(u,F),w||y||(w=!0,re(j))),F},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(F){var H=x;return function(){var q=x;x=H;try{return F.apply(this,arguments)}finally{x=q}}}})(zh)),zh}var z1;function g3(){return z1||(z1=1,_h.exports=m3()),_h.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F1;function x3(){if(F1)return xn;F1=1;var t=ic(),e=g3();function n(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,l){a(o,l),a(o+"Capture",l)}function a(o,l){for(s[o]=l,o=0;o<l.length;o++)r.add(l[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function x(o){return u.call(m,o)?!0:u.call(h,o)?!1:f.test(o)?m[o]=!0:(h[o]=!0,!1)}function y(o,l,d,g){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:d!==null?!d.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,l,d,g){if(l===null||typeof l>"u"||y(o,l,d,g))return!0;if(g)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(o,l,d,g,v,b,E){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=v,this.mustUseProperty=d,this.propertyName=o,this.type=l,this.sanitizeURL=b,this.removeEmptyString=E}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){S[o]=new k(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var l=o[0];S[l]=new k(l,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){S[o]=new k(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){S[o]=new k(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){S[o]=new k(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){S[o]=new k(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){S[o]=new k(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){S[o]=new k(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){S[o]=new k(o,5,!1,o.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function M(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var l=o.replace(C,M);S[l]=new k(l,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var l=o.replace(C,M);S[l]=new k(l,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var l=o.replace(C,M);S[l]=new k(l,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){S[o]=new k(o,1,!1,o.toLowerCase(),null,!1,!1)}),S.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){S[o]=new k(o,1,!1,o.toLowerCase(),null,!0,!0)});function A(o,l,d,g){var v=S.hasOwnProperty(l)?S[l]:null;(v!==null?v.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,d,v,g)&&(d=null),g||v===null?x(l)&&(d===null?o.removeAttribute(l):o.setAttribute(l,""+d)):v.mustUseProperty?o[v.propertyName]=d===null?v.type===3?!1:"":d:(l=v.attributeName,g=v.attributeNamespace,d===null?o.removeAttribute(l):(v=v.type,d=v===3||v===4&&d===!0?"":""+d,g?o.setAttributeNS(g,l,d):o.setAttribute(l,d))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),I=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),W=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),F=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=F&&o[F]||o["@@iterator"],typeof o=="function"?o:null)}var q=Object.assign,_;function U(o){if(_===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);_=l&&l[1]||""}return`
`+_+o}var ae=!1;function ie(o,l){if(!o||ae)return"";ae=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch($){var g=$}Reflect.construct(o,[],l)}else{try{l.call()}catch($){g=$}o.call(l.prototype)}else{try{throw Error()}catch($){g=$}o()}}catch($){if($&&g&&typeof $.stack=="string"){for(var v=$.stack.split(`
`),b=g.stack.split(`
`),E=v.length-1,T=b.length-1;1<=E&&0<=T&&v[E]!==b[T];)T--;for(;1<=E&&0<=T;E--,T--)if(v[E]!==b[T]){if(E!==1||T!==1)do if(E--,T--,0>T||v[E]!==b[T]){var O=`
`+v[E].replace(" at new "," at ");return o.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",o.displayName)),O}while(1<=E&&0<=T);break}}}finally{ae=!1,Error.prepareStackTrace=d}return(o=o?o.displayName||o.name:"")?U(o):""}function Me(o){switch(o.tag){case 5:return U(o.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return o=ie(o.type,!1),o;case 11:return o=ie(o.type.render,!1),o;case 1:return o=ie(o.type,!0),o;default:return""}}function he(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case L:return"Fragment";case I:return"Portal";case K:return"Profiler";case P:return"StrictMode";case be:return"Suspense";case le:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case W:return(o.displayName||"Context")+".Consumer";case X:return(o._context.displayName||"Context")+".Provider";case Y:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ye:return l=o.displayName||null,l!==null?l:he(o.type)||"Memo";case re:l=o._payload,o=o._init;try{return he(o(l))}catch{}}return null}function ve(o){var l=o.type;switch(o.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=l.render,o=o.displayName||o.name||"",l.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(l);case 8:return l===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Oe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Re(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function oe(o){var l=Re(o)?"checked":"value",d=Object.getOwnPropertyDescriptor(o.constructor.prototype,l),g=""+o[l];if(!o.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,b=d.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return v.call(this)},set:function(E){g=""+E,b.call(this,E)}}),Object.defineProperty(o,l,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(E){g=""+E},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function Ve(o){o._valueTracker||(o._valueTracker=oe(o))}function Ze(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var d=l.getValue(),g="";return o&&(g=Re(o)?o.checked?"true":"false":o.value),o=g,o!==d?(l.setValue(o),!0):!1}function Ht(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function as(o,l){var d=l.checked;return q({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??o._wrapperState.initialChecked})}function Rn(o,l){var d=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;d=Oe(l.value!=null?l.value:d),o._wrapperState={initialChecked:g,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Rr(o,l){l=l.checked,l!=null&&A(o,"checked",l,!1)}function Mt(o,l){Rr(o,l);var d=Oe(l.value),g=l.type;if(d!=null)g==="number"?(d===0&&o.value===""||o.value!=d)&&(o.value=""+d):o.value!==""+d&&(o.value=""+d);else if(g==="submit"||g==="reset"){o.removeAttribute("value");return}l.hasOwnProperty("value")?bt(o,l.type,d):l.hasOwnProperty("defaultValue")&&bt(o,l.type,Oe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(o.defaultChecked=!!l.defaultChecked)}function wn(o,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+o._wrapperState.initialValue,d||l===o.value||(o.value=l),o.defaultValue=l}d=o.name,d!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,d!==""&&(o.name=d)}function bt(o,l,d){(l!=="number"||Ht(o.ownerDocument)!==o)&&(d==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+d&&(o.defaultValue=""+d))}var Wt=Array.isArray;function ls(o,l,d,g){if(o=o.options,l){l={};for(var v=0;v<d.length;v++)l["$"+d[v]]=!0;for(d=0;d<o.length;d++)v=l.hasOwnProperty("$"+o[d].value),o[d].selected!==v&&(o[d].selected=v),v&&g&&(o[d].defaultSelected=!0)}else{for(d=""+Oe(d),l=null,v=0;v<o.length;v++){if(o[v].value===d){o[v].selected=!0,g&&(o[v].defaultSelected=!0);return}l!==null||o[v].disabled||(l=o[v])}l!==null&&(l.selected=!0)}}function Ea(o,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return q({},l,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function xc(o,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(n(92));if(Wt(d)){if(1<d.length)throw Error(n(93));d=d[0]}l=d}l==null&&(l=""),d=l}o._wrapperState={initialValue:Oe(d)}}function yc(o,l){var d=Oe(l.value),g=Oe(l.defaultValue);d!=null&&(d=""+d,d!==o.value&&(o.value=d),l.defaultValue==null&&o.defaultValue!==d&&(o.defaultValue=d)),g!=null&&(o.defaultValue=""+g)}function ui(o){var l=o.textContent;l===o._wrapperState.initialValue&&l!==""&&l!==null&&(o.value=l)}function vc(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dr(o,l){return o==null||o==="http://www.w3.org/1999/xhtml"?vc(l):o==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var cs,us=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,g,v){MSApp.execUnsafeLocalFunction(function(){return o(l,d,g,v)})}:o})(function(o,l){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=l;else{for(cs=cs||document.createElement("div"),cs.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=cs.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;l.firstChild;)o.appendChild(l.firstChild)}});function Pr(o,l){if(l){var d=o.firstChild;if(d&&d===o.lastChild&&d.nodeType===3){d.nodeValue=l;return}}o.textContent=l}var Dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fr=["Webkit","ms","Moz","O"];Object.keys(Dr).forEach(function(o){fr.forEach(function(l){l=l+o.charAt(0).toUpperCase()+o.substring(1),Dr[l]=Dr[o]})});function di(o,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Dr.hasOwnProperty(o)&&Dr[o]?(""+l).trim():l+"px"}function un(o,l){o=o.style;for(var d in l)if(l.hasOwnProperty(d)){var g=d.indexOf("--")===0,v=di(d,l[d],g);d==="float"&&(d="cssFloat"),g?o.setProperty(d,v):o[d]=v}}var ho=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pn(o,l){if(l){if(ho[o]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function fi(o,l){if(o.indexOf("-")===-1)return typeof l.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function hi(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var mi=null,Ir=null,Or=null;function Ma(o){if(o=Ya(o)){if(typeof mi!="function")throw Error(n(280));var l=o.stateNode;l&&(l=Wc(l),mi(o.stateNode,o.type,l))}}function wc(o){Ir?Or?Or.push(o):Or=[o]:Ir=o}function gi(){if(Ir){var o=Ir,l=Or;if(Or=Ir=null,Ma(o),l)for(o=0;o<l.length;o++)Ma(l[o])}}function mo(o,l){return o(l)}function Ta(){}var xi=!1;function Ce(o,l,d){if(xi)return o(l,d);xi=!0;try{return mo(o,l,d)}finally{xi=!1,(Ir!==null||Or!==null)&&(Ta(),gi())}}function yi(o,l){var d=o.stateNode;if(d===null)return null;var g=Wc(d);if(g===null)return null;d=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(d&&typeof d!="function")throw Error(n(231,l,typeof d));return d}var Aa=!1;if(c)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{Aa=!1}function ep(o,l,d,g,v,b,E,T,O){var $=Array.prototype.slice.call(arguments,3);try{l.apply(d,$)}catch(Q){this.onError(Q)}}var vi=!1,wi=null,bi=!1,ja=null,bc={onError:function(o){vi=!0,wi=o}};function kc(o,l,d,g,v,b,E,T,O){vi=!1,wi=null,ep.apply(bc,arguments)}function Sc(o,l,d,g,v,b,E,T,O){if(kc.apply(this,arguments),vi){if(vi){var $=wi;vi=!1,wi=null}else throw Error(n(198));bi||(bi=!0,ja=$)}}function pr(o){var l=o,d=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(d=l.return),o=l.return;while(o)}return l.tag===3?d:null}function de(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function R(o){if(pr(o)!==o)throw Error(n(188))}function G(o){var l=o.alternate;if(!l){if(l=pr(o),l===null)throw Error(n(188));return l!==o?null:o}for(var d=o,g=l;;){var v=d.return;if(v===null)break;var b=v.alternate;if(b===null){if(g=v.return,g!==null){d=g;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===d)return R(v),o;if(b===g)return R(v),l;b=b.sibling}throw Error(n(188))}if(d.return!==g.return)d=v,g=b;else{for(var E=!1,T=v.child;T;){if(T===d){E=!0,d=v,g=b;break}if(T===g){E=!0,g=v,d=b;break}T=T.sibling}if(!E){for(T=b.child;T;){if(T===d){E=!0,d=b,g=v;break}if(T===g){E=!0,g=b,d=v;break}T=T.sibling}if(!E)throw Error(n(189))}}if(d.alternate!==g)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?o:l}function Se(o){return o=G(o),o!==null?Ie(o):null}function Ie(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var l=Ie(o);if(l!==null)return l;o=o.sibling}return null}var Tt=e.unstable_scheduleCallback,Zt=e.unstable_cancelCallback,Yn=e.unstable_shouldYield,at=e.unstable_requestPaint,$e=e.unstable_now,ds=e.unstable_getCurrentPriorityLevel,ki=e.unstable_ImmediatePriority,ly=e.unstable_UserBlockingPriority,Cc=e.unstable_NormalPriority,NA=e.unstable_LowPriority,cy=e.unstable_IdlePriority,Nc=null,hr=null;function EA(o){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Nc,o,void 0,(o.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:AA,MA=Math.log,TA=Math.LN2;function AA(o){return o>>>=0,o===0?32:31-(MA(o)/TA|0)|0}var Ec=64,Mc=4194304;function Ra(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Tc(o,l){var d=o.pendingLanes;if(d===0)return 0;var g=0,v=o.suspendedLanes,b=o.pingedLanes,E=d&268435455;if(E!==0){var T=E&~v;T!==0?g=Ra(T):(b&=E,b!==0&&(g=Ra(b)))}else E=d&~v,E!==0?g=Ra(E):b!==0&&(g=Ra(b));if(g===0)return 0;if(l!==0&&l!==g&&(l&v)===0&&(v=g&-g,b=l&-l,v>=b||v===16&&(b&4194240)!==0))return l;if((g&4)!==0&&(g|=d&16),l=o.entangledLanes,l!==0)for(o=o.entanglements,l&=g;0<l;)d=31-Jn(l),v=1<<d,g|=o[d],l&=~v;return g}function jA(o,l){switch(o){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RA(o,l){for(var d=o.suspendedLanes,g=o.pingedLanes,v=o.expirationTimes,b=o.pendingLanes;0<b;){var E=31-Jn(b),T=1<<E,O=v[E];O===-1?((T&d)===0||(T&g)!==0)&&(v[E]=jA(T,l)):O<=l&&(o.expiredLanes|=T),b&=~T}}function tp(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function uy(){var o=Ec;return Ec<<=1,(Ec&4194240)===0&&(Ec=64),o}function np(o){for(var l=[],d=0;31>d;d++)l.push(o);return l}function Pa(o,l,d){o.pendingLanes|=l,l!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,l=31-Jn(l),o[l]=d}function PA(o,l){var d=o.pendingLanes&~l;o.pendingLanes=l,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=l,o.mutableReadLanes&=l,o.entangledLanes&=l,l=o.entanglements;var g=o.eventTimes;for(o=o.expirationTimes;0<d;){var v=31-Jn(d),b=1<<v;l[v]=0,g[v]=-1,o[v]=-1,d&=~b}}function rp(o,l){var d=o.entangledLanes|=l;for(o=o.entanglements;d;){var g=31-Jn(d),v=1<<g;v&l|o[g]&l&&(o[g]|=l),d&=~v}}var Ue=0;function dy(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var fy,sp,py,hy,my,ip=!1,Ac=[],fs=null,ps=null,hs=null,Da=new Map,Ia=new Map,ms=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gy(o,l){switch(o){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Da.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(l.pointerId)}}function Oa(o,l,d,g,v,b){return o===null||o.nativeEvent!==b?(o={blockedOn:l,domEventName:d,eventSystemFlags:g,nativeEvent:b,targetContainers:[v]},l!==null&&(l=Ya(l),l!==null&&sp(l)),o):(o.eventSystemFlags|=g,l=o.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),o)}function IA(o,l,d,g,v){switch(l){case"focusin":return fs=Oa(fs,o,l,d,g,v),!0;case"dragenter":return ps=Oa(ps,o,l,d,g,v),!0;case"mouseover":return hs=Oa(hs,o,l,d,g,v),!0;case"pointerover":var b=v.pointerId;return Da.set(b,Oa(Da.get(b)||null,o,l,d,g,v)),!0;case"gotpointercapture":return b=v.pointerId,Ia.set(b,Oa(Ia.get(b)||null,o,l,d,g,v)),!0}return!1}function xy(o){var l=Si(o.target);if(l!==null){var d=pr(l);if(d!==null){if(l=d.tag,l===13){if(l=de(d),l!==null){o.blockedOn=l,my(o.priority,function(){py(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){o.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}o.blockedOn=null}function jc(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var d=ap(o.domEventName,o.eventSystemFlags,l[0],o.nativeEvent);if(d===null){d=o.nativeEvent;var g=new d.constructor(d.type,d);pi=g,d.target.dispatchEvent(g),pi=null}else return l=Ya(d),l!==null&&sp(l),o.blockedOn=d,!1;l.shift()}return!0}function yy(o,l,d){jc(o)&&d.delete(l)}function OA(){ip=!1,fs!==null&&jc(fs)&&(fs=null),ps!==null&&jc(ps)&&(ps=null),hs!==null&&jc(hs)&&(hs=null),Da.forEach(yy),Ia.forEach(yy)}function La(o,l){o.blockedOn===l&&(o.blockedOn=null,ip||(ip=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,OA)))}function _a(o){function l(v){return La(v,o)}if(0<Ac.length){La(Ac[0],o);for(var d=1;d<Ac.length;d++){var g=Ac[d];g.blockedOn===o&&(g.blockedOn=null)}}for(fs!==null&&La(fs,o),ps!==null&&La(ps,o),hs!==null&&La(hs,o),Da.forEach(l),Ia.forEach(l),d=0;d<ms.length;d++)g=ms[d],g.blockedOn===o&&(g.blockedOn=null);for(;0<ms.length&&(d=ms[0],d.blockedOn===null);)xy(d),d.blockedOn===null&&ms.shift()}var go=D.ReactCurrentBatchConfig,Rc=!0;function LA(o,l,d,g){var v=Ue,b=go.transition;go.transition=null;try{Ue=1,op(o,l,d,g)}finally{Ue=v,go.transition=b}}function _A(o,l,d,g){var v=Ue,b=go.transition;go.transition=null;try{Ue=4,op(o,l,d,g)}finally{Ue=v,go.transition=b}}function op(o,l,d,g){if(Rc){var v=ap(o,l,d,g);if(v===null)Cp(o,l,g,Pc,d),gy(o,g);else if(IA(v,o,l,d,g))g.stopPropagation();else if(gy(o,g),l&4&&-1<DA.indexOf(o)){for(;v!==null;){var b=Ya(v);if(b!==null&&fy(b),b=ap(o,l,d,g),b===null&&Cp(o,l,g,Pc,d),b===v)break;v=b}v!==null&&g.stopPropagation()}else Cp(o,l,g,null,d)}}var Pc=null;function ap(o,l,d,g){if(Pc=null,o=hi(g),o=Si(o),o!==null)if(l=pr(o),l===null)o=null;else if(d=l.tag,d===13){if(o=de(l),o!==null)return o;o=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null);return Pc=o,null}function vy(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ds()){case ki:return 1;case ly:return 4;case Cc:case NA:return 16;case cy:return 536870912;default:return 16}default:return 16}}var gs=null,lp=null,Dc=null;function wy(){if(Dc)return Dc;var o,l=lp,d=l.length,g,v="value"in gs?gs.value:gs.textContent,b=v.length;for(o=0;o<d&&l[o]===v[o];o++);var E=d-o;for(g=1;g<=E&&l[d-g]===v[b-g];g++);return Dc=v.slice(o,1<g?1-g:void 0)}function Ic(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function Oc(){return!0}function by(){return!1}function bn(o){function l(d,g,v,b,E){this._reactName=d,this._targetInst=v,this.type=g,this.nativeEvent=b,this.target=E,this.currentTarget=null;for(var T in o)o.hasOwnProperty(T)&&(d=o[T],this[T]=d?d(b):b[T]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Oc:by,this.isPropagationStopped=by,this}return q(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Oc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Oc)},persist:function(){},isPersistent:Oc}),l}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cp=bn(xo),za=q({},xo,{view:0,detail:0}),zA=bn(za),up,dp,Fa,Lc=q({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Fa&&(Fa&&o.type==="mousemove"?(up=o.screenX-Fa.screenX,dp=o.screenY-Fa.screenY):dp=up=0,Fa=o),up)},movementY:function(o){return"movementY"in o?o.movementY:dp}}),ky=bn(Lc),FA=q({},Lc,{dataTransfer:0}),BA=bn(FA),VA=q({},za,{relatedTarget:0}),fp=bn(VA),$A=q({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),HA=bn($A),WA=q({},xo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),UA=bn(WA),KA=q({},xo,{data:0}),Sy=bn(KA),GA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JA(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=YA[o])?!!l[o]:!1}function pp(){return JA}var XA=q({},za,{key:function(o){if(o.key){var l=GA[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Ic(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?qA[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pp,charCode:function(o){return o.type==="keypress"?Ic(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ic(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),QA=bn(XA),ZA=q({},Lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cy=bn(ZA),e5=q({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pp}),t5=bn(e5),n5=q({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),r5=bn(n5),s5=q({},Lc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),i5=bn(s5),o5=[9,13,27,32],hp=c&&"CompositionEvent"in window,Ba=null;c&&"documentMode"in document&&(Ba=document.documentMode);var a5=c&&"TextEvent"in window&&!Ba,Ny=c&&(!hp||Ba&&8<Ba&&11>=Ba),Ey=" ",My=!1;function Ty(o,l){switch(o){case"keyup":return o5.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ay(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var yo=!1;function l5(o,l){switch(o){case"compositionend":return Ay(l);case"keypress":return l.which!==32?null:(My=!0,Ey);case"textInput":return o=l.data,o===Ey&&My?null:o;default:return null}}function c5(o,l){if(yo)return o==="compositionend"||!hp&&Ty(o,l)?(o=wy(),Dc=lp=gs=null,yo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ny&&l.locale!=="ko"?null:l.data;default:return null}}var u5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!u5[o.type]:l==="textarea"}function Ry(o,l,d,g){wc(g),l=Vc(l,"onChange"),0<l.length&&(d=new cp("onChange","change",null,d,g),o.push({event:d,listeners:l}))}var Va=null,$a=null;function d5(o){Yy(o,0)}function _c(o){var l=So(o);if(Ze(l))return o}function f5(o,l){if(o==="change")return l}var Py=!1;if(c){var mp;if(c){var gp="oninput"in document;if(!gp){var Dy=document.createElement("div");Dy.setAttribute("oninput","return;"),gp=typeof Dy.oninput=="function"}mp=gp}else mp=!1;Py=mp&&(!document.documentMode||9<document.documentMode)}function Iy(){Va&&(Va.detachEvent("onpropertychange",Oy),$a=Va=null)}function Oy(o){if(o.propertyName==="value"&&_c($a)){var l=[];Ry(l,$a,o,hi(o)),Ce(d5,l)}}function p5(o,l,d){o==="focusin"?(Iy(),Va=l,$a=d,Va.attachEvent("onpropertychange",Oy)):o==="focusout"&&Iy()}function h5(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return _c($a)}function m5(o,l){if(o==="click")return _c(l)}function g5(o,l){if(o==="input"||o==="change")return _c(l)}function x5(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var Xn=typeof Object.is=="function"?Object.is:x5;function Ha(o,l){if(Xn(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var d=Object.keys(o),g=Object.keys(l);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var v=d[g];if(!u.call(l,v)||!Xn(o[v],l[v]))return!1}return!0}function Ly(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function _y(o,l){var d=Ly(o);o=0;for(var g;d;){if(d.nodeType===3){if(g=o+d.textContent.length,o<=l&&g>=l)return{node:d,offset:l-o};o=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ly(d)}}function zy(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?zy(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Fy(){for(var o=window,l=Ht();l instanceof o.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)o=l.contentWindow;else break;l=Ht(o.document)}return l}function xp(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}function y5(o){var l=Fy(),d=o.focusedElem,g=o.selectionRange;if(l!==d&&d&&d.ownerDocument&&zy(d.ownerDocument.documentElement,d)){if(g!==null&&xp(d)){if(l=g.start,o=g.end,o===void 0&&(o=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(o,d.value.length);else if(o=(l=d.ownerDocument||document)&&l.defaultView||window,o.getSelection){o=o.getSelection();var v=d.textContent.length,b=Math.min(g.start,v);g=g.end===void 0?b:Math.min(g.end,v),!o.extend&&b>g&&(v=g,g=b,b=v),v=_y(d,b);var E=_y(d,g);v&&E&&(o.rangeCount!==1||o.anchorNode!==v.node||o.anchorOffset!==v.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(l=l.createRange(),l.setStart(v.node,v.offset),o.removeAllRanges(),b>g?(o.addRange(l),o.extend(E.node,E.offset)):(l.setEnd(E.node,E.offset),o.addRange(l)))}}for(l=[],o=d;o=o.parentNode;)o.nodeType===1&&l.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)o=l[d],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var v5=c&&"documentMode"in document&&11>=document.documentMode,vo=null,yp=null,Wa=null,vp=!1;function By(o,l,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;vp||vo==null||vo!==Ht(g)||(g=vo,"selectionStart"in g&&xp(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Wa&&Ha(Wa,g)||(Wa=g,g=Vc(yp,"onSelect"),0<g.length&&(l=new cp("onSelect","select",null,l,d),o.push({event:l,listeners:g}),l.target=vo)))}function zc(o,l){var d={};return d[o.toLowerCase()]=l.toLowerCase(),d["Webkit"+o]="webkit"+l,d["Moz"+o]="moz"+l,d}var wo={animationend:zc("Animation","AnimationEnd"),animationiteration:zc("Animation","AnimationIteration"),animationstart:zc("Animation","AnimationStart"),transitionend:zc("Transition","TransitionEnd")},wp={},Vy={};c&&(Vy=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function Fc(o){if(wp[o])return wp[o];if(!wo[o])return o;var l=wo[o],d;for(d in l)if(l.hasOwnProperty(d)&&d in Vy)return wp[o]=l[d];return o}var $y=Fc("animationend"),Hy=Fc("animationiteration"),Wy=Fc("animationstart"),Uy=Fc("transitionend"),Ky=new Map,Gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(o,l){Ky.set(o,l),i(l,[o])}for(var bp=0;bp<Gy.length;bp++){var kp=Gy[bp],w5=kp.toLowerCase(),b5=kp[0].toUpperCase()+kp.slice(1);xs(w5,"on"+b5)}xs($y,"onAnimationEnd"),xs(Hy,"onAnimationIteration"),xs(Wy,"onAnimationStart"),xs("dblclick","onDoubleClick"),xs("focusin","onFocus"),xs("focusout","onBlur"),xs(Uy,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function qy(o,l,d){var g=o.type||"unknown-event";o.currentTarget=d,Sc(g,l,void 0,o),o.currentTarget=null}function Yy(o,l){l=(l&4)!==0;for(var d=0;d<o.length;d++){var g=o[d],v=g.event;g=g.listeners;e:{var b=void 0;if(l)for(var E=g.length-1;0<=E;E--){var T=g[E],O=T.instance,$=T.currentTarget;if(T=T.listener,O!==b&&v.isPropagationStopped())break e;qy(v,T,$),b=O}else for(E=0;E<g.length;E++){if(T=g[E],O=T.instance,$=T.currentTarget,T=T.listener,O!==b&&v.isPropagationStopped())break e;qy(v,T,$),b=O}}}if(bi)throw o=ja,bi=!1,ja=null,o}function Ye(o,l){var d=l[jp];d===void 0&&(d=l[jp]=new Set);var g=o+"__bubble";d.has(g)||(Jy(l,o,2,!1),d.add(g))}function Sp(o,l,d){var g=0;l&&(g|=4),Jy(d,o,g,l)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Ka(o){if(!o[Bc]){o[Bc]=!0,r.forEach(function(d){d!=="selectionchange"&&(k5.has(d)||Sp(d,!1,o),Sp(d,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[Bc]||(l[Bc]=!0,Sp("selectionchange",!1,l))}}function Jy(o,l,d,g){switch(vy(l)){case 1:var v=LA;break;case 4:v=_A;break;default:v=op}d=v.bind(null,l,d,o),v=void 0,!Aa||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),g?v!==void 0?o.addEventListener(l,d,{capture:!0,passive:v}):o.addEventListener(l,d,!0):v!==void 0?o.addEventListener(l,d,{passive:v}):o.addEventListener(l,d,!1)}function Cp(o,l,d,g,v){var b=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var E=g.tag;if(E===3||E===4){var T=g.stateNode.containerInfo;if(T===v||T.nodeType===8&&T.parentNode===v)break;if(E===4)for(E=g.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===v||O.nodeType===8&&O.parentNode===v))return;E=E.return}for(;T!==null;){if(E=Si(T),E===null)return;if(O=E.tag,O===5||O===6){g=b=E;continue e}T=T.parentNode}}g=g.return}Ce(function(){var $=b,Q=hi(d),ee=[];e:{var J=Ky.get(o);if(J!==void 0){var ce=cp,me=o;switch(o){case"keypress":if(Ic(d)===0)break e;case"keydown":case"keyup":ce=QA;break;case"focusin":me="focus",ce=fp;break;case"focusout":me="blur",ce=fp;break;case"beforeblur":case"afterblur":ce=fp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=BA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=t5;break;case $y:case Hy:case Wy:ce=HA;break;case Uy:ce=r5;break;case"scroll":ce=zA;break;case"wheel":ce=i5;break;case"copy":case"cut":case"paste":ce=UA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Cy}var we=(l&4)!==0,pt=!we&&o==="scroll",B=we?J!==null?J+"Capture":null:J;we=[];for(var z=$,V;z!==null;){V=z;var se=V.stateNode;if(V.tag===5&&se!==null&&(V=se,B!==null&&(se=yi(z,B),se!=null&&we.push(Ga(z,se,V)))),pt)break;z=z.return}0<we.length&&(J=new ce(J,me,null,d,Q),ee.push({event:J,listeners:we}))}}if((l&7)===0){e:{if(J=o==="mouseover"||o==="pointerover",ce=o==="mouseout"||o==="pointerout",J&&d!==pi&&(me=d.relatedTarget||d.fromElement)&&(Si(me)||me[Lr]))break e;if((ce||J)&&(J=Q.window===Q?Q:(J=Q.ownerDocument)?J.defaultView||J.parentWindow:window,ce?(me=d.relatedTarget||d.toElement,ce=$,me=me?Si(me):null,me!==null&&(pt=pr(me),me!==pt||me.tag!==5&&me.tag!==6)&&(me=null)):(ce=null,me=$),ce!==me)){if(we=ky,se="onMouseLeave",B="onMouseEnter",z="mouse",(o==="pointerout"||o==="pointerover")&&(we=Cy,se="onPointerLeave",B="onPointerEnter",z="pointer"),pt=ce==null?J:So(ce),V=me==null?J:So(me),J=new we(se,z+"leave",ce,d,Q),J.target=pt,J.relatedTarget=V,se=null,Si(Q)===$&&(we=new we(B,z+"enter",me,d,Q),we.target=V,we.relatedTarget=pt,se=we),pt=se,ce&&me)t:{for(we=ce,B=me,z=0,V=we;V;V=bo(V))z++;for(V=0,se=B;se;se=bo(se))V++;for(;0<z-V;)we=bo(we),z--;for(;0<V-z;)B=bo(B),V--;for(;z--;){if(we===B||B!==null&&we===B.alternate)break t;we=bo(we),B=bo(B)}we=null}else we=null;ce!==null&&Xy(ee,J,ce,we,!1),me!==null&&pt!==null&&Xy(ee,pt,me,we,!0)}}e:{if(J=$?So($):window,ce=J.nodeName&&J.nodeName.toLowerCase(),ce==="select"||ce==="input"&&J.type==="file")var ke=f5;else if(jy(J))if(Py)ke=g5;else{ke=h5;var Te=p5}else(ce=J.nodeName)&&ce.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ke=m5);if(ke&&(ke=ke(o,$))){Ry(ee,ke,d,Q);break e}Te&&Te(o,J,$),o==="focusout"&&(Te=J._wrapperState)&&Te.controlled&&J.type==="number"&&bt(J,"number",J.value)}switch(Te=$?So($):window,o){case"focusin":(jy(Te)||Te.contentEditable==="true")&&(vo=Te,yp=$,Wa=null);break;case"focusout":Wa=yp=vo=null;break;case"mousedown":vp=!0;break;case"contextmenu":case"mouseup":case"dragend":vp=!1,By(ee,d,Q);break;case"selectionchange":if(v5)break;case"keydown":case"keyup":By(ee,d,Q)}var Ae;if(hp)e:{switch(o){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else yo?Ty(o,d)&&(Pe="onCompositionEnd"):o==="keydown"&&d.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ny&&d.locale!=="ko"&&(yo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&yo&&(Ae=wy()):(gs=Q,lp="value"in gs?gs.value:gs.textContent,yo=!0)),Te=Vc($,Pe),0<Te.length&&(Pe=new Sy(Pe,o,null,d,Q),ee.push({event:Pe,listeners:Te}),Ae?Pe.data=Ae:(Ae=Ay(d),Ae!==null&&(Pe.data=Ae)))),(Ae=a5?l5(o,d):c5(o,d))&&($=Vc($,"onBeforeInput"),0<$.length&&(Q=new Sy("onBeforeInput","beforeinput",null,d,Q),ee.push({event:Q,listeners:$}),Q.data=Ae))}Yy(ee,l)})}function Ga(o,l,d){return{instance:o,listener:l,currentTarget:d}}function Vc(o,l){for(var d=l+"Capture",g=[];o!==null;){var v=o,b=v.stateNode;v.tag===5&&b!==null&&(v=b,b=yi(o,d),b!=null&&g.unshift(Ga(o,b,v)),b=yi(o,l),b!=null&&g.push(Ga(o,b,v))),o=o.return}return g}function bo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Xy(o,l,d,g,v){for(var b=l._reactName,E=[];d!==null&&d!==g;){var T=d,O=T.alternate,$=T.stateNode;if(O!==null&&O===g)break;T.tag===5&&$!==null&&(T=$,v?(O=yi(d,b),O!=null&&E.unshift(Ga(d,O,T))):v||(O=yi(d,b),O!=null&&E.push(Ga(d,O,T)))),d=d.return}E.length!==0&&o.push({event:l,listeners:E})}var S5=/\r\n?/g,C5=/\u0000|\uFFFD/g;function Qy(o){return(typeof o=="string"?o:""+o).replace(S5,`
`).replace(C5,"")}function $c(o,l,d){if(l=Qy(l),Qy(o)!==l&&d)throw Error(n(425))}function Hc(){}var Np=null,Ep=null;function Mp(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,N5=typeof clearTimeout=="function"?clearTimeout:void 0,Zy=typeof Promise=="function"?Promise:void 0,E5=typeof queueMicrotask=="function"?queueMicrotask:typeof Zy<"u"?function(o){return Zy.resolve(null).then(o).catch(M5)}:Tp;function M5(o){setTimeout(function(){throw o})}function Ap(o,l){var d=l,g=0;do{var v=d.nextSibling;if(o.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(g===0){o.removeChild(v),_a(l);return}g--}else d!=="$"&&d!=="$?"&&d!=="$!"||g++;d=v}while(d);_a(l)}function ys(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return o}function ev(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return o;l--}else d==="/$"&&l++}o=o.previousSibling}return null}var ko=Math.random().toString(36).slice(2),mr="__reactFiber$"+ko,qa="__reactProps$"+ko,Lr="__reactContainer$"+ko,jp="__reactEvents$"+ko,T5="__reactListeners$"+ko,A5="__reactHandles$"+ko;function Si(o){var l=o[mr];if(l)return l;for(var d=o.parentNode;d;){if(l=d[Lr]||d[mr]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(o=ev(o);o!==null;){if(d=o[mr])return d;o=ev(o)}return l}o=d,d=o.parentNode}return null}function Ya(o){return o=o[mr]||o[Lr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function So(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Wc(o){return o[qa]||null}var Rp=[],Co=-1;function vs(o){return{current:o}}function Je(o){0>Co||(o.current=Rp[Co],Rp[Co]=null,Co--)}function qe(o,l){Co++,Rp[Co]=o.current,o.current=l}var ws={},Ut=vs(ws),fn=vs(!1),Ci=ws;function No(o,l){var d=o.type.contextTypes;if(!d)return ws;var g=o.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var v={},b;for(b in d)v[b]=l[b];return g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=l,o.__reactInternalMemoizedMaskedChildContext=v),v}function pn(o){return o=o.childContextTypes,o!=null}function Uc(){Je(fn),Je(Ut)}function tv(o,l,d){if(Ut.current!==ws)throw Error(n(168));qe(Ut,l),qe(fn,d)}function nv(o,l,d){var g=o.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return d;g=g.getChildContext();for(var v in g)if(!(v in l))throw Error(n(108,ve(o)||"Unknown",v));return q({},d,g)}function Kc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ws,Ci=Ut.current,qe(Ut,o),qe(fn,fn.current),!0}function rv(o,l,d){var g=o.stateNode;if(!g)throw Error(n(169));d?(o=nv(o,l,Ci),g.__reactInternalMemoizedMergedChildContext=o,Je(fn),Je(Ut),qe(Ut,o)):Je(fn),qe(fn,d)}var _r=null,Gc=!1,Pp=!1;function sv(o){_r===null?_r=[o]:_r.push(o)}function j5(o){Gc=!0,sv(o)}function bs(){if(!Pp&&_r!==null){Pp=!0;var o=0,l=Ue;try{var d=_r;for(Ue=1;o<d.length;o++){var g=d[o];do g=g(!0);while(g!==null)}_r=null,Gc=!1}catch(v){throw _r!==null&&(_r=_r.slice(o+1)),Tt(ki,bs),v}finally{Ue=l,Pp=!1}}return null}var Eo=[],Mo=0,qc=null,Yc=0,Dn=[],In=0,Ni=null,zr=1,Fr="";function Ei(o,l){Eo[Mo++]=Yc,Eo[Mo++]=qc,qc=o,Yc=l}function iv(o,l,d){Dn[In++]=zr,Dn[In++]=Fr,Dn[In++]=Ni,Ni=o;var g=zr;o=Fr;var v=32-Jn(g)-1;g&=~(1<<v),d+=1;var b=32-Jn(l)+v;if(30<b){var E=v-v%5;b=(g&(1<<E)-1).toString(32),g>>=E,v-=E,zr=1<<32-Jn(l)+v|d<<v|g,Fr=b+o}else zr=1<<b|d<<v|g,Fr=o}function Dp(o){o.return!==null&&(Ei(o,1),iv(o,1,0))}function Ip(o){for(;o===qc;)qc=Eo[--Mo],Eo[Mo]=null,Yc=Eo[--Mo],Eo[Mo]=null;for(;o===Ni;)Ni=Dn[--In],Dn[In]=null,Fr=Dn[--In],Dn[In]=null,zr=Dn[--In],Dn[In]=null}var kn=null,Sn=null,et=!1,Qn=null;function ov(o,l){var d=zn(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=o,l=o.deletions,l===null?(o.deletions=[d],o.flags|=16):l.push(d)}function av(o,l){switch(o.tag){case 5:var d=o.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(o.stateNode=l,kn=o,Sn=ys(l.firstChild),!0):!1;case 6:return l=o.pendingProps===""||l.nodeType!==3?null:l,l!==null?(o.stateNode=l,kn=o,Sn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Ni!==null?{id:zr,overflow:Fr}:null,o.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=zn(18,null,null,0),d.stateNode=l,d.return=o,o.child=d,kn=o,Sn=null,!0):!1;default:return!1}}function Op(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Lp(o){if(et){var l=Sn;if(l){var d=l;if(!av(o,l)){if(Op(o))throw Error(n(418));l=ys(d.nextSibling);var g=kn;l&&av(o,l)?ov(g,d):(o.flags=o.flags&-4097|2,et=!1,kn=o)}}else{if(Op(o))throw Error(n(418));o.flags=o.flags&-4097|2,et=!1,kn=o}}}function lv(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;kn=o}function Jc(o){if(o!==kn)return!1;if(!et)return lv(o),et=!0,!1;var l;if((l=o.tag!==3)&&!(l=o.tag!==5)&&(l=o.type,l=l!=="head"&&l!=="body"&&!Mp(o.type,o.memoizedProps)),l&&(l=Sn)){if(Op(o))throw cv(),Error(n(418));for(;l;)ov(o,l),l=ys(l.nextSibling)}if(lv(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,l=0;o;){if(o.nodeType===8){var d=o.data;if(d==="/$"){if(l===0){Sn=ys(o.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}o=o.nextSibling}Sn=null}}else Sn=kn?ys(o.stateNode.nextSibling):null;return!0}function cv(){for(var o=Sn;o;)o=ys(o.nextSibling)}function To(){Sn=kn=null,et=!1}function _p(o){Qn===null?Qn=[o]:Qn.push(o)}var R5=D.ReactCurrentBatchConfig;function Ja(o,l,d){if(o=d.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var g=d.stateNode}if(!g)throw Error(n(147,o));var v=g,b=""+o;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===b?l.ref:(l=function(E){var T=v.refs;E===null?delete T[b]:T[b]=E},l._stringRef=b,l)}if(typeof o!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,o))}return o}function Xc(o,l){throw o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o))}function uv(o){var l=o._init;return l(o._payload)}function dv(o){function l(B,z){if(o){var V=B.deletions;V===null?(B.deletions=[z],B.flags|=16):V.push(z)}}function d(B,z){if(!o)return null;for(;z!==null;)l(B,z),z=z.sibling;return null}function g(B,z){for(B=new Map;z!==null;)z.key!==null?B.set(z.key,z):B.set(z.index,z),z=z.sibling;return B}function v(B,z){return B=As(B,z),B.index=0,B.sibling=null,B}function b(B,z,V){return B.index=V,o?(V=B.alternate,V!==null?(V=V.index,V<z?(B.flags|=2,z):V):(B.flags|=2,z)):(B.flags|=1048576,z)}function E(B){return o&&B.alternate===null&&(B.flags|=2),B}function T(B,z,V,se){return z===null||z.tag!==6?(z=Th(V,B.mode,se),z.return=B,z):(z=v(z,V),z.return=B,z)}function O(B,z,V,se){var ke=V.type;return ke===L?Q(B,z,V.props.children,se,V.key):z!==null&&(z.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===re&&uv(ke)===z.type)?(se=v(z,V.props),se.ref=Ja(B,z,V),se.return=B,se):(se=bu(V.type,V.key,V.props,null,B.mode,se),se.ref=Ja(B,z,V),se.return=B,se)}function $(B,z,V,se){return z===null||z.tag!==4||z.stateNode.containerInfo!==V.containerInfo||z.stateNode.implementation!==V.implementation?(z=Ah(V,B.mode,se),z.return=B,z):(z=v(z,V.children||[]),z.return=B,z)}function Q(B,z,V,se,ke){return z===null||z.tag!==7?(z=Ii(V,B.mode,se,ke),z.return=B,z):(z=v(z,V),z.return=B,z)}function ee(B,z,V){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Th(""+z,B.mode,V),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return V=bu(z.type,z.key,z.props,null,B.mode,V),V.ref=Ja(B,null,z),V.return=B,V;case I:return z=Ah(z,B.mode,V),z.return=B,z;case re:var se=z._init;return ee(B,se(z._payload),V)}if(Wt(z)||H(z))return z=Ii(z,B.mode,V,null),z.return=B,z;Xc(B,z)}return null}function J(B,z,V,se){var ke=z!==null?z.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return ke!==null?null:T(B,z,""+V,se);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return V.key===ke?O(B,z,V,se):null;case I:return V.key===ke?$(B,z,V,se):null;case re:return ke=V._init,J(B,z,ke(V._payload),se)}if(Wt(V)||H(V))return ke!==null?null:Q(B,z,V,se,null);Xc(B,V)}return null}function ce(B,z,V,se,ke){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get(V)||null,T(z,B,""+se,ke);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case j:return B=B.get(se.key===null?V:se.key)||null,O(z,B,se,ke);case I:return B=B.get(se.key===null?V:se.key)||null,$(z,B,se,ke);case re:var Te=se._init;return ce(B,z,V,Te(se._payload),ke)}if(Wt(se)||H(se))return B=B.get(V)||null,Q(z,B,se,ke,null);Xc(z,se)}return null}function me(B,z,V,se){for(var ke=null,Te=null,Ae=z,Pe=z=0,Rt=null;Ae!==null&&Pe<V.length;Pe++){Ae.index>Pe?(Rt=Ae,Ae=null):Rt=Ae.sibling;var We=J(B,Ae,V[Pe],se);if(We===null){Ae===null&&(Ae=Rt);break}o&&Ae&&We.alternate===null&&l(B,Ae),z=b(We,z,Pe),Te===null?ke=We:Te.sibling=We,Te=We,Ae=Rt}if(Pe===V.length)return d(B,Ae),et&&Ei(B,Pe),ke;if(Ae===null){for(;Pe<V.length;Pe++)Ae=ee(B,V[Pe],se),Ae!==null&&(z=b(Ae,z,Pe),Te===null?ke=Ae:Te.sibling=Ae,Te=Ae);return et&&Ei(B,Pe),ke}for(Ae=g(B,Ae);Pe<V.length;Pe++)Rt=ce(Ae,B,Pe,V[Pe],se),Rt!==null&&(o&&Rt.alternate!==null&&Ae.delete(Rt.key===null?Pe:Rt.key),z=b(Rt,z,Pe),Te===null?ke=Rt:Te.sibling=Rt,Te=Rt);return o&&Ae.forEach(function(js){return l(B,js)}),et&&Ei(B,Pe),ke}function we(B,z,V,se){var ke=H(V);if(typeof ke!="function")throw Error(n(150));if(V=ke.call(V),V==null)throw Error(n(151));for(var Te=ke=null,Ae=z,Pe=z=0,Rt=null,We=V.next();Ae!==null&&!We.done;Pe++,We=V.next()){Ae.index>Pe?(Rt=Ae,Ae=null):Rt=Ae.sibling;var js=J(B,Ae,We.value,se);if(js===null){Ae===null&&(Ae=Rt);break}o&&Ae&&js.alternate===null&&l(B,Ae),z=b(js,z,Pe),Te===null?ke=js:Te.sibling=js,Te=js,Ae=Rt}if(We.done)return d(B,Ae),et&&Ei(B,Pe),ke;if(Ae===null){for(;!We.done;Pe++,We=V.next())We=ee(B,We.value,se),We!==null&&(z=b(We,z,Pe),Te===null?ke=We:Te.sibling=We,Te=We);return et&&Ei(B,Pe),ke}for(Ae=g(B,Ae);!We.done;Pe++,We=V.next())We=ce(Ae,B,Pe,We.value,se),We!==null&&(o&&We.alternate!==null&&Ae.delete(We.key===null?Pe:We.key),z=b(We,z,Pe),Te===null?ke=We:Te.sibling=We,Te=We);return o&&Ae.forEach(function(u3){return l(B,u3)}),et&&Ei(B,Pe),ke}function pt(B,z,V,se){if(typeof V=="object"&&V!==null&&V.type===L&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case j:e:{for(var ke=V.key,Te=z;Te!==null;){if(Te.key===ke){if(ke=V.type,ke===L){if(Te.tag===7){d(B,Te.sibling),z=v(Te,V.props.children),z.return=B,B=z;break e}}else if(Te.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===re&&uv(ke)===Te.type){d(B,Te.sibling),z=v(Te,V.props),z.ref=Ja(B,Te,V),z.return=B,B=z;break e}d(B,Te);break}else l(B,Te);Te=Te.sibling}V.type===L?(z=Ii(V.props.children,B.mode,se,V.key),z.return=B,B=z):(se=bu(V.type,V.key,V.props,null,B.mode,se),se.ref=Ja(B,z,V),se.return=B,B=se)}return E(B);case I:e:{for(Te=V.key;z!==null;){if(z.key===Te)if(z.tag===4&&z.stateNode.containerInfo===V.containerInfo&&z.stateNode.implementation===V.implementation){d(B,z.sibling),z=v(z,V.children||[]),z.return=B,B=z;break e}else{d(B,z);break}else l(B,z);z=z.sibling}z=Ah(V,B.mode,se),z.return=B,B=z}return E(B);case re:return Te=V._init,pt(B,z,Te(V._payload),se)}if(Wt(V))return me(B,z,V,se);if(H(V))return we(B,z,V,se);Xc(B,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,z!==null&&z.tag===6?(d(B,z.sibling),z=v(z,V),z.return=B,B=z):(d(B,z),z=Th(V,B.mode,se),z.return=B,B=z),E(B)):d(B,z)}return pt}var Ao=dv(!0),fv=dv(!1),Qc=vs(null),Zc=null,jo=null,zp=null;function Fp(){zp=jo=Zc=null}function Bp(o){var l=Qc.current;Je(Qc),o._currentValue=l}function Vp(o,l,d){for(;o!==null;){var g=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),o===d)break;o=o.return}}function Ro(o,l){Zc=o,zp=jo=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&l)!==0&&(hn=!0),o.firstContext=null)}function On(o){var l=o._currentValue;if(zp!==o)if(o={context:o,memoizedValue:l,next:null},jo===null){if(Zc===null)throw Error(n(308));jo=o,Zc.dependencies={lanes:0,firstContext:o}}else jo=jo.next=o;return l}var Mi=null;function $p(o){Mi===null?Mi=[o]:Mi.push(o)}function pv(o,l,d,g){var v=l.interleaved;return v===null?(d.next=d,$p(l)):(d.next=v.next,v.next=d),l.interleaved=d,Br(o,g)}function Br(o,l){o.lanes|=l;var d=o.alternate;for(d!==null&&(d.lanes|=l),d=o,o=o.return;o!==null;)o.childLanes|=l,d=o.alternate,d!==null&&(d.childLanes|=l),d=o,o=o.return;return d.tag===3?d.stateNode:null}var ks=!1;function Hp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hv(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Vr(o,l){return{eventTime:o,lane:l,tag:0,payload:null,callback:null,next:null}}function Ss(o,l,d){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(He&2)!==0){var v=g.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),g.pending=l,Br(o,d)}return v=g.interleaved,v===null?(l.next=l,$p(g)):(l.next=v.next,v.next=l),g.interleaved=l,Br(o,d)}function eu(o,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,rp(o,d)}}function mv(o,l){var d=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var v=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var E={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?v=b=E:b=b.next=E,d=d.next}while(d!==null);b===null?v=b=l:b=b.next=l}else v=b=l;d={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:g.shared,effects:g.effects},o.updateQueue=d;return}o=d.lastBaseUpdate,o===null?d.firstBaseUpdate=l:o.next=l,d.lastBaseUpdate=l}function tu(o,l,d,g){var v=o.updateQueue;ks=!1;var b=v.firstBaseUpdate,E=v.lastBaseUpdate,T=v.shared.pending;if(T!==null){v.shared.pending=null;var O=T,$=O.next;O.next=null,E===null?b=$:E.next=$,E=O;var Q=o.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==E&&(T===null?Q.firstBaseUpdate=$:T.next=$,Q.lastBaseUpdate=O))}if(b!==null){var ee=v.baseState;E=0,Q=$=O=null,T=b;do{var J=T.lane,ce=T.eventTime;if((g&J)===J){Q!==null&&(Q=Q.next={eventTime:ce,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var me=o,we=T;switch(J=l,ce=d,we.tag){case 1:if(me=we.payload,typeof me=="function"){ee=me.call(ce,ee,J);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=we.payload,J=typeof me=="function"?me.call(ce,ee,J):me,J==null)break e;ee=q({},ee,J);break e;case 2:ks=!0}}T.callback!==null&&T.lane!==0&&(o.flags|=64,J=v.effects,J===null?v.effects=[T]:J.push(T))}else ce={eventTime:ce,lane:J,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?($=Q=ce,O=ee):Q=Q.next=ce,E|=J;if(T=T.next,T===null){if(T=v.shared.pending,T===null)break;J=T,T=J.next,J.next=null,v.lastBaseUpdate=J,v.shared.pending=null}}while(!0);if(Q===null&&(O=ee),v.baseState=O,v.firstBaseUpdate=$,v.lastBaseUpdate=Q,l=v.shared.interleaved,l!==null){v=l;do E|=v.lane,v=v.next;while(v!==l)}else b===null&&(v.shared.lanes=0);ji|=E,o.lanes=E,o.memoizedState=ee}}function gv(o,l,d){if(o=l.effects,l.effects=null,o!==null)for(l=0;l<o.length;l++){var g=o[l],v=g.callback;if(v!==null){if(g.callback=null,g=d,typeof v!="function")throw Error(n(191,v));v.call(g)}}}var Xa={},gr=vs(Xa),Qa=vs(Xa),Za=vs(Xa);function Ti(o){if(o===Xa)throw Error(n(174));return o}function Wp(o,l){switch(qe(Za,l),qe(Qa,o),qe(gr,Xa),o=l.nodeType,o){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:dr(null,"");break;default:o=o===8?l.parentNode:l,l=o.namespaceURI||null,o=o.tagName,l=dr(l,o)}Je(gr),qe(gr,l)}function Po(){Je(gr),Je(Qa),Je(Za)}function xv(o){Ti(Za.current);var l=Ti(gr.current),d=dr(l,o.type);l!==d&&(qe(Qa,o),qe(gr,d))}function Up(o){Qa.current===o&&(Je(gr),Je(Qa))}var tt=vs(0);function nu(o){for(var l=o;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Kp=[];function Gp(){for(var o=0;o<Kp.length;o++)Kp[o]._workInProgressVersionPrimary=null;Kp.length=0}var ru=D.ReactCurrentDispatcher,qp=D.ReactCurrentBatchConfig,Ai=0,nt=null,kt=null,At=null,su=!1,el=!1,tl=0,P5=0;function Kt(){throw Error(n(321))}function Yp(o,l){if(l===null)return!1;for(var d=0;d<l.length&&d<o.length;d++)if(!Xn(o[d],l[d]))return!1;return!0}function Jp(o,l,d,g,v,b){if(Ai=b,nt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ru.current=o===null||o.memoizedState===null?L5:_5,o=d(g,v),el){b=0;do{if(el=!1,tl=0,25<=b)throw Error(n(301));b+=1,At=kt=null,l.updateQueue=null,ru.current=z5,o=d(g,v)}while(el)}if(ru.current=au,l=kt!==null&&kt.next!==null,Ai=0,At=kt=nt=null,su=!1,l)throw Error(n(300));return o}function Xp(){var o=tl!==0;return tl=0,o}function xr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?nt.memoizedState=At=o:At=At.next=o,At}function Ln(){if(kt===null){var o=nt.alternate;o=o!==null?o.memoizedState:null}else o=kt.next;var l=At===null?nt.memoizedState:At.next;if(l!==null)At=l,kt=o;else{if(o===null)throw Error(n(310));kt=o,o={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},At===null?nt.memoizedState=At=o:At=At.next=o}return At}function nl(o,l){return typeof l=="function"?l(o):l}function Qp(o){var l=Ln(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var g=kt,v=g.baseQueue,b=d.pending;if(b!==null){if(v!==null){var E=v.next;v.next=b.next,b.next=E}g.baseQueue=v=b,d.pending=null}if(v!==null){b=v.next,g=g.baseState;var T=E=null,O=null,$=b;do{var Q=$.lane;if((Ai&Q)===Q)O!==null&&(O=O.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),g=$.hasEagerState?$.eagerState:o(g,$.action);else{var ee={lane:Q,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};O===null?(T=O=ee,E=g):O=O.next=ee,nt.lanes|=Q,ji|=Q}$=$.next}while($!==null&&$!==b);O===null?E=g:O.next=T,Xn(g,l.memoizedState)||(hn=!0),l.memoizedState=g,l.baseState=E,l.baseQueue=O,d.lastRenderedState=g}if(o=d.interleaved,o!==null){v=o;do b=v.lane,nt.lanes|=b,ji|=b,v=v.next;while(v!==o)}else v===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function Zp(o){var l=Ln(),d=l.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=o;var g=d.dispatch,v=d.pending,b=l.memoizedState;if(v!==null){d.pending=null;var E=v=v.next;do b=o(b,E.action),E=E.next;while(E!==v);Xn(b,l.memoizedState)||(hn=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),d.lastRenderedState=b}return[b,g]}function yv(){}function vv(o,l){var d=nt,g=Ln(),v=l(),b=!Xn(g.memoizedState,v);if(b&&(g.memoizedState=v,hn=!0),g=g.queue,eh(kv.bind(null,d,g,o),[o]),g.getSnapshot!==l||b||At!==null&&At.memoizedState.tag&1){if(d.flags|=2048,rl(9,bv.bind(null,d,g,v,l),void 0,null),jt===null)throw Error(n(349));(Ai&30)!==0||wv(d,l,v)}return v}function wv(o,l,d){o.flags|=16384,o={getSnapshot:l,value:d},l=nt.updateQueue,l===null?(l={lastEffect:null,stores:null},nt.updateQueue=l,l.stores=[o]):(d=l.stores,d===null?l.stores=[o]:d.push(o))}function bv(o,l,d,g){l.value=d,l.getSnapshot=g,Sv(l)&&Cv(o)}function kv(o,l,d){return d(function(){Sv(l)&&Cv(o)})}function Sv(o){var l=o.getSnapshot;o=o.value;try{var d=l();return!Xn(o,d)}catch{return!0}}function Cv(o){var l=Br(o,1);l!==null&&nr(l,o,1,-1)}function Nv(o){var l=xr();return typeof o=="function"&&(o=o()),l.memoizedState=l.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:o},l.queue=o,o=o.dispatch=O5.bind(null,nt,o),[l.memoizedState,o]}function rl(o,l,d,g){return o={tag:o,create:l,destroy:d,deps:g,next:null},l=nt.updateQueue,l===null?(l={lastEffect:null,stores:null},nt.updateQueue=l,l.lastEffect=o.next=o):(d=l.lastEffect,d===null?l.lastEffect=o.next=o:(g=d.next,d.next=o,o.next=g,l.lastEffect=o)),o}function Ev(){return Ln().memoizedState}function iu(o,l,d,g){var v=xr();nt.flags|=o,v.memoizedState=rl(1|l,d,void 0,g===void 0?null:g)}function ou(o,l,d,g){var v=Ln();g=g===void 0?null:g;var b=void 0;if(kt!==null){var E=kt.memoizedState;if(b=E.destroy,g!==null&&Yp(g,E.deps)){v.memoizedState=rl(l,d,b,g);return}}nt.flags|=o,v.memoizedState=rl(1|l,d,b,g)}function Mv(o,l){return iu(8390656,8,o,l)}function eh(o,l){return ou(2048,8,o,l)}function Tv(o,l){return ou(4,2,o,l)}function Av(o,l){return ou(4,4,o,l)}function jv(o,l){if(typeof l=="function")return o=o(),l(o),function(){l(null)};if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function Rv(o,l,d){return d=d!=null?d.concat([o]):null,ou(4,4,jv.bind(null,l,o),d)}function th(){}function Pv(o,l){var d=Ln();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Yp(l,g[1])?g[0]:(d.memoizedState=[o,l],o)}function Dv(o,l){var d=Ln();l=l===void 0?null:l;var g=d.memoizedState;return g!==null&&l!==null&&Yp(l,g[1])?g[0]:(o=o(),d.memoizedState=[o,l],o)}function Iv(o,l,d){return(Ai&21)===0?(o.baseState&&(o.baseState=!1,hn=!0),o.memoizedState=d):(Xn(d,l)||(d=uy(),nt.lanes|=d,ji|=d,o.baseState=!0),l)}function D5(o,l){var d=Ue;Ue=d!==0&&4>d?d:4,o(!0);var g=qp.transition;qp.transition={};try{o(!1),l()}finally{Ue=d,qp.transition=g}}function Ov(){return Ln().memoizedState}function I5(o,l,d){var g=Ms(o);if(d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},Lv(o))_v(l,d);else if(d=pv(o,l,d,g),d!==null){var v=tn();nr(d,o,g,v),zv(d,l,g)}}function O5(o,l,d){var g=Ms(o),v={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(Lv(o))_v(l,v);else{var b=o.alternate;if(o.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var E=l.lastRenderedState,T=b(E,d);if(v.hasEagerState=!0,v.eagerState=T,Xn(T,E)){var O=l.interleaved;O===null?(v.next=v,$p(l)):(v.next=O.next,O.next=v),l.interleaved=v;return}}catch{}finally{}d=pv(o,l,v,g),d!==null&&(v=tn(),nr(d,o,g,v),zv(d,l,g))}}function Lv(o){var l=o.alternate;return o===nt||l!==null&&l===nt}function _v(o,l){el=su=!0;var d=o.pending;d===null?l.next=l:(l.next=d.next,d.next=l),o.pending=l}function zv(o,l,d){if((d&4194240)!==0){var g=l.lanes;g&=o.pendingLanes,d|=g,l.lanes=d,rp(o,d)}}var au={readContext:On,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},L5={readContext:On,useCallback:function(o,l){return xr().memoizedState=[o,l===void 0?null:l],o},useContext:On,useEffect:Mv,useImperativeHandle:function(o,l,d){return d=d!=null?d.concat([o]):null,iu(4194308,4,jv.bind(null,l,o),d)},useLayoutEffect:function(o,l){return iu(4194308,4,o,l)},useInsertionEffect:function(o,l){return iu(4,2,o,l)},useMemo:function(o,l){var d=xr();return l=l===void 0?null:l,o=o(),d.memoizedState=[o,l],o},useReducer:function(o,l,d){var g=xr();return l=d!==void 0?d(l):l,g.memoizedState=g.baseState=l,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:l},g.queue=o,o=o.dispatch=I5.bind(null,nt,o),[g.memoizedState,o]},useRef:function(o){var l=xr();return o={current:o},l.memoizedState=o},useState:Nv,useDebugValue:th,useDeferredValue:function(o){return xr().memoizedState=o},useTransition:function(){var o=Nv(!1),l=o[0];return o=D5.bind(null,o[1]),xr().memoizedState=o,[l,o]},useMutableSource:function(){},useSyncExternalStore:function(o,l,d){var g=nt,v=xr();if(et){if(d===void 0)throw Error(n(407));d=d()}else{if(d=l(),jt===null)throw Error(n(349));(Ai&30)!==0||wv(g,l,d)}v.memoizedState=d;var b={value:d,getSnapshot:l};return v.queue=b,Mv(kv.bind(null,g,b,o),[o]),g.flags|=2048,rl(9,bv.bind(null,g,b,d,l),void 0,null),d},useId:function(){var o=xr(),l=jt.identifierPrefix;if(et){var d=Fr,g=zr;d=(g&~(1<<32-Jn(g)-1)).toString(32)+d,l=":"+l+"R"+d,d=tl++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=P5++,l=":"+l+"r"+d.toString(32)+":";return o.memoizedState=l},unstable_isNewReconciler:!1},_5={readContext:On,useCallback:Pv,useContext:On,useEffect:eh,useImperativeHandle:Rv,useInsertionEffect:Tv,useLayoutEffect:Av,useMemo:Dv,useReducer:Qp,useRef:Ev,useState:function(){return Qp(nl)},useDebugValue:th,useDeferredValue:function(o){var l=Ln();return Iv(l,kt.memoizedState,o)},useTransition:function(){var o=Qp(nl)[0],l=Ln().memoizedState;return[o,l]},useMutableSource:yv,useSyncExternalStore:vv,useId:Ov,unstable_isNewReconciler:!1},z5={readContext:On,useCallback:Pv,useContext:On,useEffect:eh,useImperativeHandle:Rv,useInsertionEffect:Tv,useLayoutEffect:Av,useMemo:Dv,useReducer:Zp,useRef:Ev,useState:function(){return Zp(nl)},useDebugValue:th,useDeferredValue:function(o){var l=Ln();return kt===null?l.memoizedState=o:Iv(l,kt.memoizedState,o)},useTransition:function(){var o=Zp(nl)[0],l=Ln().memoizedState;return[o,l]},useMutableSource:yv,useSyncExternalStore:vv,useId:Ov,unstable_isNewReconciler:!1};function Zn(o,l){if(o&&o.defaultProps){l=q({},l),o=o.defaultProps;for(var d in o)l[d]===void 0&&(l[d]=o[d]);return l}return l}function nh(o,l,d,g){l=o.memoizedState,d=d(g,l),d=d==null?l:q({},l,d),o.memoizedState=d,o.lanes===0&&(o.updateQueue.baseState=d)}var lu={isMounted:function(o){return(o=o._reactInternals)?pr(o)===o:!1},enqueueSetState:function(o,l,d){o=o._reactInternals;var g=tn(),v=Ms(o),b=Vr(g,v);b.payload=l,d!=null&&(b.callback=d),l=Ss(o,b,v),l!==null&&(nr(l,o,v,g),eu(l,o,v))},enqueueReplaceState:function(o,l,d){o=o._reactInternals;var g=tn(),v=Ms(o),b=Vr(g,v);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=Ss(o,b,v),l!==null&&(nr(l,o,v,g),eu(l,o,v))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var d=tn(),g=Ms(o),v=Vr(d,g);v.tag=2,l!=null&&(v.callback=l),l=Ss(o,v,g),l!==null&&(nr(l,o,g,d),eu(l,o,g))}};function Fv(o,l,d,g,v,b,E){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,b,E):l.prototype&&l.prototype.isPureReactComponent?!Ha(d,g)||!Ha(v,b):!0}function Bv(o,l,d){var g=!1,v=ws,b=l.contextType;return typeof b=="object"&&b!==null?b=On(b):(v=pn(l)?Ci:Ut.current,g=l.contextTypes,b=(g=g!=null)?No(o,v):ws),l=new l(d,b),o.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=lu,o.stateNode=l,l._reactInternals=o,g&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=v,o.__reactInternalMemoizedMaskedChildContext=b),l}function Vv(o,l,d,g){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,g),l.state!==o&&lu.enqueueReplaceState(l,l.state,null)}function rh(o,l,d,g){var v=o.stateNode;v.props=d,v.state=o.memoizedState,v.refs={},Hp(o);var b=l.contextType;typeof b=="object"&&b!==null?v.context=On(b):(b=pn(l)?Ci:Ut.current,v.context=No(o,b)),v.state=o.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(nh(o,l,b,d),v.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(l=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),l!==v.state&&lu.enqueueReplaceState(v,v.state,null),tu(o,d,v,g),v.state=o.memoizedState),typeof v.componentDidMount=="function"&&(o.flags|=4194308)}function Do(o,l){try{var d="",g=l;do d+=Me(g),g=g.return;while(g);var v=d}catch(b){v=`
Error generating stack: `+b.message+`
`+b.stack}return{value:o,source:l,stack:v,digest:null}}function sh(o,l,d){return{value:o,source:null,stack:d??null,digest:l??null}}function ih(o,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var F5=typeof WeakMap=="function"?WeakMap:Map;function $v(o,l,d){d=Vr(-1,d),d.tag=3,d.payload={element:null};var g=l.value;return d.callback=function(){mu||(mu=!0,wh=g),ih(o,l)},d}function Hv(o,l,d){d=Vr(-1,d),d.tag=3;var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var v=l.value;d.payload=function(){return g(v)},d.callback=function(){ih(o,l)}}var b=o.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){ih(o,l),typeof g!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})}),d}function Wv(o,l,d){var g=o.pingCache;if(g===null){g=o.pingCache=new F5;var v=new Set;g.set(l,v)}else v=g.get(l),v===void 0&&(v=new Set,g.set(l,v));v.has(d)||(v.add(d),o=Z5.bind(null,o,l,d),l.then(o,o))}function Uv(o){do{var l;if((l=o.tag===13)&&(l=o.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return o;o=o.return}while(o!==null);return null}function Kv(o,l,d,g,v){return(o.mode&1)===0?(o===l?o.flags|=65536:(o.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Vr(-1,1),l.tag=2,Ss(d,l,1))),d.lanes|=1),o):(o.flags|=65536,o.lanes=v,o)}var B5=D.ReactCurrentOwner,hn=!1;function en(o,l,d,g){l.child=o===null?fv(l,null,d,g):Ao(l,o.child,d,g)}function Gv(o,l,d,g,v){d=d.render;var b=l.ref;return Ro(l,v),g=Jp(o,l,d,g,b,v),d=Xp(),o!==null&&!hn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~v,$r(o,l,v)):(et&&d&&Dp(l),l.flags|=1,en(o,l,g,v),l.child)}function qv(o,l,d,g,v){if(o===null){var b=d.type;return typeof b=="function"&&!Mh(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=b,Yv(o,l,b,g,v)):(o=bu(d.type,null,g,l,l.mode,v),o.ref=l.ref,o.return=l,l.child=o)}if(b=o.child,(o.lanes&v)===0){var E=b.memoizedProps;if(d=d.compare,d=d!==null?d:Ha,d(E,g)&&o.ref===l.ref)return $r(o,l,v)}return l.flags|=1,o=As(b,g),o.ref=l.ref,o.return=l,l.child=o}function Yv(o,l,d,g,v){if(o!==null){var b=o.memoizedProps;if(Ha(b,g)&&o.ref===l.ref)if(hn=!1,l.pendingProps=g=b,(o.lanes&v)!==0)(o.flags&131072)!==0&&(hn=!0);else return l.lanes=o.lanes,$r(o,l,v)}return oh(o,l,d,g,v)}function Jv(o,l,d){var g=l.pendingProps,v=g.children,b=o!==null?o.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Oo,Cn),Cn|=d;else{if((d&1073741824)===0)return o=b!==null?b.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:o,cachePool:null,transitions:null},l.updateQueue=null,qe(Oo,Cn),Cn|=o,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=b!==null?b.baseLanes:d,qe(Oo,Cn),Cn|=g}else b!==null?(g=b.baseLanes|d,l.memoizedState=null):g=d,qe(Oo,Cn),Cn|=g;return en(o,l,v,d),l.child}function Xv(o,l){var d=l.ref;(o===null&&d!==null||o!==null&&o.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function oh(o,l,d,g,v){var b=pn(d)?Ci:Ut.current;return b=No(l,b),Ro(l,v),d=Jp(o,l,d,g,b,v),g=Xp(),o!==null&&!hn?(l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~v,$r(o,l,v)):(et&&g&&Dp(l),l.flags|=1,en(o,l,d,v),l.child)}function Qv(o,l,d,g,v){if(pn(d)){var b=!0;Kc(l)}else b=!1;if(Ro(l,v),l.stateNode===null)uu(o,l),Bv(l,d,g),rh(l,d,g,v),g=!0;else if(o===null){var E=l.stateNode,T=l.memoizedProps;E.props=T;var O=E.context,$=d.contextType;typeof $=="object"&&$!==null?$=On($):($=pn(d)?Ci:Ut.current,$=No(l,$));var Q=d.getDerivedStateFromProps,ee=typeof Q=="function"||typeof E.getSnapshotBeforeUpdate=="function";ee||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(T!==g||O!==$)&&Vv(l,E,g,$),ks=!1;var J=l.memoizedState;E.state=J,tu(l,g,E,v),O=l.memoizedState,T!==g||J!==O||fn.current||ks?(typeof Q=="function"&&(nh(l,d,Q,g),O=l.memoizedState),(T=ks||Fv(l,d,T,g,J,O,$))?(ee||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=O),E.props=g,E.state=O,E.context=$,g=T):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{E=l.stateNode,hv(o,l),T=l.memoizedProps,$=l.type===l.elementType?T:Zn(l.type,T),E.props=$,ee=l.pendingProps,J=E.context,O=d.contextType,typeof O=="object"&&O!==null?O=On(O):(O=pn(d)?Ci:Ut.current,O=No(l,O));var ce=d.getDerivedStateFromProps;(Q=typeof ce=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(T!==ee||J!==O)&&Vv(l,E,g,O),ks=!1,J=l.memoizedState,E.state=J,tu(l,g,E,v);var me=l.memoizedState;T!==ee||J!==me||fn.current||ks?(typeof ce=="function"&&(nh(l,d,ce,g),me=l.memoizedState),($=ks||Fv(l,d,$,g,J,me,O)||!1)?(Q||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,me,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,me,O)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||T===o.memoizedProps&&J===o.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&J===o.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=me),E.props=g,E.state=me,E.context=O,g=$):(typeof E.componentDidUpdate!="function"||T===o.memoizedProps&&J===o.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||T===o.memoizedProps&&J===o.memoizedState||(l.flags|=1024),g=!1)}return ah(o,l,d,g,b,v)}function ah(o,l,d,g,v,b){Xv(o,l);var E=(l.flags&128)!==0;if(!g&&!E)return v&&rv(l,d,!1),$r(o,l,b);g=l.stateNode,B5.current=l;var T=E&&typeof d.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,o!==null&&E?(l.child=Ao(l,o.child,null,b),l.child=Ao(l,null,T,b)):en(o,l,T,b),l.memoizedState=g.state,v&&rv(l,d,!0),l.child}function Zv(o){var l=o.stateNode;l.pendingContext?tv(o,l.pendingContext,l.pendingContext!==l.context):l.context&&tv(o,l.context,!1),Wp(o,l.containerInfo)}function e1(o,l,d,g,v){return To(),_p(v),l.flags|=256,en(o,l,d,g),l.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function ch(o){return{baseLanes:o,cachePool:null,transitions:null}}function t1(o,l,d){var g=l.pendingProps,v=tt.current,b=!1,E=(l.flags&128)!==0,T;if((T=E)||(T=o!==null&&o.memoizedState===null?!1:(v&2)!==0),T?(b=!0,l.flags&=-129):(o===null||o.memoizedState!==null)&&(v|=1),qe(tt,v&1),o===null)return Lp(l),o=l.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((l.mode&1)===0?l.lanes=1:o.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(E=g.children,o=g.fallback,b?(g=l.mode,b=l.child,E={mode:"hidden",children:E},(g&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=E):b=ku(E,g,0,null),o=Ii(o,g,d,null),b.return=l,o.return=l,b.sibling=o,l.child=b,l.child.memoizedState=ch(d),l.memoizedState=lh,o):uh(l,E));if(v=o.memoizedState,v!==null&&(T=v.dehydrated,T!==null))return V5(o,l,E,g,T,v,d);if(b){b=g.fallback,E=l.mode,v=o.child,T=v.sibling;var O={mode:"hidden",children:g.children};return(E&1)===0&&l.child!==v?(g=l.child,g.childLanes=0,g.pendingProps=O,l.deletions=null):(g=As(v,O),g.subtreeFlags=v.subtreeFlags&14680064),T!==null?b=As(T,b):(b=Ii(b,E,d,null),b.flags|=2),b.return=l,g.return=l,g.sibling=b,l.child=g,g=b,b=l.child,E=o.child.memoizedState,E=E===null?ch(d):{baseLanes:E.baseLanes|d,cachePool:null,transitions:E.transitions},b.memoizedState=E,b.childLanes=o.childLanes&~d,l.memoizedState=lh,g}return b=o.child,o=b.sibling,g=As(b,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=d),g.return=l,g.sibling=null,o!==null&&(d=l.deletions,d===null?(l.deletions=[o],l.flags|=16):d.push(o)),l.child=g,l.memoizedState=null,g}function uh(o,l){return l=ku({mode:"visible",children:l},o.mode,0,null),l.return=o,o.child=l}function cu(o,l,d,g){return g!==null&&_p(g),Ao(l,o.child,null,d),o=uh(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function V5(o,l,d,g,v,b,E){if(d)return l.flags&256?(l.flags&=-257,g=sh(Error(n(422))),cu(o,l,E,g)):l.memoizedState!==null?(l.child=o.child,l.flags|=128,null):(b=g.fallback,v=l.mode,g=ku({mode:"visible",children:g.children},v,0,null),b=Ii(b,v,E,null),b.flags|=2,g.return=l,b.return=l,g.sibling=b,l.child=g,(l.mode&1)!==0&&Ao(l,o.child,null,E),l.child.memoizedState=ch(E),l.memoizedState=lh,b);if((l.mode&1)===0)return cu(o,l,E,null);if(v.data==="$!"){if(g=v.nextSibling&&v.nextSibling.dataset,g)var T=g.dgst;return g=T,b=Error(n(419)),g=sh(b,g,void 0),cu(o,l,E,g)}if(T=(E&o.childLanes)!==0,hn||T){if(g=jt,g!==null){switch(E&-E){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(g.suspendedLanes|E))!==0?0:v,v!==0&&v!==b.retryLane&&(b.retryLane=v,Br(o,v),nr(g,o,v,-1))}return Eh(),g=sh(Error(n(421))),cu(o,l,E,g)}return v.data==="$?"?(l.flags|=128,l.child=o.child,l=e3.bind(null,o),v._reactRetry=l,null):(o=b.treeContext,Sn=ys(v.nextSibling),kn=l,et=!0,Qn=null,o!==null&&(Dn[In++]=zr,Dn[In++]=Fr,Dn[In++]=Ni,zr=o.id,Fr=o.overflow,Ni=l),l=uh(l,g.children),l.flags|=4096,l)}function n1(o,l,d){o.lanes|=l;var g=o.alternate;g!==null&&(g.lanes|=l),Vp(o.return,l,d)}function dh(o,l,d,g,v){var b=o.memoizedState;b===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:v}:(b.isBackwards=l,b.rendering=null,b.renderingStartTime=0,b.last=g,b.tail=d,b.tailMode=v)}function r1(o,l,d){var g=l.pendingProps,v=g.revealOrder,b=g.tail;if(en(o,l,g.children,d),g=tt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&n1(o,d,l);else if(o.tag===19)n1(o,d,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}if(qe(tt,g),(l.mode&1)===0)l.memoizedState=null;else switch(v){case"forwards":for(d=l.child,v=null;d!==null;)o=d.alternate,o!==null&&nu(o)===null&&(v=d),d=d.sibling;d=v,d===null?(v=l.child,l.child=null):(v=d.sibling,d.sibling=null),dh(l,!1,v,d,b);break;case"backwards":for(d=null,v=l.child,l.child=null;v!==null;){if(o=v.alternate,o!==null&&nu(o)===null){l.child=v;break}o=v.sibling,v.sibling=d,d=v,v=o}dh(l,!0,d,null,b);break;case"together":dh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function uu(o,l){(l.mode&1)===0&&o!==null&&(o.alternate=null,l.alternate=null,l.flags|=2)}function $r(o,l,d){if(o!==null&&(l.dependencies=o.dependencies),ji|=l.lanes,(d&l.childLanes)===0)return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,d=As(o,o.pendingProps),l.child=d,d.return=l;o.sibling!==null;)o=o.sibling,d=d.sibling=As(o,o.pendingProps),d.return=l;d.sibling=null}return l.child}function $5(o,l,d){switch(l.tag){case 3:Zv(l),To();break;case 5:xv(l);break;case 1:pn(l.type)&&Kc(l);break;case 4:Wp(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,v=l.memoizedProps.value;qe(Qc,g._currentValue),g._currentValue=v;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(qe(tt,tt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?t1(o,l,d):(qe(tt,tt.current&1),o=$r(o,l,d),o!==null?o.sibling:null);qe(tt,tt.current&1);break;case 19:if(g=(d&l.childLanes)!==0,(o.flags&128)!==0){if(g)return r1(o,l,d);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),qe(tt,tt.current),g)break;return null;case 22:case 23:return l.lanes=0,Jv(o,l,d)}return $r(o,l,d)}var s1,fh,i1,o1;s1=function(o,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},fh=function(){},i1=function(o,l,d,g){var v=o.memoizedProps;if(v!==g){o=l.stateNode,Ti(gr.current);var b=null;switch(d){case"input":v=as(o,v),g=as(o,g),b=[];break;case"select":v=q({},v,{value:void 0}),g=q({},g,{value:void 0}),b=[];break;case"textarea":v=Ea(o,v),g=Ea(o,g),b=[];break;default:typeof v.onClick!="function"&&typeof g.onClick=="function"&&(o.onclick=Hc)}Pn(d,g);var E;d=null;for($ in v)if(!g.hasOwnProperty($)&&v.hasOwnProperty($)&&v[$]!=null)if($==="style"){var T=v[$];for(E in T)T.hasOwnProperty(E)&&(d||(d={}),d[E]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(s.hasOwnProperty($)?b||(b=[]):(b=b||[]).push($,null));for($ in g){var O=g[$];if(T=v!=null?v[$]:void 0,g.hasOwnProperty($)&&O!==T&&(O!=null||T!=null))if($==="style")if(T){for(E in T)!T.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(d||(d={}),d[E]="");for(E in O)O.hasOwnProperty(E)&&T[E]!==O[E]&&(d||(d={}),d[E]=O[E])}else d||(b||(b=[]),b.push($,d)),d=O;else $==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,T=T?T.__html:void 0,O!=null&&T!==O&&(b=b||[]).push($,O)):$==="children"?typeof O!="string"&&typeof O!="number"||(b=b||[]).push($,""+O):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(s.hasOwnProperty($)?(O!=null&&$==="onScroll"&&Ye("scroll",o),b||T===O||(b=[])):(b=b||[]).push($,O))}d&&(b=b||[]).push("style",d);var $=b;(l.updateQueue=$)&&(l.flags|=4)}},o1=function(o,l,d,g){d!==g&&(l.flags|=4)};function sl(o,l){if(!et)switch(o.tailMode){case"hidden":l=o.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o.tail=null:d.sibling=null;break;case"collapsed":d=o.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Gt(o){var l=o.alternate!==null&&o.alternate.child===o.child,d=0,g=0;if(l)for(var v=o.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags&14680064,g|=v.flags&14680064,v.return=o,v=v.sibling;else for(v=o.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=o,v=v.sibling;return o.subtreeFlags|=g,o.childLanes=d,l}function H5(o,l,d){var g=l.pendingProps;switch(Ip(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(l),null;case 1:return pn(l.type)&&Uc(),Gt(l),null;case 3:return g=l.stateNode,Po(),Je(fn),Je(Ut),Gp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(o===null||o.child===null)&&(Jc(l)?l.flags|=4:o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Qn!==null&&(Sh(Qn),Qn=null))),fh(o,l),Gt(l),null;case 5:Up(l);var v=Ti(Za.current);if(d=l.type,o!==null&&l.stateNode!=null)i1(o,l,d,g,v),o.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return Gt(l),null}if(o=Ti(gr.current),Jc(l)){g=l.stateNode,d=l.type;var b=l.memoizedProps;switch(g[mr]=l,g[qa]=b,o=(l.mode&1)!==0,d){case"dialog":Ye("cancel",g),Ye("close",g);break;case"iframe":case"object":case"embed":Ye("load",g);break;case"video":case"audio":for(v=0;v<Ua.length;v++)Ye(Ua[v],g);break;case"source":Ye("error",g);break;case"img":case"image":case"link":Ye("error",g),Ye("load",g);break;case"details":Ye("toggle",g);break;case"input":Rn(g,b),Ye("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!b.multiple},Ye("invalid",g);break;case"textarea":xc(g,b),Ye("invalid",g)}Pn(d,b),v=null;for(var E in b)if(b.hasOwnProperty(E)){var T=b[E];E==="children"?typeof T=="string"?g.textContent!==T&&(b.suppressHydrationWarning!==!0&&$c(g.textContent,T,o),v=["children",T]):typeof T=="number"&&g.textContent!==""+T&&(b.suppressHydrationWarning!==!0&&$c(g.textContent,T,o),v=["children",""+T]):s.hasOwnProperty(E)&&T!=null&&E==="onScroll"&&Ye("scroll",g)}switch(d){case"input":Ve(g),wn(g,b,!0);break;case"textarea":Ve(g),ui(g);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(g.onclick=Hc)}g=v,l.updateQueue=g,g!==null&&(l.flags|=4)}else{E=v.nodeType===9?v:v.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=vc(d)),o==="http://www.w3.org/1999/xhtml"?d==="script"?(o=E.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof g.is=="string"?o=E.createElement(d,{is:g.is}):(o=E.createElement(d),d==="select"&&(E=o,g.multiple?E.multiple=!0:g.size&&(E.size=g.size))):o=E.createElementNS(o,d),o[mr]=l,o[qa]=g,s1(o,l,!1,!1),l.stateNode=o;e:{switch(E=fi(d,g),d){case"dialog":Ye("cancel",o),Ye("close",o),v=g;break;case"iframe":case"object":case"embed":Ye("load",o),v=g;break;case"video":case"audio":for(v=0;v<Ua.length;v++)Ye(Ua[v],o);v=g;break;case"source":Ye("error",o),v=g;break;case"img":case"image":case"link":Ye("error",o),Ye("load",o),v=g;break;case"details":Ye("toggle",o),v=g;break;case"input":Rn(o,g),v=as(o,g),Ye("invalid",o);break;case"option":v=g;break;case"select":o._wrapperState={wasMultiple:!!g.multiple},v=q({},g,{value:void 0}),Ye("invalid",o);break;case"textarea":xc(o,g),v=Ea(o,g),Ye("invalid",o);break;default:v=g}Pn(d,v),T=v;for(b in T)if(T.hasOwnProperty(b)){var O=T[b];b==="style"?un(o,O):b==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&us(o,O)):b==="children"?typeof O=="string"?(d!=="textarea"||O!=="")&&Pr(o,O):typeof O=="number"&&Pr(o,""+O):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?O!=null&&b==="onScroll"&&Ye("scroll",o):O!=null&&A(o,b,O,E))}switch(d){case"input":Ve(o),wn(o,g,!1);break;case"textarea":Ve(o),ui(o);break;case"option":g.value!=null&&o.setAttribute("value",""+Oe(g.value));break;case"select":o.multiple=!!g.multiple,b=g.value,b!=null?ls(o,!!g.multiple,b,!1):g.defaultValue!=null&&ls(o,!!g.multiple,g.defaultValue,!0);break;default:typeof v.onClick=="function"&&(o.onclick=Hc)}switch(d){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Gt(l),null;case 6:if(o&&l.stateNode!=null)o1(o,l,o.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(d=Ti(Za.current),Ti(gr.current),Jc(l)){if(g=l.stateNode,d=l.memoizedProps,g[mr]=l,(b=g.nodeValue!==d)&&(o=kn,o!==null))switch(o.tag){case 3:$c(g.nodeValue,d,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&$c(g.nodeValue,d,(o.mode&1)!==0)}b&&(l.flags|=4)}else g=(d.nodeType===9?d:d.ownerDocument).createTextNode(g),g[mr]=l,l.stateNode=g}return Gt(l),null;case 13:if(Je(tt),g=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(et&&Sn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)cv(),To(),l.flags|=98560,b=!1;else if(b=Jc(l),g!==null&&g.dehydrated!==null){if(o===null){if(!b)throw Error(n(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[mr]=l}else To(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Gt(l),b=!1}else Qn!==null&&(Sh(Qn),Qn=null),b=!0;if(!b)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(g=g!==null,g!==(o!==null&&o.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(o===null||(tt.current&1)!==0?St===0&&(St=3):Eh())),l.updateQueue!==null&&(l.flags|=4),Gt(l),null);case 4:return Po(),fh(o,l),o===null&&Ka(l.stateNode.containerInfo),Gt(l),null;case 10:return Bp(l.type._context),Gt(l),null;case 17:return pn(l.type)&&Uc(),Gt(l),null;case 19:if(Je(tt),b=l.memoizedState,b===null)return Gt(l),null;if(g=(l.flags&128)!==0,E=b.rendering,E===null)if(g)sl(b,!1);else{if(St!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(E=nu(o),E!==null){for(l.flags|=128,sl(b,!1),g=E.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=d,d=l.child;d!==null;)b=d,o=g,b.flags&=14680066,E=b.alternate,E===null?(b.childLanes=0,b.lanes=o,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=E.childLanes,b.lanes=E.lanes,b.child=E.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=E.memoizedProps,b.memoizedState=E.memoizedState,b.updateQueue=E.updateQueue,b.type=E.type,o=E.dependencies,b.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),d=d.sibling;return qe(tt,tt.current&1|2),l.child}o=o.sibling}b.tail!==null&&$e()>Lo&&(l.flags|=128,g=!0,sl(b,!1),l.lanes=4194304)}else{if(!g)if(o=nu(E),o!==null){if(l.flags|=128,g=!0,d=o.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),sl(b,!0),b.tail===null&&b.tailMode==="hidden"&&!E.alternate&&!et)return Gt(l),null}else 2*$e()-b.renderingStartTime>Lo&&d!==1073741824&&(l.flags|=128,g=!0,sl(b,!1),l.lanes=4194304);b.isBackwards?(E.sibling=l.child,l.child=E):(d=b.last,d!==null?d.sibling=E:l.child=E,b.last=E)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=$e(),l.sibling=null,d=tt.current,qe(tt,g?d&1|2:d&1),l):(Gt(l),null);case 22:case 23:return Nh(),g=l.memoizedState!==null,o!==null&&o.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Cn&1073741824)!==0&&(Gt(l),l.subtreeFlags&6&&(l.flags|=8192)):Gt(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function W5(o,l){switch(Ip(l),l.tag){case 1:return pn(l.type)&&Uc(),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Po(),Je(fn),Je(Ut),Gp(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 5:return Up(l),null;case 13:if(Je(tt),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));To()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return Je(tt),null;case 4:return Po(),null;case 10:return Bp(l.type._context),null;case 22:case 23:return Nh(),null;case 24:return null;default:return null}}var du=!1,qt=!1,U5=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Io(o,l){var d=o.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){lt(o,l,g)}else d.current=null}function ph(o,l,d){try{d()}catch(g){lt(o,l,g)}}var a1=!1;function K5(o,l){if(Np=Rc,o=Fy(),xp(o)){if("selectionStart"in o)var d={start:o.selectionStart,end:o.selectionEnd};else e:{d=(d=o.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var v=g.anchorOffset,b=g.focusNode;g=g.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var E=0,T=-1,O=-1,$=0,Q=0,ee=o,J=null;t:for(;;){for(var ce;ee!==d||v!==0&&ee.nodeType!==3||(T=E+v),ee!==b||g!==0&&ee.nodeType!==3||(O=E+g),ee.nodeType===3&&(E+=ee.nodeValue.length),(ce=ee.firstChild)!==null;)J=ee,ee=ce;for(;;){if(ee===o)break t;if(J===d&&++$===v&&(T=E),J===b&&++Q===g&&(O=E),(ce=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=ce}d=T===-1||O===-1?null:{start:T,end:O}}else d=null}d=d||{start:0,end:0}}else d=null;for(Ep={focusedElem:o,selectionRange:d},Rc=!1,pe=l;pe!==null;)if(l=pe,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,pe=o;else for(;pe!==null;){l=pe;try{var me=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var we=me.memoizedProps,pt=me.memoizedState,B=l.stateNode,z=B.getSnapshotBeforeUpdate(l.elementType===l.type?we:Zn(l.type,we),pt);B.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var V=l.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){lt(l,l.return,se)}if(o=l.sibling,o!==null){o.return=l.return,pe=o;break}pe=l.return}return me=a1,a1=!1,me}function il(o,l,d){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var v=g=g.next;do{if((v.tag&o)===o){var b=v.destroy;v.destroy=void 0,b!==void 0&&ph(l,d,b)}v=v.next}while(v!==g)}}function fu(o,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&o)===o){var g=d.create;d.destroy=g()}d=d.next}while(d!==l)}}function hh(o){var l=o.ref;if(l!==null){var d=o.stateNode;switch(o.tag){case 5:o=d;break;default:o=d}typeof l=="function"?l(o):l.current=o}}function l1(o){var l=o.alternate;l!==null&&(o.alternate=null,l1(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&(delete l[mr],delete l[qa],delete l[jp],delete l[T5],delete l[A5])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function c1(o){return o.tag===5||o.tag===3||o.tag===4}function u1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||c1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function mh(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(o,l):d.insertBefore(o,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(o,d)):(l=d,l.appendChild(o)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Hc));else if(g!==4&&(o=o.child,o!==null))for(mh(o,l,d),o=o.sibling;o!==null;)mh(o,l,d),o=o.sibling}function gh(o,l,d){var g=o.tag;if(g===5||g===6)o=o.stateNode,l?d.insertBefore(o,l):d.appendChild(o);else if(g!==4&&(o=o.child,o!==null))for(gh(o,l,d),o=o.sibling;o!==null;)gh(o,l,d),o=o.sibling}var _t=null,er=!1;function Cs(o,l,d){for(d=d.child;d!==null;)d1(o,l,d),d=d.sibling}function d1(o,l,d){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Nc,d)}catch{}switch(d.tag){case 5:qt||Io(d,l);case 6:var g=_t,v=er;_t=null,Cs(o,l,d),_t=g,er=v,_t!==null&&(er?(o=_t,d=d.stateNode,o.nodeType===8?o.parentNode.removeChild(d):o.removeChild(d)):_t.removeChild(d.stateNode));break;case 18:_t!==null&&(er?(o=_t,d=d.stateNode,o.nodeType===8?Ap(o.parentNode,d):o.nodeType===1&&Ap(o,d),_a(o)):Ap(_t,d.stateNode));break;case 4:g=_t,v=er,_t=d.stateNode.containerInfo,er=!0,Cs(o,l,d),_t=g,er=v;break;case 0:case 11:case 14:case 15:if(!qt&&(g=d.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){v=g=g.next;do{var b=v,E=b.destroy;b=b.tag,E!==void 0&&((b&2)!==0||(b&4)!==0)&&ph(d,l,E),v=v.next}while(v!==g)}Cs(o,l,d);break;case 1:if(!qt&&(Io(d,l),g=d.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(T){lt(d,l,T)}Cs(o,l,d);break;case 21:Cs(o,l,d);break;case 22:d.mode&1?(qt=(g=qt)||d.memoizedState!==null,Cs(o,l,d),qt=g):Cs(o,l,d);break;default:Cs(o,l,d)}}function f1(o){var l=o.updateQueue;if(l!==null){o.updateQueue=null;var d=o.stateNode;d===null&&(d=o.stateNode=new U5),l.forEach(function(g){var v=t3.bind(null,o,g);d.has(g)||(d.add(g),g.then(v,v))})}}function tr(o,l){var d=l.deletions;if(d!==null)for(var g=0;g<d.length;g++){var v=d[g];try{var b=o,E=l,T=E;e:for(;T!==null;){switch(T.tag){case 5:_t=T.stateNode,er=!1;break e;case 3:_t=T.stateNode.containerInfo,er=!0;break e;case 4:_t=T.stateNode.containerInfo,er=!0;break e}T=T.return}if(_t===null)throw Error(n(160));d1(b,E,v),_t=null,er=!1;var O=v.alternate;O!==null&&(O.return=null),v.return=null}catch($){lt(v,l,$)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)p1(l,o),l=l.sibling}function p1(o,l){var d=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(tr(l,o),yr(o),g&4){try{il(3,o,o.return),fu(3,o)}catch(we){lt(o,o.return,we)}try{il(5,o,o.return)}catch(we){lt(o,o.return,we)}}break;case 1:tr(l,o),yr(o),g&512&&d!==null&&Io(d,d.return);break;case 5:if(tr(l,o),yr(o),g&512&&d!==null&&Io(d,d.return),o.flags&32){var v=o.stateNode;try{Pr(v,"")}catch(we){lt(o,o.return,we)}}if(g&4&&(v=o.stateNode,v!=null)){var b=o.memoizedProps,E=d!==null?d.memoizedProps:b,T=o.type,O=o.updateQueue;if(o.updateQueue=null,O!==null)try{T==="input"&&b.type==="radio"&&b.name!=null&&Rr(v,b),fi(T,E);var $=fi(T,b);for(E=0;E<O.length;E+=2){var Q=O[E],ee=O[E+1];Q==="style"?un(v,ee):Q==="dangerouslySetInnerHTML"?us(v,ee):Q==="children"?Pr(v,ee):A(v,Q,ee,$)}switch(T){case"input":Mt(v,b);break;case"textarea":yc(v,b);break;case"select":var J=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!b.multiple;var ce=b.value;ce!=null?ls(v,!!b.multiple,ce,!1):J!==!!b.multiple&&(b.defaultValue!=null?ls(v,!!b.multiple,b.defaultValue,!0):ls(v,!!b.multiple,b.multiple?[]:"",!1))}v[qa]=b}catch(we){lt(o,o.return,we)}}break;case 6:if(tr(l,o),yr(o),g&4){if(o.stateNode===null)throw Error(n(162));v=o.stateNode,b=o.memoizedProps;try{v.nodeValue=b}catch(we){lt(o,o.return,we)}}break;case 3:if(tr(l,o),yr(o),g&4&&d!==null&&d.memoizedState.isDehydrated)try{_a(l.containerInfo)}catch(we){lt(o,o.return,we)}break;case 4:tr(l,o),yr(o);break;case 13:tr(l,o),yr(o),v=o.child,v.flags&8192&&(b=v.memoizedState!==null,v.stateNode.isHidden=b,!b||v.alternate!==null&&v.alternate.memoizedState!==null||(vh=$e())),g&4&&f1(o);break;case 22:if(Q=d!==null&&d.memoizedState!==null,o.mode&1?(qt=($=qt)||Q,tr(l,o),qt=$):tr(l,o),yr(o),g&8192){if($=o.memoizedState!==null,(o.stateNode.isHidden=$)&&!Q&&(o.mode&1)!==0)for(pe=o,Q=o.child;Q!==null;){for(ee=pe=Q;pe!==null;){switch(J=pe,ce=J.child,J.tag){case 0:case 11:case 14:case 15:il(4,J,J.return);break;case 1:Io(J,J.return);var me=J.stateNode;if(typeof me.componentWillUnmount=="function"){g=J,d=J.return;try{l=g,me.props=l.memoizedProps,me.state=l.memoizedState,me.componentWillUnmount()}catch(we){lt(g,d,we)}}break;case 5:Io(J,J.return);break;case 22:if(J.memoizedState!==null){g1(ee);continue}}ce!==null?(ce.return=J,pe=ce):g1(ee)}Q=Q.sibling}e:for(Q=null,ee=o;;){if(ee.tag===5){if(Q===null){Q=ee;try{v=ee.stateNode,$?(b=v.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(T=ee.stateNode,O=ee.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,T.style.display=di("display",E))}catch(we){lt(o,o.return,we)}}}else if(ee.tag===6){if(Q===null)try{ee.stateNode.nodeValue=$?"":ee.memoizedProps}catch(we){lt(o,o.return,we)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===o)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===o)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===o)break e;Q===ee&&(Q=null),ee=ee.return}Q===ee&&(Q=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:tr(l,o),yr(o),g&4&&f1(o);break;case 21:break;default:tr(l,o),yr(o)}}function yr(o){var l=o.flags;if(l&2){try{e:{for(var d=o.return;d!==null;){if(c1(d)){var g=d;break e}d=d.return}throw Error(n(160))}switch(g.tag){case 5:var v=g.stateNode;g.flags&32&&(Pr(v,""),g.flags&=-33);var b=u1(o);gh(o,b,v);break;case 3:case 4:var E=g.stateNode.containerInfo,T=u1(o);mh(o,T,E);break;default:throw Error(n(161))}}catch(O){lt(o,o.return,O)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function G5(o,l,d){pe=o,h1(o)}function h1(o,l,d){for(var g=(o.mode&1)!==0;pe!==null;){var v=pe,b=v.child;if(v.tag===22&&g){var E=v.memoizedState!==null||du;if(!E){var T=v.alternate,O=T!==null&&T.memoizedState!==null||qt;T=du;var $=qt;if(du=E,(qt=O)&&!$)for(pe=v;pe!==null;)E=pe,O=E.child,E.tag===22&&E.memoizedState!==null?x1(v):O!==null?(O.return=E,pe=O):x1(v);for(;b!==null;)pe=b,h1(b),b=b.sibling;pe=v,du=T,qt=$}m1(o)}else(v.subtreeFlags&8772)!==0&&b!==null?(b.return=v,pe=b):m1(o)}}function m1(o){for(;pe!==null;){var l=pe;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:qt||fu(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!qt)if(d===null)g.componentDidMount();else{var v=l.elementType===l.type?d.memoizedProps:Zn(l.type,d.memoizedProps);g.componentDidUpdate(v,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var b=l.updateQueue;b!==null&&gv(l,b,g);break;case 3:var E=l.updateQueue;if(E!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}gv(l,E,d)}break;case 5:var T=l.stateNode;if(d===null&&l.flags&4){d=T;var O=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&d.focus();break;case"img":O.src&&(d.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var $=l.alternate;if($!==null){var Q=$.memoizedState;if(Q!==null){var ee=Q.dehydrated;ee!==null&&_a(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||l.flags&512&&hh(l)}catch(J){lt(l,l.return,J)}}if(l===o){pe=null;break}if(d=l.sibling,d!==null){d.return=l.return,pe=d;break}pe=l.return}}function g1(o){for(;pe!==null;){var l=pe;if(l===o){pe=null;break}var d=l.sibling;if(d!==null){d.return=l.return,pe=d;break}pe=l.return}}function x1(o){for(;pe!==null;){var l=pe;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{fu(4,l)}catch(O){lt(l,d,O)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var v=l.return;try{g.componentDidMount()}catch(O){lt(l,v,O)}}var b=l.return;try{hh(l)}catch(O){lt(l,b,O)}break;case 5:var E=l.return;try{hh(l)}catch(O){lt(l,E,O)}}}catch(O){lt(l,l.return,O)}if(l===o){pe=null;break}var T=l.sibling;if(T!==null){T.return=l.return,pe=T;break}pe=l.return}}var q5=Math.ceil,pu=D.ReactCurrentDispatcher,xh=D.ReactCurrentOwner,_n=D.ReactCurrentBatchConfig,He=0,jt=null,mt=null,zt=0,Cn=0,Oo=vs(0),St=0,ol=null,ji=0,hu=0,yh=0,al=null,mn=null,vh=0,Lo=1/0,Hr=null,mu=!1,wh=null,Ns=null,gu=!1,Es=null,xu=0,ll=0,bh=null,yu=-1,vu=0;function tn(){return(He&6)!==0?$e():yu!==-1?yu:yu=$e()}function Ms(o){return(o.mode&1)===0?1:(He&2)!==0&&zt!==0?zt&-zt:R5.transition!==null?(vu===0&&(vu=uy()),vu):(o=Ue,o!==0||(o=window.event,o=o===void 0?16:vy(o.type)),o)}function nr(o,l,d,g){if(50<ll)throw ll=0,bh=null,Error(n(185));Pa(o,d,g),((He&2)===0||o!==jt)&&(o===jt&&((He&2)===0&&(hu|=d),St===4&&Ts(o,zt)),gn(o,g),d===1&&He===0&&(l.mode&1)===0&&(Lo=$e()+500,Gc&&bs()))}function gn(o,l){var d=o.callbackNode;RA(o,l);var g=Tc(o,o===jt?zt:0);if(g===0)d!==null&&Zt(d),o.callbackNode=null,o.callbackPriority=0;else if(l=g&-g,o.callbackPriority!==l){if(d!=null&&Zt(d),l===1)o.tag===0?j5(v1.bind(null,o)):sv(v1.bind(null,o)),E5(function(){(He&6)===0&&bs()}),d=null;else{switch(dy(g)){case 1:d=ki;break;case 4:d=ly;break;case 16:d=Cc;break;case 536870912:d=cy;break;default:d=Cc}d=M1(d,y1.bind(null,o))}o.callbackPriority=l,o.callbackNode=d}}function y1(o,l){if(yu=-1,vu=0,(He&6)!==0)throw Error(n(327));var d=o.callbackNode;if(_o()&&o.callbackNode!==d)return null;var g=Tc(o,o===jt?zt:0);if(g===0)return null;if((g&30)!==0||(g&o.expiredLanes)!==0||l)l=wu(o,g);else{l=g;var v=He;He|=2;var b=b1();(jt!==o||zt!==l)&&(Hr=null,Lo=$e()+500,Pi(o,l));do try{X5();break}catch(T){w1(o,T)}while(!0);Fp(),pu.current=b,He=v,mt!==null?l=0:(jt=null,zt=0,l=St)}if(l!==0){if(l===2&&(v=tp(o),v!==0&&(g=v,l=kh(o,v))),l===1)throw d=ol,Pi(o,0),Ts(o,g),gn(o,$e()),d;if(l===6)Ts(o,g);else{if(v=o.current.alternate,(g&30)===0&&!Y5(v)&&(l=wu(o,g),l===2&&(b=tp(o),b!==0&&(g=b,l=kh(o,b))),l===1))throw d=ol,Pi(o,0),Ts(o,g),gn(o,$e()),d;switch(o.finishedWork=v,o.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:Di(o,mn,Hr);break;case 3:if(Ts(o,g),(g&130023424)===g&&(l=vh+500-$e(),10<l)){if(Tc(o,0)!==0)break;if(v=o.suspendedLanes,(v&g)!==g){tn(),o.pingedLanes|=o.suspendedLanes&v;break}o.timeoutHandle=Tp(Di.bind(null,o,mn,Hr),l);break}Di(o,mn,Hr);break;case 4:if(Ts(o,g),(g&4194240)===g)break;for(l=o.eventTimes,v=-1;0<g;){var E=31-Jn(g);b=1<<E,E=l[E],E>v&&(v=E),g&=~b}if(g=v,g=$e()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*q5(g/1960))-g,10<g){o.timeoutHandle=Tp(Di.bind(null,o,mn,Hr),g);break}Di(o,mn,Hr);break;case 5:Di(o,mn,Hr);break;default:throw Error(n(329))}}}return gn(o,$e()),o.callbackNode===d?y1.bind(null,o):null}function kh(o,l){var d=al;return o.current.memoizedState.isDehydrated&&(Pi(o,l).flags|=256),o=wu(o,l),o!==2&&(l=mn,mn=d,l!==null&&Sh(l)),o}function Sh(o){mn===null?mn=o:mn.push.apply(mn,o)}function Y5(o){for(var l=o;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var g=0;g<d.length;g++){var v=d[g],b=v.getSnapshot;v=v.value;try{if(!Xn(b(),v))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ts(o,l){for(l&=~yh,l&=~hu,o.suspendedLanes|=l,o.pingedLanes&=~l,o=o.expirationTimes;0<l;){var d=31-Jn(l),g=1<<d;o[d]=-1,l&=~g}}function v1(o){if((He&6)!==0)throw Error(n(327));_o();var l=Tc(o,0);if((l&1)===0)return gn(o,$e()),null;var d=wu(o,l);if(o.tag!==0&&d===2){var g=tp(o);g!==0&&(l=g,d=kh(o,g))}if(d===1)throw d=ol,Pi(o,0),Ts(o,l),gn(o,$e()),d;if(d===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=l,Di(o,mn,Hr),gn(o,$e()),null}function Ch(o,l){var d=He;He|=1;try{return o(l)}finally{He=d,He===0&&(Lo=$e()+500,Gc&&bs())}}function Ri(o){Es!==null&&Es.tag===0&&(He&6)===0&&_o();var l=He;He|=1;var d=_n.transition,g=Ue;try{if(_n.transition=null,Ue=1,o)return o()}finally{Ue=g,_n.transition=d,He=l,(He&6)===0&&bs()}}function Nh(){Cn=Oo.current,Je(Oo)}function Pi(o,l){o.finishedWork=null,o.finishedLanes=0;var d=o.timeoutHandle;if(d!==-1&&(o.timeoutHandle=-1,N5(d)),mt!==null)for(d=mt.return;d!==null;){var g=d;switch(Ip(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Uc();break;case 3:Po(),Je(fn),Je(Ut),Gp();break;case 5:Up(g);break;case 4:Po();break;case 13:Je(tt);break;case 19:Je(tt);break;case 10:Bp(g.type._context);break;case 22:case 23:Nh()}d=d.return}if(jt=o,mt=o=As(o.current,null),zt=Cn=l,St=0,ol=null,yh=hu=ji=0,mn=al=null,Mi!==null){for(l=0;l<Mi.length;l++)if(d=Mi[l],g=d.interleaved,g!==null){d.interleaved=null;var v=g.next,b=d.pending;if(b!==null){var E=b.next;b.next=v,g.next=E}d.pending=g}Mi=null}return o}function w1(o,l){do{var d=mt;try{if(Fp(),ru.current=au,su){for(var g=nt.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}su=!1}if(Ai=0,At=kt=nt=null,el=!1,tl=0,xh.current=null,d===null||d.return===null){St=1,ol=l,mt=null;break}e:{var b=o,E=d.return,T=d,O=l;if(l=zt,T.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=O,Q=T,ee=Q.tag;if((Q.mode&1)===0&&(ee===0||ee===11||ee===15)){var J=Q.alternate;J?(Q.updateQueue=J.updateQueue,Q.memoizedState=J.memoizedState,Q.lanes=J.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ce=Uv(E);if(ce!==null){ce.flags&=-257,Kv(ce,E,T,b,l),ce.mode&1&&Wv(b,$,l),l=ce,O=$;var me=l.updateQueue;if(me===null){var we=new Set;we.add(O),l.updateQueue=we}else me.add(O);break e}else{if((l&1)===0){Wv(b,$,l),Eh();break e}O=Error(n(426))}}else if(et&&T.mode&1){var pt=Uv(E);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),Kv(pt,E,T,b,l),_p(Do(O,T));break e}}b=O=Do(O,T),St!==4&&(St=2),al===null?al=[b]:al.push(b),b=E;do{switch(b.tag){case 3:b.flags|=65536,l&=-l,b.lanes|=l;var B=$v(b,O,l);mv(b,B);break e;case 1:T=O;var z=b.type,V=b.stateNode;if((b.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Ns===null||!Ns.has(V)))){b.flags|=65536,l&=-l,b.lanes|=l;var se=Hv(b,T,l);mv(b,se);break e}}b=b.return}while(b!==null)}S1(d)}catch(ke){l=ke,mt===d&&d!==null&&(mt=d=d.return);continue}break}while(!0)}function b1(){var o=pu.current;return pu.current=au,o===null?au:o}function Eh(){(St===0||St===3||St===2)&&(St=4),jt===null||(ji&268435455)===0&&(hu&268435455)===0||Ts(jt,zt)}function wu(o,l){var d=He;He|=2;var g=b1();(jt!==o||zt!==l)&&(Hr=null,Pi(o,l));do try{J5();break}catch(v){w1(o,v)}while(!0);if(Fp(),He=d,pu.current=g,mt!==null)throw Error(n(261));return jt=null,zt=0,St}function J5(){for(;mt!==null;)k1(mt)}function X5(){for(;mt!==null&&!Yn();)k1(mt)}function k1(o){var l=E1(o.alternate,o,Cn);o.memoizedProps=o.pendingProps,l===null?S1(o):mt=l,xh.current=null}function S1(o){var l=o;do{var d=l.alternate;if(o=l.return,(l.flags&32768)===0){if(d=H5(d,l,Cn),d!==null){mt=d;return}}else{if(d=W5(d,l),d!==null){d.flags&=32767,mt=d;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{St=6,mt=null;return}}if(l=l.sibling,l!==null){mt=l;return}mt=l=o}while(l!==null);St===0&&(St=5)}function Di(o,l,d){var g=Ue,v=_n.transition;try{_n.transition=null,Ue=1,Q5(o,l,d,g)}finally{_n.transition=v,Ue=g}return null}function Q5(o,l,d,g){do _o();while(Es!==null);if((He&6)!==0)throw Error(n(327));d=o.finishedWork;var v=o.finishedLanes;if(d===null)return null;if(o.finishedWork=null,o.finishedLanes=0,d===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var b=d.lanes|d.childLanes;if(PA(o,b),o===jt&&(mt=jt=null,zt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||gu||(gu=!0,M1(Cc,function(){return _o(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=_n.transition,_n.transition=null;var E=Ue;Ue=1;var T=He;He|=4,xh.current=null,K5(o,d),p1(d,o),y5(Ep),Rc=!!Np,Ep=Np=null,o.current=d,G5(d),at(),He=T,Ue=E,_n.transition=b}else o.current=d;if(gu&&(gu=!1,Es=o,xu=v),b=o.pendingLanes,b===0&&(Ns=null),EA(d.stateNode),gn(o,$e()),l!==null)for(g=o.onRecoverableError,d=0;d<l.length;d++)v=l[d],g(v.value,{componentStack:v.stack,digest:v.digest});if(mu)throw mu=!1,o=wh,wh=null,o;return(xu&1)!==0&&o.tag!==0&&_o(),b=o.pendingLanes,(b&1)!==0?o===bh?ll++:(ll=0,bh=o):ll=0,bs(),null}function _o(){if(Es!==null){var o=dy(xu),l=_n.transition,d=Ue;try{if(_n.transition=null,Ue=16>o?16:o,Es===null)var g=!1;else{if(o=Es,Es=null,xu=0,(He&6)!==0)throw Error(n(331));var v=He;for(He|=4,pe=o.current;pe!==null;){var b=pe,E=b.child;if((pe.flags&16)!==0){var T=b.deletions;if(T!==null){for(var O=0;O<T.length;O++){var $=T[O];for(pe=$;pe!==null;){var Q=pe;switch(Q.tag){case 0:case 11:case 15:il(8,Q,b)}var ee=Q.child;if(ee!==null)ee.return=Q,pe=ee;else for(;pe!==null;){Q=pe;var J=Q.sibling,ce=Q.return;if(l1(Q),Q===$){pe=null;break}if(J!==null){J.return=ce,pe=J;break}pe=ce}}}var me=b.alternate;if(me!==null){var we=me.child;if(we!==null){me.child=null;do{var pt=we.sibling;we.sibling=null,we=pt}while(we!==null)}}pe=b}}if((b.subtreeFlags&2064)!==0&&E!==null)E.return=b,pe=E;else e:for(;pe!==null;){if(b=pe,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:il(9,b,b.return)}var B=b.sibling;if(B!==null){B.return=b.return,pe=B;break e}pe=b.return}}var z=o.current;for(pe=z;pe!==null;){E=pe;var V=E.child;if((E.subtreeFlags&2064)!==0&&V!==null)V.return=E,pe=V;else e:for(E=z;pe!==null;){if(T=pe,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:fu(9,T)}}catch(ke){lt(T,T.return,ke)}if(T===E){pe=null;break e}var se=T.sibling;if(se!==null){se.return=T.return,pe=se;break e}pe=T.return}}if(He=v,bs(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Nc,o)}catch{}g=!0}return g}finally{Ue=d,_n.transition=l}}return!1}function C1(o,l,d){l=Do(d,l),l=$v(o,l,1),o=Ss(o,l,1),l=tn(),o!==null&&(Pa(o,1,l),gn(o,l))}function lt(o,l,d){if(o.tag===3)C1(o,o,d);else for(;l!==null;){if(l.tag===3){C1(l,o,d);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ns===null||!Ns.has(g))){o=Do(d,o),o=Hv(l,o,1),l=Ss(l,o,1),o=tn(),l!==null&&(Pa(l,1,o),gn(l,o));break}}l=l.return}}function Z5(o,l,d){var g=o.pingCache;g!==null&&g.delete(l),l=tn(),o.pingedLanes|=o.suspendedLanes&d,jt===o&&(zt&d)===d&&(St===4||St===3&&(zt&130023424)===zt&&500>$e()-vh?Pi(o,0):yh|=d),gn(o,l)}function N1(o,l){l===0&&((o.mode&1)===0?l=1:(l=Mc,Mc<<=1,(Mc&130023424)===0&&(Mc=4194304)));var d=tn();o=Br(o,l),o!==null&&(Pa(o,l,d),gn(o,d))}function e3(o){var l=o.memoizedState,d=0;l!==null&&(d=l.retryLane),N1(o,d)}function t3(o,l){var d=0;switch(o.tag){case 13:var g=o.stateNode,v=o.memoizedState;v!==null&&(d=v.retryLane);break;case 19:g=o.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),N1(o,d)}var E1;E1=function(o,l,d){if(o!==null)if(o.memoizedProps!==l.pendingProps||fn.current)hn=!0;else{if((o.lanes&d)===0&&(l.flags&128)===0)return hn=!1,$5(o,l,d);hn=(o.flags&131072)!==0}else hn=!1,et&&(l.flags&1048576)!==0&&iv(l,Yc,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;uu(o,l),o=l.pendingProps;var v=No(l,Ut.current);Ro(l,d),v=Jp(null,l,g,o,v,d);var b=Xp();return l.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,pn(g)?(b=!0,Kc(l)):b=!1,l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Hp(l),v.updater=lu,l.stateNode=v,v._reactInternals=l,rh(l,g,o,d),l=ah(null,l,g,!0,b,d)):(l.tag=0,et&&b&&Dp(l),en(null,l,v,d),l=l.child),l;case 16:g=l.elementType;e:{switch(uu(o,l),o=l.pendingProps,v=g._init,g=v(g._payload),l.type=g,v=l.tag=r3(g),o=Zn(g,o),v){case 0:l=oh(null,l,g,o,d);break e;case 1:l=Qv(null,l,g,o,d);break e;case 11:l=Gv(null,l,g,o,d);break e;case 14:l=qv(null,l,g,Zn(g.type,o),d);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:Zn(g,v),oh(o,l,g,v,d);case 1:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:Zn(g,v),Qv(o,l,g,v,d);case 3:e:{if(Zv(l),o===null)throw Error(n(387));g=l.pendingProps,b=l.memoizedState,v=b.element,hv(o,l),tu(l,g,null,d);var E=l.memoizedState;if(g=E.element,b.isDehydrated)if(b={element:g,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){v=Do(Error(n(423)),l),l=e1(o,l,g,d,v);break e}else if(g!==v){v=Do(Error(n(424)),l),l=e1(o,l,g,d,v);break e}else for(Sn=ys(l.stateNode.containerInfo.firstChild),kn=l,et=!0,Qn=null,d=fv(l,null,g,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(To(),g===v){l=$r(o,l,d);break e}en(o,l,g,d)}l=l.child}return l;case 5:return xv(l),o===null&&Lp(l),g=l.type,v=l.pendingProps,b=o!==null?o.memoizedProps:null,E=v.children,Mp(g,v)?E=null:b!==null&&Mp(g,b)&&(l.flags|=32),Xv(o,l),en(o,l,E,d),l.child;case 6:return o===null&&Lp(l),null;case 13:return t1(o,l,d);case 4:return Wp(l,l.stateNode.containerInfo),g=l.pendingProps,o===null?l.child=Ao(l,null,g,d):en(o,l,g,d),l.child;case 11:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:Zn(g,v),Gv(o,l,g,v,d);case 7:return en(o,l,l.pendingProps,d),l.child;case 8:return en(o,l,l.pendingProps.children,d),l.child;case 12:return en(o,l,l.pendingProps.children,d),l.child;case 10:e:{if(g=l.type._context,v=l.pendingProps,b=l.memoizedProps,E=v.value,qe(Qc,g._currentValue),g._currentValue=E,b!==null)if(Xn(b.value,E)){if(b.children===v.children&&!fn.current){l=$r(o,l,d);break e}}else for(b=l.child,b!==null&&(b.return=l);b!==null;){var T=b.dependencies;if(T!==null){E=b.child;for(var O=T.firstContext;O!==null;){if(O.context===g){if(b.tag===1){O=Vr(-1,d&-d),O.tag=2;var $=b.updateQueue;if($!==null){$=$.shared;var Q=$.pending;Q===null?O.next=O:(O.next=Q.next,Q.next=O),$.pending=O}}b.lanes|=d,O=b.alternate,O!==null&&(O.lanes|=d),Vp(b.return,d,l),T.lanes|=d;break}O=O.next}}else if(b.tag===10)E=b.type===l.type?null:b.child;else if(b.tag===18){if(E=b.return,E===null)throw Error(n(341));E.lanes|=d,T=E.alternate,T!==null&&(T.lanes|=d),Vp(E,d,l),E=b.sibling}else E=b.child;if(E!==null)E.return=b;else for(E=b;E!==null;){if(E===l){E=null;break}if(b=E.sibling,b!==null){b.return=E.return,E=b;break}E=E.return}b=E}en(o,l,v.children,d),l=l.child}return l;case 9:return v=l.type,g=l.pendingProps.children,Ro(l,d),v=On(v),g=g(v),l.flags|=1,en(o,l,g,d),l.child;case 14:return g=l.type,v=Zn(g,l.pendingProps),v=Zn(g.type,v),qv(o,l,g,v,d);case 15:return Yv(o,l,l.type,l.pendingProps,d);case 17:return g=l.type,v=l.pendingProps,v=l.elementType===g?v:Zn(g,v),uu(o,l),l.tag=1,pn(g)?(o=!0,Kc(l)):o=!1,Ro(l,d),Bv(l,g,v),rh(l,g,v,d),ah(null,l,g,!0,o,d);case 19:return r1(o,l,d);case 22:return Jv(o,l,d)}throw Error(n(156,l.tag))};function M1(o,l){return Tt(o,l)}function n3(o,l,d,g){this.tag=o,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(o,l,d,g){return new n3(o,l,d,g)}function Mh(o){return o=o.prototype,!(!o||!o.isReactComponent)}function r3(o){if(typeof o=="function")return Mh(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Y)return 11;if(o===ye)return 14}return 2}function As(o,l){var d=o.alternate;return d===null?(d=zn(o.tag,l,o.key,o.mode),d.elementType=o.elementType,d.type=o.type,d.stateNode=o.stateNode,d.alternate=o,o.alternate=d):(d.pendingProps=l,d.type=o.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=o.flags&14680064,d.childLanes=o.childLanes,d.lanes=o.lanes,d.child=o.child,d.memoizedProps=o.memoizedProps,d.memoizedState=o.memoizedState,d.updateQueue=o.updateQueue,l=o.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=o.sibling,d.index=o.index,d.ref=o.ref,d}function bu(o,l,d,g,v,b){var E=2;if(g=o,typeof o=="function")Mh(o)&&(E=1);else if(typeof o=="string")E=5;else e:switch(o){case L:return Ii(d.children,v,b,l);case P:E=8,v|=8;break;case K:return o=zn(12,d,l,v|2),o.elementType=K,o.lanes=b,o;case be:return o=zn(13,d,l,v),o.elementType=be,o.lanes=b,o;case le:return o=zn(19,d,l,v),o.elementType=le,o.lanes=b,o;case te:return ku(d,v,b,l);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case X:E=10;break e;case W:E=9;break e;case Y:E=11;break e;case ye:E=14;break e;case re:E=16,g=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return l=zn(E,d,l,v),l.elementType=o,l.type=g,l.lanes=b,l}function Ii(o,l,d,g){return o=zn(7,o,g,l),o.lanes=d,o}function ku(o,l,d,g){return o=zn(22,o,g,l),o.elementType=te,o.lanes=d,o.stateNode={isHidden:!1},o}function Th(o,l,d){return o=zn(6,o,null,l),o.lanes=d,o}function Ah(o,l,d){return l=zn(4,o.children!==null?o.children:[],o.key,l),l.lanes=d,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}function s3(o,l,d,g,v){this.tag=l,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=np(0),this.expirationTimes=np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.identifierPrefix=g,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function jh(o,l,d,g,v,b,E,T,O){return o=new s3(o,l,d,T,O),l===1?(l=1,b===!0&&(l|=8)):l=0,b=zn(3,null,null,l),o.current=b,b.stateNode=o,b.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hp(b),o}function i3(o,l,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:g==null?null:""+g,children:o,containerInfo:l,implementation:d}}function T1(o){if(!o)return ws;o=o._reactInternals;e:{if(pr(o)!==o||o.tag!==1)throw Error(n(170));var l=o;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(pn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(o.tag===1){var d=o.type;if(pn(d))return nv(o,d,l)}return l}function A1(o,l,d,g,v,b,E,T,O){return o=jh(d,g,!0,o,v,b,E,T,O),o.context=T1(null),d=o.current,g=tn(),v=Ms(d),b=Vr(g,v),b.callback=l??null,Ss(d,b,v),o.current.lanes=v,Pa(o,v,g),gn(o,g),o}function Su(o,l,d,g){var v=l.current,b=tn(),E=Ms(v);return d=T1(d),l.context===null?l.context=d:l.pendingContext=d,l=Vr(b,E),l.payload={element:o},g=g===void 0?null:g,g!==null&&(l.callback=g),o=Ss(v,l,E),o!==null&&(nr(o,v,E,b),eu(o,v,E)),E}function Cu(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function j1(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var d=o.retryLane;o.retryLane=d!==0&&d<l?d:l}}function Rh(o,l){j1(o,l),(o=o.alternate)&&j1(o,l)}function o3(){return null}var R1=typeof reportError=="function"?reportError:function(o){console.error(o)};function Ph(o){this._internalRoot=o}Nu.prototype.render=Ph.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));Su(o,l,null,null)},Nu.prototype.unmount=Ph.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;Ri(function(){Su(null,o,null,null)}),l[Lr]=null}};function Nu(o){this._internalRoot=o}Nu.prototype.unstable_scheduleHydration=function(o){if(o){var l=hy();o={blockedOn:null,target:o,priority:l};for(var d=0;d<ms.length&&l!==0&&l<ms[d].priority;d++);ms.splice(d,0,o),d===0&&xy(o)}};function Dh(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Eu(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function P1(){}function a3(o,l,d,g,v){if(v){if(typeof g=="function"){var b=g;g=function(){var $=Cu(E);b.call($)}}var E=A1(l,g,o,0,null,!1,!1,"",P1);return o._reactRootContainer=E,o[Lr]=E.current,Ka(o.nodeType===8?o.parentNode:o),Ri(),E}for(;v=o.lastChild;)o.removeChild(v);if(typeof g=="function"){var T=g;g=function(){var $=Cu(O);T.call($)}}var O=jh(o,0,!1,null,null,!1,!1,"",P1);return o._reactRootContainer=O,o[Lr]=O.current,Ka(o.nodeType===8?o.parentNode:o),Ri(function(){Su(l,O,d,g)}),O}function Mu(o,l,d,g,v){var b=d._reactRootContainer;if(b){var E=b;if(typeof v=="function"){var T=v;v=function(){var O=Cu(E);T.call(O)}}Su(l,E,o,v)}else E=a3(d,l,o,v,g);return Cu(E)}fy=function(o){switch(o.tag){case 3:var l=o.stateNode;if(l.current.memoizedState.isDehydrated){var d=Ra(l.pendingLanes);d!==0&&(rp(l,d|1),gn(l,$e()),(He&6)===0&&(Lo=$e()+500,bs()))}break;case 13:Ri(function(){var g=Br(o,1);if(g!==null){var v=tn();nr(g,o,1,v)}}),Rh(o,1)}},sp=function(o){if(o.tag===13){var l=Br(o,134217728);if(l!==null){var d=tn();nr(l,o,134217728,d)}Rh(o,134217728)}},py=function(o){if(o.tag===13){var l=Ms(o),d=Br(o,l);if(d!==null){var g=tn();nr(d,o,l,g)}Rh(o,l)}},hy=function(){return Ue},my=function(o,l){var d=Ue;try{return Ue=o,l()}finally{Ue=d}},mi=function(o,l,d){switch(l){case"input":if(Mt(o,d),l=d.name,d.type==="radio"&&l!=null){for(d=o;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var g=d[l];if(g!==o&&g.form===o.form){var v=Wc(g);if(!v)throw Error(n(90));Ze(g),Mt(g,v)}}}break;case"textarea":yc(o,d);break;case"select":l=d.value,l!=null&&ls(o,!!d.multiple,l,!1)}},mo=Ch,Ta=Ri;var l3={usingClientEntryPoint:!1,Events:[Ya,So,Wc,wc,gi,Ch]},cl={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c3={bundleType:cl.bundleType,version:cl.version,rendererPackageName:cl.rendererPackageName,rendererConfig:cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Se(o),o===null?null:o.stateNode},findFiberByHostInstance:cl.findFiberByHostInstance||o3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Nc=Tu.inject(c3),hr=Tu}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l3,xn.createPortal=function(o,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dh(l))throw Error(n(200));return i3(o,l,null,d)},xn.createRoot=function(o,l){if(!Dh(o))throw Error(n(299));var d=!1,g="",v=R1;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),l=jh(o,1,!1,null,null,d,!1,g,v),o[Lr]=l.current,Ka(o.nodeType===8?o.parentNode:o),new Ph(l)},xn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Se(l),o=o===null?null:o.stateNode,o},xn.flushSync=function(o){return Ri(o)},xn.hydrate=function(o,l,d){if(!Eu(l))throw Error(n(200));return Mu(null,o,l,!0,d)},xn.hydrateRoot=function(o,l,d){if(!Dh(o))throw Error(n(405));var g=d!=null&&d.hydratedSources||null,v=!1,b="",E=R1;if(d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(E=d.onRecoverableError)),l=A1(l,null,o,1,d??null,v,!1,b,E),o[Lr]=l.current,Ka(o),g)for(o=0;o<g.length;o++)d=g[o],v=d._getVersion,v=v(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,v]:l.mutableSourceEagerHydrationData.push(d,v);return new Nu(l)},xn.render=function(o,l,d){if(!Eu(l))throw Error(n(200));return Mu(null,o,l,!1,d)},xn.unmountComponentAtNode=function(o){if(!Eu(o))throw Error(n(40));return o._reactRootContainer?(Ri(function(){Mu(null,null,o,!1,function(){o._reactRootContainer=null,o[Lr]=null})}),!0):!1},xn.unstable_batchedUpdates=Ch,xn.unstable_renderSubtreeIntoContainer=function(o,l,d,g){if(!Eu(d))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Mu(o,l,d,!1,g)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var B1;function M2(){if(B1)return Lh.exports;B1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Lh.exports=x3(),Lh.exports}var V1;function y3(){if(V1)return Au;V1=1;var t=M2();return Au.createRoot=t.createRoot,Au.hydrateRoot=t.hydrateRoot,Au}var v3=y3(),N=ic();const nn=E2(N),w3=d3({__proto__:null,default:nn},[N]),gx=N.createContext({});function xx(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const T2=typeof window<"u",A2=T2?N.useLayoutEffect:N.useEffect,Nf=N.createContext(null);function yx(t,e){t.indexOf(e)===-1&&t.push(e)}function vx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Er=(t,e,n)=>n>e?e:n<t?t:n;let wx=()=>{};const ts={},j2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function R2(t){return typeof t=="object"&&t!==null}const P2=t=>/^0[^.\s]+$/u.test(t);function bx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Un=t=>t,b3=(t,e)=>n=>e(t(n)),oc=(...t)=>t.reduce(b3),Fl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class kx{constructor(){this.subscriptions=[]}add(e){return yx(this.subscriptions,e),()=>vx(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qr=t=>t*1e3,Wn=t=>t/1e3;function D2(t,e){return e?t*(1e3/e):0}const I2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,k3=1e-7,S3=12;function C3(t,e,n,r,s){let i,a,c=0;do a=e+(n-e)/2,i=I2(a,r,s)-t,i>0?n=a:e=a;while(Math.abs(i)>k3&&++c<S3);return a}function ac(t,e,n,r){if(t===e&&n===r)return Un;const s=i=>C3(i,0,1,t,n);return i=>i===0||i===1?i:I2(s(i),e,r)}const O2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,L2=t=>e=>1-t(1-e),_2=ac(.33,1.53,.69,.99),Sx=L2(_2),z2=O2(Sx),F2=t=>(t*=2)<1?.5*Sx(t):.5*(2-Math.pow(2,-10*(t-1))),Cx=t=>1-Math.sin(Math.acos(t)),B2=L2(Cx),V2=O2(Cx),N3=ac(.42,0,1,1),E3=ac(0,0,.58,1),$2=ac(.42,0,.58,1),M3=t=>Array.isArray(t)&&typeof t[0]!="number",H2=t=>Array.isArray(t)&&typeof t[0]=="number",T3={linear:Un,easeIn:N3,easeInOut:$2,easeOut:E3,circIn:Cx,circInOut:V2,circOut:B2,backIn:Sx,backInOut:z2,backOut:_2,anticipate:F2},A3=t=>typeof t=="string",$1=t=>{if(H2(t)){wx(t.length===4);const[e,n,r,s]=t;return ac(e,n,r,s)}else if(A3(t))return T3[t];return t},ju=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function j3(t,e){let n=new Set,r=new Set,s=!1,i=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(h){a.has(h)&&(f.schedule(h),t()),h(c)}const f={schedule:(h,m=!1,x=!1)=>{const w=x&&s?n:r;return m&&a.add(h),w.has(h)||w.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(c=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),n.clear(),s=!1,i&&(i=!1,f.process(h))}};return f}const R3=40;function W2(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=ju.reduce((A,D)=>(A[D]=j3(i),A),{}),{setup:c,read:u,resolveKeyframes:f,preUpdate:h,update:m,preRender:x,render:y,postRender:w}=a,k=()=>{const A=ts.useManualTiming?s.timestamp:performance.now();n=!1,ts.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(A-s.timestamp,R3),1)),s.timestamp=A,s.isProcessing=!0,c.process(s),u.process(s),f.process(s),h.process(s),m.process(s),x.process(s),y.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(k))},S=()=>{n=!0,r=!0,s.isProcessing||t(k)};return{schedule:ju.reduce((A,D)=>{const j=a[D];return A[D]=(I,L=!1,P=!1)=>(n||S(),j.schedule(I,L,P)),A},{}),cancel:A=>{for(let D=0;D<ju.length;D++)a[ju[D]].cancel(A)},state:s,steps:a}}const{schedule:Qe,cancel:Qs,state:Bt,steps:Fh}=W2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0);let nd;function P3(){nd=void 0}const rn={now:()=>(nd===void 0&&rn.set(Bt.isProcessing||ts.useManualTiming?Bt.timestamp:performance.now()),nd),set:t=>{nd=t,queueMicrotask(P3)}},U2=t=>e=>typeof e=="string"&&e.startsWith(t),K2=U2("--"),D3=U2("var(--"),Nx=t=>D3(t)?I3.test(t.split("/*")[0].trim()):!1,I3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function H1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ya={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bl={...ya,transform:t=>Er(0,1,t)},Ru={...ya,default:1},Sl=t=>Math.round(t*1e5)/1e5,Ex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O3(t){return t==null}const L3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mx=(t,e)=>n=>!!(typeof n=="string"&&L3.test(n)&&n.startsWith(t)||e&&!O3(n)&&Object.prototype.hasOwnProperty.call(n,e)),G2=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,a,c]=r.match(Ex);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},_3=t=>Er(0,255,t),Bh={...ya,transform:t=>Math.round(_3(t))},$i={test:Mx("rgb","red"),parse:G2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Bh.transform(t)+", "+Bh.transform(e)+", "+Bh.transform(n)+", "+Sl(Bl.transform(r))+")"};function z3(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const eg={test:Mx("#"),parse:z3,transform:$i.transform},lc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Is=lc("deg"),Cr=lc("%"),fe=lc("px"),F3=lc("vh"),B3=lc("vw"),W1={...Cr,parse:t=>Cr.parse(t)/100,transform:t=>Cr.transform(t*100)},Yo={test:Mx("hsl","hue"),parse:G2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Cr.transform(Sl(e))+", "+Cr.transform(Sl(n))+", "+Sl(Bl.transform(r))+")"},gt={test:t=>$i.test(t)||eg.test(t)||Yo.test(t),parse:t=>$i.test(t)?$i.parse(t):Yo.test(t)?Yo.parse(t):eg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$i.transform(t):Yo.transform(t),getAnimatableNone:t=>{const e=gt.parse(t);return e.alpha=0,gt.transform(e)}},V3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function $3(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ex))==null?void 0:e.length)||0)+(((n=t.match(V3))==null?void 0:n.length)||0)>0}const q2="number",Y2="color",H3="var",W3="var(",U1="${}",U3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const c=e.replace(U3,u=>(gt.test(u)?(r.color.push(i),s.push(Y2),n.push(gt.parse(u))):u.startsWith(W3)?(r.var.push(i),s.push(H3),n.push(u)):(r.number.push(i),s.push(q2),n.push(parseFloat(u))),++i,U1)).split(U1);return{values:n,split:c,indexes:r,types:s}}function J2(t){return Vl(t).values}function X2(t){const{split:e,types:n}=Vl(t),r=e.length;return s=>{let i="";for(let a=0;a<r;a++)if(i+=e[a],s[a]!==void 0){const c=n[a];c===q2?i+=Sl(s[a]):c===Y2?i+=gt.transform(s[a]):i+=s[a]}return i}}const K3=t=>typeof t=="number"?0:gt.test(t)?gt.getAnimatableNone(t):t;function G3(t){const e=J2(t);return X2(t)(e.map(K3))}const Zs={test:$3,parse:J2,createTransformer:X2,getAnimatableNone:G3};function Vh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function q3({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,a=0;if(!e)s=i=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,u=2*n-c;s=Vh(u,c,t+1/3),i=Vh(u,c,t),a=Vh(u,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:r}}function wd(t,e){return n=>n>0?e:t}const st=(t,e,n)=>t+(e-t)*n,$h=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Y3=[eg,$i,Yo],J3=t=>Y3.find(e=>e.test(t));function K1(t){const e=J3(t);if(!e)return!1;let n=e.parse(t);return e===Yo&&(n=q3(n)),n}const G1=(t,e)=>{const n=K1(t),r=K1(e);if(!n||!r)return wd(t,e);const s={...n};return i=>(s.red=$h(n.red,r.red,i),s.green=$h(n.green,r.green,i),s.blue=$h(n.blue,r.blue,i),s.alpha=st(n.alpha,r.alpha,i),$i.transform(s))},tg=new Set(["none","hidden"]);function X3(t,e){return tg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Q3(t,e){return n=>st(t,e,n)}function Tx(t){return typeof t=="number"?Q3:typeof t=="string"?Nx(t)?wd:gt.test(t)?G1:tj:Array.isArray(t)?Q2:typeof t=="object"?gt.test(t)?G1:Z3:wd}function Q2(t,e){const n=[...t],r=n.length,s=t.map((i,a)=>Tx(i)(i,e[a]));return i=>{for(let a=0;a<r;a++)n[a]=s[a](i);return n}}function Z3(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Tx(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function ej(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][r[i]],c=t.values[a]??0;n[s]=c,r[i]++}return n}const tj=(t,e)=>{const n=Zs.createTransformer(e),r=Vl(t),s=Vl(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?tg.has(t)&&!s.values.length||tg.has(e)&&!r.values.length?X3(t,e):oc(Q2(ej(r,s),s.values),n):wd(t,e)};function Z2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?st(t,e,n):Tx(t)(t,e)}const nj=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Qe.update(e,n),stop:()=>Qs(e),now:()=>Bt.isProcessing?Bt.timestamp:rn.now()}},eS=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},bd=2e4;function Ax(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<bd;)e+=n,r=t.next(e);return e>=bd?1/0:e}function rj(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Ax(r),bd);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Wn(s)}}const sj=5;function tS(t,e,n){const r=Math.max(e-sj,0);return D2(n-t(r),e-r)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hh=.001;function ij({duration:t=ut.duration,bounce:e=ut.bounce,velocity:n=ut.velocity,mass:r=ut.mass}){let s,i,a=1-e;a=Er(ut.minDamping,ut.maxDamping,a),t=Er(ut.minDuration,ut.maxDuration,Wn(t)),a<1?(s=f=>{const h=f*a,m=h*t,x=h-n,y=ng(f,a),w=Math.exp(-m);return Hh-x/y*w},i=f=>{const m=f*a*t,x=m*n+n,y=Math.pow(a,2)*Math.pow(f,2)*t,w=Math.exp(-m),k=ng(Math.pow(f,2),a);return(-s(f)+Hh>0?-1:1)*((x-y)*w)/k}):(s=f=>{const h=Math.exp(-f*t),m=(f-n)*t+1;return-Hh+h*m},i=f=>{const h=Math.exp(-f*t),m=(n-f)*(t*t);return h*m});const c=5/t,u=aj(s,i,c);if(t=Qr(t),isNaN(u))return{stiffness:ut.stiffness,damping:ut.damping,duration:t};{const f=Math.pow(u,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const oj=12;function aj(t,e,n){let r=n;for(let s=1;s<oj;s++)r=r-t(r)/e(r);return r}function ng(t,e){return t*Math.sqrt(1-e*e)}const lj=["duration","bounce"],cj=["stiffness","damping","mass"];function q1(t,e){return e.some(n=>t[n]!==void 0)}function uj(t){let e={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...t};if(!q1(t,cj)&&q1(t,lj))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Er(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ut.mass,stiffness:s,damping:i}}else{const n=ij(t);e={...e,...n,mass:ut.mass},e.isResolvedFromDuration=!0}return e}function kd(t=ut.visualDuration,e=ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:u,damping:f,mass:h,duration:m,velocity:x,isResolvedFromDuration:y}=uj({...n,velocity:-Wn(n.velocity||0)}),w=x||0,k=f/(2*Math.sqrt(u*h)),S=a-i,C=Wn(Math.sqrt(u/h)),M=Math.abs(S)<5;r||(r=M?ut.restSpeed.granular:ut.restSpeed.default),s||(s=M?ut.restDelta.granular:ut.restDelta.default);let A;if(k<1){const j=ng(C,k);A=I=>{const L=Math.exp(-k*C*I);return a-L*((w+k*C*S)/j*Math.sin(j*I)+S*Math.cos(j*I))}}else if(k===1)A=j=>a-Math.exp(-C*j)*(S+(w+C*S)*j);else{const j=C*Math.sqrt(k*k-1);A=I=>{const L=Math.exp(-k*C*I),P=Math.min(j*I,300);return a-L*((w+k*C*S)*Math.sinh(P)+j*S*Math.cosh(P))/j}}const D={calculatedDuration:y&&m||null,next:j=>{const I=A(j);if(y)c.done=j>=m;else{let L=j===0?w:0;k<1&&(L=j===0?Qr(w):tS(A,j,I));const P=Math.abs(L)<=r,K=Math.abs(a-I)<=s;c.done=P&&K}return c.value=c.done?a:I,c},toString:()=>{const j=Math.min(Ax(D),bd),I=eS(L=>D.next(j*L).value,j,30);return j+"ms "+I},toTransition:()=>{}};return D}kd.applyToOptions=t=>{const e=rj(t,100,kd);return t.ease=e.ease,t.duration=Qr(e.duration),t.type="keyframes",t};function rg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:c,max:u,restDelta:f=.5,restSpeed:h}){const m=t[0],x={done:!1,value:m},y=P=>c!==void 0&&P<c||u!==void 0&&P>u,w=P=>c===void 0?u:u===void 0||Math.abs(c-P)<Math.abs(u-P)?c:u;let k=n*e;const S=m+k,C=a===void 0?S:a(S);C!==S&&(k=C-m);const M=P=>-k*Math.exp(-P/r),A=P=>C+M(P),D=P=>{const K=M(P),X=A(P);x.done=Math.abs(K)<=f,x.value=x.done?C:X};let j,I;const L=P=>{y(x.value)&&(j=P,I=kd({keyframes:[x.value,w(x.value)],velocity:tS(A,P,x.value),damping:s,stiffness:i,restDelta:f,restSpeed:h}))};return L(0),{calculatedDuration:null,next:P=>{let K=!1;return!I&&j===void 0&&(K=!0,D(P),L(P)),j!==void 0&&P>=j?I.next(P-j):(!K&&D(P),x)}}}function dj(t,e,n){const r=[],s=n||ts.mix||Z2,i=t.length-1;for(let a=0;a<i;a++){let c=s(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||Un:e;c=oc(u,c)}r.push(c)}return r}function fj(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(wx(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=dj(e,r,s),u=c.length,f=h=>{if(a&&h<t[0])return e[0];let m=0;if(u>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const x=Fl(t[m],t[m+1],h);return c[m](x)};return n?h=>f(Er(t[0],t[i-1],h)):f}function pj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Fl(0,e,r);t.push(st(n,1,s))}}function hj(t){const e=[0];return pj(e,t.length-1),e}function mj(t,e){return t.map(n=>n*e)}function gj(t,e){return t.map(()=>e||$2).splice(0,t.length-1)}function Cl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=M3(r)?r.map($1):$1(r),i={done:!1,value:e[0]},a=mj(n&&n.length===e.length?n:hj(e),t),c=fj(a,e,{ease:Array.isArray(s)?s:gj(e,s)});return{calculatedDuration:t,next:u=>(i.value=c(u),i.done=u>=t,i)}}const xj=t=>t!==null;function jx(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(xj),c=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!c||r===void 0?i[c]:r}const yj={decay:rg,inertia:rg,tween:Cl,keyframes:Cl,spring:kd};function nS(t){typeof t.type=="string"&&(t.type=yj[t.type])}class Rx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const vj=t=>t/100;class Px extends Rx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==rn.now()&&this.tick(rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;nS(e);const{type:n=Cl,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=e;let{keyframes:c}=e;const u=n||Cl;u!==Cl&&typeof c[0]!="number"&&(this.mixKeyframes=oc(vj,Z2(c[0],c[1])),c=[0,100]);const f=u({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=Ax(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:h,repeat:m,repeatType:x,repeatDelay:y,type:w,onUpdate:k,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-f*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let A=this.currentTime,D=r;if(m){const P=Math.min(this.currentTime,s)/c;let K=Math.floor(P),X=P%1;!X&&P>=1&&(X=1),X===1&&K--,K=Math.min(K,m+1),!!(K%2)&&(x==="reverse"?(X=1-X,y&&(X-=y/c)):x==="mirror"&&(D=a)),A=Er(0,1,X)*c}const j=M?{done:!1,value:h[0]}:D.next(A);i&&(j.value=i(j.value));let{done:I}=j;!M&&u!==null&&(I=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return L&&w!==rg&&(j.value=jx(h,this.options,S,this.speed)),k&&k(j.value),L&&this.finish(),j}then(e,n){return this.finished.then(e,n)}get duration(){return Wn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wn(e)}get time(){return Wn(this.currentTime)}set time(e){var n;e=Qr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=nj,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function wj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Hi=t=>t*180/Math.PI,sg=t=>{const e=Hi(Math.atan2(t[1],t[0]));return ig(e)},bj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:sg,rotateZ:sg,skewX:t=>Hi(Math.atan(t[1])),skewY:t=>Hi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ig=t=>(t=t%360,t<0&&(t+=360),t),Y1=sg,J1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),X1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),kj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:J1,scaleY:X1,scale:t=>(J1(t)+X1(t))/2,rotateX:t=>ig(Hi(Math.atan2(t[6],t[5]))),rotateY:t=>ig(Hi(Math.atan2(-t[2],t[0]))),rotateZ:Y1,rotate:Y1,skewX:t=>Hi(Math.atan(t[4])),skewY:t=>Hi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function og(t){return t.includes("scale")?1:0}function ag(t,e){if(!t||t==="none")return og(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=kj,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=bj,s=c}if(!s)return og(e);const i=r[e],a=s[1].split(",").map(Cj);return typeof i=="function"?i(a):a[i]}const Sj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ag(n,e)};function Cj(t){return parseFloat(t.trim())}const va=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wa=new Set(va),Q1=t=>t===ya||t===fe,Nj=new Set(["x","y","z"]),Ej=va.filter(t=>!Nj.has(t));function Mj(t){const e=[];return Ej.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Hs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ag(e,"x"),y:(t,{transform:e})=>ag(e,"y")};Hs.translateX=Hs.x;Hs.translateY=Hs.y;const qi=new Set;let lg=!1,cg=!1,ug=!1;function rS(){if(cg){const t=Array.from(qi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Mj(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,a])=>{var c;(c=r.getValue(i))==null||c.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}cg=!1,lg=!1,qi.forEach(t=>t.complete(ug)),qi.clear()}function sS(){qi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(cg=!0)})}function Tj(){ug=!0,sS(),rS(),ug=!1}class Dx{constructor(e,n,r,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(qi.add(this),lg||(lg=!0,Qe.read(sS),Qe.resolveKeyframes(rS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}wj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qi.delete(this)}cancel(){this.state==="scheduled"&&(qi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Aj=t=>t.startsWith("--");function jj(t,e,n){Aj(e)?t.style.setProperty(e,n):t.style[e]=n}const Rj=bx(()=>window.ScrollTimeline!==void 0),Pj={};function Dj(t,e){const n=bx(t);return()=>Pj[e]??n()}const iS=Dj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Z1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gl([0,.65,.55,1]),circOut:gl([.55,0,1,.45]),backIn:gl([.31,.01,.66,-.59]),backOut:gl([.33,1.53,.69,.99])};function oS(t,e){if(t)return typeof t=="function"?iS()?eS(t,e):"ease-out":H2(t)?gl(t):Array.isArray(t)?t.map(n=>oS(n,e)||Z1.easeOut):Z1[t]}function Ij(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:c="easeOut",times:u}={},f=void 0){const h={[e]:n};u&&(h.offset=u);const m=oS(c,s);Array.isArray(m)&&(h.easing=m);const x={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),t.animate(h,x)}function aS(t){return typeof t=="function"&&"applyToOptions"in t}function Oj({type:t,...e}){return aS(t)&&iS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Lj extends Rx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,wx(typeof e.type!="string");const f=Oj(e);this.animation=Ij(n,r,s,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=jx(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(h):jj(n,r,h),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Wn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Wn(e)}get time(){return Wn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Qr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Rj()?(this.animation.timeline=e,Un):n(this)}}const lS={anticipate:F2,backInOut:z2,circInOut:V2};function _j(t){return t in lS}function zj(t){typeof t.ease=="string"&&_j(t.ease)&&(t.ease=lS[t.ease])}const Wh=10;class Fj extends Lj{constructor(e){zj(e),nS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Px({...a,autoplay:!1}),u=Math.max(Wh,rn.now()-this.startTime),f=Er(0,Wh,u-Wh);n.setWithVelocity(c.sample(Math.max(0,u-f)).value,c.sample(u).value,f),c.stop()}}const ew=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zs.test(t)||t==="0")&&!t.startsWith("url("));function Bj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Vj(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=ew(s,e),c=ew(i,e);return!a||!c?!1:Bj(t)||(n==="spring"||aS(n))&&r}function dg(t){t.duration=0,t.type="keyframes"}const $j=new Set(["opacity","clipPath","filter","transform"]),Hj=bx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Wj(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return Hj()&&n&&$j.has(n)&&(n!=="transform"||!f)&&!u&&!r&&s!=="mirror"&&i!==0&&a!=="inertia"}const Uj=40;class Kj extends Rx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:c,name:u,motionValue:f,element:h,...m}){var w;super(),this.stop=()=>{var k,S;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=rn.now();const x={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:a,name:u,motionValue:f,element:h,...m},y=(h==null?void 0:h.KeyframeResolver)||Dx;this.keyframeResolver=new y(c,(k,S,C)=>this.onKeyframesResolved(k,S,x,!C),u,f,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:c,delay:u,isHandoff:f,onUpdate:h}=r;this.resolvedAt=rn.now(),Vj(e,i,a,c)||((ts.instantAnimations||!u)&&(h==null||h(jx(e,r,n))),e[0]=e[e.length-1],dg(r),r.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Uj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!f&&Wj(x)?new Fj({...x,element:x.motionValue.owner.current}):new Px(x);y.finished.then(()=>this.notifyFinished()).catch(Un),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Tj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Gj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qj(t){const e=Gj.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function cS(t,e,n=1){const[r,s]=qj(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const a=i.trim();return j2(a)?parseFloat(a):a}return Nx(s)?cS(s,e,n+1):s}function Ix(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Yj={type:"spring",stiffness:500,damping:25,restSpeed:10},Jj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Xj={type:"keyframes",duration:.8},Qj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zj=(t,{keyframes:e})=>e.length>2?Xj:wa.has(t)?t.startsWith("scale")?Jj(e[1]):Yj:Qj;function e4({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:c,from:u,elapsed:f,...h}){return!!Object.keys(h).length}const t4=t=>t!==null;function n4(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(t4),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}function uS(t,e,n,r=0,s=1){const i=Array.from(t).sort((f,h)=>f.sortNodePosition(h)).indexOf(e),a=t.size,c=(a-1)*r;return typeof n=="function"?n(i,a):s===1?i*r:c-i*r}const Ox=(t,e,n,r={},s,i)=>a=>{const c=Ix(r,t)||{},u=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-Qr(u);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:s};e4(c)||Object.assign(h,Zj(t,h)),h.duration&&(h.duration=Qr(h.duration)),h.repeatDelay&&(h.repeatDelay=Qr(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(dg(h),h.delay===0&&(m=!0)),(ts.instantAnimations||ts.skipAnimations)&&(m=!0,dg(h),h.delay=0),h.allowFlatten=!c.type&&!c.ease,m&&!i&&e.get()!==void 0){const x=n4(h.keyframes,c);if(x!==void 0){Qe.update(()=>{h.onUpdate(x),h.onComplete()});return}}return c.isSync?new Px(h):new Kj(h)},dS=new Set(["width","height","top","left","right","bottom",...va]),tw=30,r4=t=>!isNaN(parseFloat(t));class s4{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=rn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=r4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new kx);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>tw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,tw);return D2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function la(t,e){return new s4(t,e)}function nw(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Lx(t,e,n,r){if(typeof e=="function"){const[s,i]=nw(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=nw(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function ta(t,e,n){const r=t.getProps();return Lx(r,e,n!==void 0?n:r.custom,t)}const fg=t=>Array.isArray(t);function i4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,la(n))}function o4(t){return fg(t)?t[t.length-1]||0:t}function a4(t,e){const n=ta(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i){const c=o4(i[a]);i4(t,a,c)}}const Jt=t=>!!(t&&t.getVelocity);function l4(t){return!!(Jt(t)&&t.add)}function pg(t,e){const n=t.getValue("willChange");if(l4(n))return n.add(e);if(!n&&ts.WillChange){const r=new ts.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function _x(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const c4="framerAppearId",fS="data-"+_x(c4);function pS(t){return t.props[fS]}function u4({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function hS(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(i=r);const u=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const h in c){const m=t.getValue(h,t.latestValues[h]??null),x=c[h];if(x===void 0||f&&u4(f,h))continue;const y={delay:n,...Ix(i||{},h)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(x)&&x===w&&!y.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const C=pS(t);if(C){const M=window.MotionHandoffAnimation(C,h,Qe);M!==null&&(y.startTime=M,k=!0)}}pg(t,h),m.start(Ox(h,m,x,t.shouldReduceMotion&&dS.has(h)?{type:!1}:y,t,k));const S=m.animation;S&&u.push(S)}return a&&Promise.all(u).then(()=>{Qe.update(()=>{a&&a4(t,a)})}),u}function hg(t,e,n={}){var u;const r=ta(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(hS(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:x}=s;return d4(t,e,f,h,m,x,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,h]=c==="beforeChildren"?[i,a]:[a,i];return f().then(()=>h())}else return Promise.all([i(),a(n.delay)])}function d4(t,e,n=0,r=0,s=0,i=1,a){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(hg(u,e,{...a,delay:n+(typeof r=="function"?0:r)+uS(t.variantChildren,u,r,s,i)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function f4(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>hg(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=hg(t,e,n);else{const s=typeof e=="function"?ta(t,e,n.custom):e;r=Promise.all(hS(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const p4={test:t=>t==="auto",parse:t=>t},mS=t=>e=>e.test(t),gS=[ya,fe,Cr,Is,B3,F3,p4],rw=t=>gS.find(mS(t));function h4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||P2(t):!0}const m4=new Set(["brightness","contrast","saturate","opacity"]);function g4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ex)||[];if(!r)return t;const s=n.replace(r,"");let i=m4.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const x4=/\b([a-z-]*)\(.*?\)/gu,mg={...Zs,getAnimatableNone:t=>{const e=t.match(x4);return e?e.map(g4).join(" "):t}},sw={...ya,transform:Math.round},y4={rotate:Is,rotateX:Is,rotateY:Is,rotateZ:Is,scale:Ru,scaleX:Ru,scaleY:Ru,scaleZ:Ru,skew:Is,skewX:Is,skewY:Is,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:Bl,originX:W1,originY:W1,originZ:fe},zx={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,inset:fe,insetBlock:fe,insetBlockStart:fe,insetBlockEnd:fe,insetInline:fe,insetInlineStart:fe,insetInlineEnd:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,paddingBlock:fe,paddingBlockStart:fe,paddingBlockEnd:fe,paddingInline:fe,paddingInlineStart:fe,paddingInlineEnd:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,marginBlock:fe,marginBlockStart:fe,marginBlockEnd:fe,marginInline:fe,marginInlineStart:fe,marginInlineEnd:fe,backgroundPositionX:fe,backgroundPositionY:fe,...y4,zIndex:sw,fillOpacity:Bl,strokeOpacity:Bl,numOctaves:sw},v4={...zx,color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,filter:mg,WebkitFilter:mg},xS=t=>v4[t];function yS(t,e){let n=xS(t);return n!==mg&&(n=Zs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const w4=new Set(["auto","none","0"]);function b4(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!w4.has(i)&&Vl(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=yS(n,s)}class k4 extends Dx{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),Nx(m))){const x=cS(m,n.current);x!==void 0&&(e[h]=x),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!dS.has(r)||e.length!==2)return;const[s,i]=e,a=rw(s),c=rw(i),u=H1(s),f=H1(i);if(u!==f&&Hs[r]){this.needsMeasurement=!0;return}if(a!==c)if(Q1(a)&&Q1(c))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else Hs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||h4(e[s]))&&r.push(s);r.length&&b4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,a=r[i];r[i]=Hs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function S4(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const vS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function wS(t){return R2(t)&&"offsetHeight"in t}const{schedule:Fx}=W2(queueMicrotask,!1),sr={x:!1,y:!1};function bS(){return sr.x||sr.y}function C4(t){return t==="x"||t==="y"?sr[t]?null:(sr[t]=!0,()=>{sr[t]=!1}):sr.x||sr.y?null:(sr.x=sr.y=!0,()=>{sr.x=sr.y=!1})}function kS(t,e){const n=S4(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function iw(t){return!(t.pointerType==="touch"||bS())}function N4(t,e,n={}){const[r,s,i]=kS(t,n),a=c=>{if(!iw(c))return;const{target:u}=c,f=e(u,c);if(typeof f!="function"||!u)return;const h=m=>{iw(m)&&(f(m),u.removeEventListener("pointerleave",h))};u.addEventListener("pointerleave",h,s)};return r.forEach(c=>{c.addEventListener("pointerenter",a,s)}),i}const SS=(t,e)=>e?t===e?!0:SS(t,e.parentElement):!1,Bx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,E4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CS(t){return E4.has(t.tagName)||t.isContentEditable===!0}const rd=new WeakSet;function ow(t){return e=>{e.key==="Enter"&&t(e)}}function Uh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const M4=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ow(()=>{if(rd.has(n))return;Uh(n,"down");const s=ow(()=>{Uh(n,"up")}),i=()=>Uh(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function aw(t){return Bx(t)&&!bS()}function T4(t,e,n={}){const[r,s,i]=kS(t,n),a=c=>{const u=c.currentTarget;if(!aw(c))return;rd.add(u);const f=e(u,c),h=(y,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",x),rd.has(u)&&rd.delete(u),aw(y)&&typeof f=="function"&&f(y,{success:w})},m=y=>{h(y,u===window||u===document||n.useGlobalTarget||SS(u,y.target))},x=y=>{h(y,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",x,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),wS(c)&&(c.addEventListener("focus",f=>M4(f,s)),!CS(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function NS(t){return R2(t)&&"ownerSVGElement"in t}function A4(t){return NS(t)&&t.tagName==="svg"}const j4=[...gS,gt,Zs],R4=t=>j4.find(mS(t)),lw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jo=()=>({x:lw(),y:lw()}),cw=()=>({min:0,max:0}),Nt=()=>({x:cw(),y:cw()}),gg={current:null},ES={current:!1},P4=typeof window<"u";function D4(){if(ES.current=!0,!!P4)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>gg.current=t.matches;t.addEventListener("change",e),e()}else gg.current=!1}const I4=new WeakMap;function Ef(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $l(t){return typeof t=="string"||Array.isArray(t)}const Vx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$x=["initial",...Vx];function Mf(t){return Ef(t.animate)||$x.some(e=>$l(t[e]))}function MS(t){return!!(Mf(t)||t.variants)}function O4(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Jt(s))t.addValue(r,s);else if(Jt(i))t.addValue(r,la(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,la(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const uw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Sd={};function TS(t){Sd=t}function L4(){return Sd}class _4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=rn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Qe.render(this.render,!1,!0))};const{latestValues:u,renderState:f}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Mf(n),this.isVariantNode=MS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in m){const y=m[x];u[x]!==void 0&&Jt(y)&&y.set(u[x])}}mount(e){var n;this.current=e,I4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(ES.current||D4(),this.shouldReduceMotion=gg.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Qs(this.notifyUpdate),Qs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=wa.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sd){const n=Sd[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<uw.length;r++){const s=uw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=e[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=O4(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=la(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(j2(r)||P2(r))?r=parseFloat(r):!R4(r)&&Zs.test(n)&&(r=yS(e,n)),this.setBaseTarget(e,Jt(r)?r.get():r)),Jt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Lx(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Jt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new kx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Fx.render(this.render)}}class si{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AS extends _4{constructor(){super(...arguments),this.KeyframeResolver=k4}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jS({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function z4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function F4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Kh(t){return t===void 0||t===1}function xg({scale:t,scaleX:e,scaleY:n}){return!Kh(t)||!Kh(e)||!Kh(n)}function zi(t){return xg(t)||RS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function RS(t){return dw(t.x)||dw(t.y)}function dw(t){return t&&t!=="0%"}function Cd(t,e,n){const r=t-n,s=e*r;return n+s}function fw(t,e,n,r,s){return s!==void 0&&(t=Cd(t,s,r)),Cd(t,n,r)+e}function yg(t,e=0,n=1,r,s){t.min=fw(t.min,e,n,r,s),t.max=fw(t.max,e,n,r,s)}function PS(t,{x:e,y:n}){yg(t.x,e.translate,e.scale,e.originPoint),yg(t.y,n.translate,n.scale,n.originPoint)}const pw=.999999999999,hw=1.0000000000001;function B4(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,a;for(let c=0;c<s;c++){i=n[c],a=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Qo(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,PS(t,a)),r&&zi(i.latestValues)&&Qo(t,i.latestValues))}e.x<hw&&e.x>pw&&(e.x=1),e.y<hw&&e.y>pw&&(e.y=1)}function Xo(t,e){t.min=t.min+e,t.max=t.max+e}function mw(t,e,n,r,s=.5){const i=st(t.min,t.max,s);yg(t,e,n,i,r)}function Qo(t,e){mw(t.x,e.x,e.scaleX,e.scale,e.originX),mw(t.y,e.y,e.scaleY,e.scale,e.originY)}function DS(t,e){return jS(F4(t.getBoundingClientRect(),e))}function V4(t,e,n){const r=DS(t,n),{scroll:s}=e;return s&&(Xo(r.x,s.offset.x),Xo(r.y,s.offset.y)),r}const $4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},H4=va.length;function W4(t,e,n){let r="",s=!0;for(let i=0;i<H4;i++){const a=va[i],c=t[a];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(a.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||n){const f=vS(c,zx[a]);if(!u){s=!1;const h=$4[a]||a;r+=`${h}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Hx(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let a=!1,c=!1;for(const u in e){const f=e[u];if(wa.has(u)){a=!0;continue}else if(K2(u)){s[u]=f;continue}else{const h=vS(f,zx[u]);u.startsWith("origin")?(c=!0,i[u]=h):r[u]=h}}if(e.transform||(a||n?r.transform=W4(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:f="50%",originZ:h=0}=i;r.transformOrigin=`${u} ${f} ${h}`}}function IS(t,{style:e,vars:n},r,s){const i=t.style;let a;for(a in e)i[a]=e[a];s==null||s.applyProjectionStyles(i,r);for(a in n)i.setProperty(a,n[a])}function gw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(fe.test(t))t=parseFloat(t);else return t;const n=gw(t,e.target.x),r=gw(t,e.target.y);return`${n}% ${r}%`}},U4={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Zs.parse(t);if(s.length>5)return r;const i=Zs.createTransformer(t),a=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,u=n.y.scale*e.y;s[0+a]/=c,s[1+a]/=u;const f=st(c,u,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),i(s)}},vg={borderRadius:{...dl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dl,borderTopRightRadius:dl,borderBottomLeftRadius:dl,borderBottomRightRadius:dl,boxShadow:U4};function OS(t,{layout:e,layoutId:n}){return wa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!vg[t]||t==="opacity")}function Wx(t,e,n){var a;const r=t.style,s=e==null?void 0:e.style,i={};if(!r)return i;for(const c in r)(Jt(r[c])||s&&Jt(s[c])||OS(c,t)||((a=n==null?void 0:n.getValue(c))==null?void 0:a.liveStyle)!==void 0)&&(i[c]=r[c]);return i}function K4(t){return window.getComputedStyle(t)}class G4 extends AS{constructor(){super(...arguments),this.type="html",this.renderInstance=IS}readValueFromInstance(e,n){var r;if(wa.has(n))return(r=this.projection)!=null&&r.isProjecting?og(n):Sj(e,n);{const s=K4(e),i=(K2(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DS(e,n)}build(e,n,r){Hx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Wx(e,n,r)}}const q4={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y4={offset:"strokeDashoffset",array:"strokeDasharray"};function J4(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?q4:Y4;t[i.offset]=fe.transform(-r);const a=fe.transform(e),c=fe.transform(n);t[i.array]=`${a} ${c}`}const X4=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function LS(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...c},u,f,h){if(Hx(t,c,f),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:x}=t;m.transform&&(x.transform=m.transform,delete m.transform),(x.transform||m.transformOrigin)&&(x.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),x.transform&&(x.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox);for(const y of X4)m[y]!==void 0&&(x[y]=m[y],delete m[y]);e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&J4(m,s,i,a,!1)}const _S=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),zS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Q4(t,e,n,r){IS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(_S.has(s)?s:_x(s),e.attrs[s])}function FS(t,e,n){const r=Wx(t,e,n);for(const s in t)if(Jt(t[s])||Jt(e[s])){const i=va.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}class Z4 extends AS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wa.has(n)){const r=xS(n);return r&&r.default||0}return n=_S.has(n)?n:_x(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return FS(e,n,r)}build(e,n,r){LS(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){Q4(e,n,r,s)}mount(e){this.isSVGTag=zS(e.tagName),super.mount(e)}}const eR=$x.length;function BS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?BS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<eR;n++){const r=$x[n],s=t.props[r];($l(s)||s===!1)&&(e[r]=s)}return e}function VS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const tR=[...Vx].reverse(),nR=Vx.length;function rR(t){return e=>Promise.all(e.map(({animation:n,options:r})=>f4(t,n,r)))}function sR(t){let e=rR(t),n=xw(),r=!0;const s=u=>(f,h)=>{var x;const m=ta(t,h,u==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(m){const{transition:y,transitionEnd:w,...k}=m;f={...f,...k,...w}}return f};function i(u){e=u(t)}function a(u){const{props:f}=t,h=BS(t.parent)||{},m=[],x=new Set;let y={},w=1/0;for(let S=0;S<nR;S++){const C=tR[S],M=n[C],A=f[C]!==void 0?f[C]:h[C],D=$l(A),j=C===u?M.isActive:null;j===!1&&(w=S);let I=A===h[C]&&A!==f[C]&&D;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),M.protectedKeys={...y},!M.isActive&&j===null||!A&&!M.prevProp||Ef(A)||typeof A=="boolean")continue;const L=iR(M.prevProp,A);let P=L||C===u&&M.isActive&&!I&&D||S>w&&D,K=!1;const X=Array.isArray(A)?A:[A];let W=X.reduce(s(C),{});j===!1&&(W={});const{prevResolvedValues:Y={}}=M,be={...Y,...W},le=te=>{P=!0,x.has(te)&&(K=!0,x.delete(te)),M.needsAnimating[te]=!0;const F=t.getValue(te);F&&(F.liveStyle=!1)};for(const te in be){const F=W[te],H=Y[te];if(y.hasOwnProperty(te))continue;let q=!1;fg(F)&&fg(H)?q=!VS(F,H):q=F!==H,q?F!=null?le(te):x.add(te):F!==void 0&&x.has(te)?le(te):M.protectedKeys[te]=!0}M.prevProp=A,M.prevResolvedValues=W,M.isActive&&(y={...y,...W}),r&&t.blockInitialAnimation&&(P=!1);const ye=I&&L;P&&(!ye||K)&&m.push(...X.map(te=>{const F={type:C};if(typeof te=="string"&&r&&!ye&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,q=ta(H,te);if(H.enteringChildren&&q){const{delayChildren:_}=q.transition||{};F.delay=uS(H.enteringChildren,t,_)}}return{animation:te,options:F}}))}if(x.size){const S={};if(typeof f.initial!="boolean"){const C=ta(t,Array.isArray(f.initial)?f.initial[0]:f.initial);C&&C.transition&&(S.transition=C.transition)}x.forEach(C=>{const M=t.getBaseTarget(C),A=t.getValue(C);A&&(A.liveStyle=!0),S[C]=M??null}),m.push({animation:S})}let k=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(m):Promise.resolve()}function c(u,f){var m;if(n[u].isActive===f)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(x=>{var y;return(y=x.animationState)==null?void 0:y.setActive(u,f)}),n[u].isActive=f;const h=a(u);for(const x in n)n[x].protectedKeys={};return h}return{animateChanges:a,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=xw()}}}function iR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VS(e,t):!1}function Oi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xw(){return{animate:Oi(!0),whileInView:Oi(),whileHover:Oi(),whileTap:Oi(),whileDrag:Oi(),whileFocus:Oi(),exit:Oi()}}const $S=1e-4,oR=1-$S,aR=1+$S,HS=.01,lR=0-HS,cR=0+HS;function sn(t){return t.max-t.min}function uR(t,e,n){return Math.abs(t-e)<=n}function yw(t,e,n,r=.5){t.origin=r,t.originPoint=st(e.min,e.max,t.origin),t.scale=sn(n)/sn(e),t.translate=st(n.min,n.max,t.origin)-t.originPoint,(t.scale>=oR&&t.scale<=aR||isNaN(t.scale))&&(t.scale=1),(t.translate>=lR&&t.translate<=cR||isNaN(t.translate))&&(t.translate=0)}function Nl(t,e,n,r){yw(t.x,e.x,n.x,r?r.originX:void 0),yw(t.y,e.y,n.y,r?r.originY:void 0)}function vw(t,e,n){t.min=n.min+e.min,t.max=t.min+sn(e)}function dR(t,e,n){vw(t.x,e.x,n.x),vw(t.y,e.y,n.y)}function ww(t,e,n){t.min=e.min-n.min,t.max=t.min+sn(e)}function Nd(t,e,n){ww(t.x,e.x,n.x),ww(t.y,e.y,n.y)}function bw(t,e,n,r,s){return t-=e,t=Cd(t,1/n,r),s!==void 0&&(t=Cd(t,1/s,r)),t}function fR(t,e=0,n=1,r=.5,s,i=t,a=t){if(Cr.test(e)&&(e=parseFloat(e),e=st(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=st(i.min,i.max,r);t===i&&(c-=e),t.min=bw(t.min,e,n,c,s),t.max=bw(t.max,e,n,c,s)}function kw(t,e,[n,r,s],i,a){fR(t,e[n],e[r],e[s],e.scale,i,a)}const pR=["x","scaleX","originX"],hR=["y","scaleY","originY"];function Sw(t,e,n,r){kw(t.x,e,pR,n?n.x:void 0,r?r.x:void 0),kw(t.y,e,hR,n?n.y:void 0,r?r.y:void 0)}function Cw(t,e){t.min=e.min,t.max=e.max}function rr(t,e){Cw(t.x,e.x),Cw(t.y,e.y)}function Nw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ew(t){return t.translate===0&&t.scale===1}function WS(t){return Ew(t.x)&&Ew(t.y)}function Mw(t,e){return t.min===e.min&&t.max===e.max}function mR(t,e){return Mw(t.x,e.x)&&Mw(t.y,e.y)}function Tw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function US(t,e){return Tw(t.x,e.x)&&Tw(t.y,e.y)}function Aw(t){return sn(t.x)/sn(t.y)}function jw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Bn(t){return[t("x"),t("y")]}function gR(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:h,rotateX:m,rotateY:x,skewX:y,skewY:w}=n;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),x&&(r+=`rotateY(${x}deg) `),y&&(r+=`skewX(${y}deg) `),w&&(r+=`skewY(${w}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const KS=["TopLeft","TopRight","BottomLeft","BottomRight"],xR=KS.length,Rw=t=>typeof t=="string"?parseFloat(t):t,Pw=t=>typeof t=="number"||fe.test(t);function yR(t,e,n,r,s,i){s?(t.opacity=st(0,n.opacity??1,vR(r)),t.opacityExit=st(e.opacity??1,0,wR(r))):i&&(t.opacity=st(e.opacity??1,n.opacity??1,r));for(let a=0;a<xR;a++){const c=`border${KS[a]}Radius`;let u=Dw(e,c),f=Dw(n,c);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||Pw(u)===Pw(f)?(t[c]=Math.max(st(Rw(u),Rw(f),r),0),(Cr.test(f)||Cr.test(u))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=st(e.rotate||0,n.rotate||0,r))}function Dw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vR=GS(0,.5,B2),wR=GS(.5,.95,Un);function GS(t,e,n){return r=>r<t?0:r>e?1:n(Fl(t,e,r))}function bR(t,e){const n=rn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Qs(r),t(i-e))};return Qe.setup(r,!0),()=>Qs(r)}function Hl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function sd(t){return Jt(t)?t.get():t}function kR(t,e,n){const r=Jt(t)?t:la(t);return r.start(Ox("",r,e,n)),r.animation}const SR=(t,e)=>t.depth-e.depth;class CR{constructor(){this.children=[],this.isDirty=!1}add(e){yx(this.children,e),this.isDirty=!0}remove(e){vx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(SR),this.isDirty=!1,this.children.forEach(e)}}class NR{constructor(){this.members=[]}add(e){yx(this.members,e),e.scheduleRender()}remove(e){if(vx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const id={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Gh=["","X","Y","Z"],ER=1e3;let MR=0;function qh(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function qS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=pS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qe,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&qS(r)}function YS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},c=e==null?void 0:e()){this.id=MR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(jR),this.nodes.forEach(IR),this.nodes.forEach(OR),this.nodes.forEach(RR)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new CR)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new kx),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=NS(a)&&!A4(a),this.instance=a;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let h,m=0;const x=()=>this.root.updateBlockedByResize=!1;Qe.read(()=>{m=window.innerWidth}),t(a,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,h&&h(),h=bR(x,250),id.hasAnimatedSinceResize&&(id.hasAnimatedSinceResize=!1,this.nodes.forEach(Lw)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:x,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||BR,{onLayoutAnimationStart:k,onLayoutAnimationComplete:S}=f.getProps(),C=!this.targetLayout||!US(this.targetLayout,y),M=!m&&x;if(this.options.layoutRoot||this.resumeFrom||M||m&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...Ix(w,"layout"),onPlay:k,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(h,M)}else m||Lw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LR),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Iw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ow);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(DR),this.nodes.forEach(TR),this.nodes.forEach(AR)):this.nodes.forEach(Ow),this.clearAllSnapshots();const c=rn.now();Bt.delta=Er(0,1e3/60,c-Bt.timestamp),Bt.timestamp=c,Bt.isProcessing=!0,Fh.update.process(Bt),Fh.preRender.process(Bt),Fh.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PR),this.sharedNodes.forEach(_R)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sn(this.snapshot.measuredBox.x)&&!sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!WS(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;a&&this.instance&&(c||zi(this.latestValues)||h)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),VR(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:a}=this.options;if(!a)return Nt();const c=a.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some($R))){const{scroll:h}=this.root;h&&(Xo(c.x,h.offset.x),Xo(c.y,h.offset.y))}return c}removeElementScroll(a){var u;const c=Nt();if(rr(c,a),(u=this.scroll)!=null&&u.wasRoot)return c;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:m,options:x}=h;h!==this.root&&m&&x.layoutScroll&&(m.wasRoot&&rr(c,a),Xo(c.x,m.offset.x),Xo(c.y,m.offset.y))}return c}applyTransform(a,c=!1){const u=Nt();rr(u,a);for(let f=0;f<this.path.length;f++){const h=this.path[f];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Qo(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),zi(h.latestValues)&&Qo(u,h.latestValues)}return zi(this.latestValues)&&Qo(u,this.latestValues),u}removeTransform(a){const c=Nt();rr(c,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!zi(f.latestValues))continue;xg(f.latestValues)&&f.updateSnapshot();const h=Nt(),m=f.measurePageBox();rr(h,m),Sw(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return zi(this.latestValues)&&Sw(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var y;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!this.layout||!(h||m))return;this.resolvedRelativeTargetAt=Bt.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nt(),this.targetWithTransforms=Nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rr(this.target,this.layout.layoutBox),PS(this.target,this.targetDelta)):rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||xg(this.parent.latestValues)||RS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,c,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nt(),this.relativeTargetOrigin=Nt(),Nd(this.relativeTargetOrigin,c,u),rr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var w;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(u=!1),u)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;rr(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;B4(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Nt());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nw(this.prevProjectionDelta.x,this.projectionDelta.x),Nw(this.prevProjectionDelta.y,this.projectionDelta.y)),Nl(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!jw(this.projectionDelta.x,this.prevProjectionDelta.x)||!jw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jo(),this.projectionDelta=Jo(),this.projectionDeltaWithTransform=Jo()}setAnimationOrigin(a,c=!1){const u=this.snapshot,f=u?u.latestValues:{},h={...this.latestValues},m=Jo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=Nt(),y=u?u.source:void 0,w=this.layout?this.layout.source:void 0,k=y!==w,S=this.getStack(),C=!S||S.members.length<=1,M=!!(k&&!C&&this.options.crossfade===!0&&!this.path.some(FR));this.animationProgress=0;let A;this.mixTargetDelta=D=>{const j=D/1e3;_w(m.x,a.x,j),_w(m.y,a.y,j),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nd(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zR(this.relativeTarget,this.relativeTargetOrigin,x,j),A&&mR(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Nt()),rr(A,this.relativeTarget)),k&&(this.animationValues=h,yR(h,f,this.latestValues,j,M,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var c,u,f;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(f=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{id.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=la(0)),this.currentAnimation=kR(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),a.onUpdate&&a.onUpdate(h)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ER),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:f,latestValues:h}=a;if(!(!c||!u||!f)){if(this!==a&&this.layout&&f&&JS(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Nt();const m=sn(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+m;const x=sn(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+x}rr(c,u),Qo(c,h),Nl(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new NR),this.sharedNodes.get(a).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var c;const{layoutId:a}=this.options;return a?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:a}=this.options;return a?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const f={};u.z&&qh("z",a,f,this.animationValues);for(let h=0;h<Gh.length;h++)qh(`rotate${Gh[h]}`,a,f,this.animationValues),qh(`skew${Gh[h]}`,a,f,this.animationValues);a.render();for(const h in f)a.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=sd(c==null?void 0:c.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=sd(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!zi(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=gR(this.projectionDeltaWithTransform,this.treeScale,h);u&&(m=u(h,m)),a.transform=m;const{x,y}=this.projectionDelta;a.transformOrigin=`${x.origin*100}% ${y.origin*100}% 0`,f.animationValues?a.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in vg){if(h[w]===void 0)continue;const{correct:k,applyTo:S,isCSSVariable:C}=vg[w],M=m==="none"?h[w]:k(h[w],f);if(S){const A=S.length;for(let D=0;D<A;D++)a[S[D]]=M}else C?this.options.visualElement.renderState.vars[w]=M:a[w]=M}this.options.layoutId&&(a.pointerEvents=f===this?sd(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Iw),this.root.sharedNodes.clear()}}}function TR(t){t.updateLayout()}function AR(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,a=e.source!==t.layout.source;i==="size"?Bn(m=>{const x=a?e.measuredBox[m]:e.layoutBox[m],y=sn(x);x.min=r[m].min,x.max=x.min+y}):JS(i,e.layoutBox,r)&&Bn(m=>{const x=a?e.measuredBox[m]:e.layoutBox[m],y=sn(r[m]);x.max=x.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+y)});const c=Jo();Nl(c,r,e.layoutBox);const u=Jo();a?Nl(u,t.applyTransform(s,!0),e.measuredBox):Nl(u,r,e.layoutBox);const f=!WS(c);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:y}=m;if(x&&y){const w=Nt();Nd(w,e.layoutBox,x.layoutBox);const k=Nt();Nd(k,r,y.layoutBox),US(w,k)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=w,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function jR(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function RR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function PR(t){t.clearSnapshot()}function Iw(t){t.clearMeasurements()}function Ow(t){t.isLayoutDirty=!1}function DR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Lw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function IR(t){t.resolveTargetDelta()}function OR(t){t.calcProjection()}function LR(t){t.resetSkewAndRotation()}function _R(t){t.removeLeadSnapshot()}function _w(t,e,n){t.translate=st(e.translate,0,n),t.scale=st(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zw(t,e,n,r){t.min=st(e.min,n.min,r),t.max=st(e.max,n.max,r)}function zR(t,e,n,r){zw(t.x,e.x,n.x,r),zw(t.y,e.y,n.y,r)}function FR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const BR={duration:.45,ease:[.4,0,.1,1]},Fw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Bw=Fw("applewebkit/")&&!Fw("chrome/")?Math.round:Un;function Vw(t){t.min=Bw(t.min),t.max=Bw(t.max)}function VR(t){Vw(t.x),Vw(t.y)}function JS(t,e,n){return t==="position"||t==="preserve-aspect"&&!uR(Aw(e),Aw(n),.2)}function $R(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const HR=YS({attachResizeListener:(t,e)=>Hl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yh={current:void 0},XS=YS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yh.current){const t=new HR({});t.mount(window),t.setOptions({layoutScroll:!0}),Yh.current=t}return Yh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ux=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $w(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function WR(...t){return e=>{let n=!1;const r=t.map(s=>{const i=$w(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():$w(t[s],null)}}}}function UR(...t){return N.useCallback(WR(...t),t)}class KR extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=wS(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function GR({children:t,isPresent:e,anchorX:n,root:r}){var h;const s=N.useId(),i=N.useRef(null),a=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=N.useContext(Ux),u=((h=t.props)==null?void 0:h.ref)??(t==null?void 0:t.ref),f=UR(i,u);return N.useInsertionEffect(()=>{const{width:m,height:x,top:y,left:w,right:k}=a.current;if(e||!i.current||!m||!x)return;const S=n==="left"?`left: ${w}`:`right: ${k}`;i.current.dataset.motionPopId=s;const C=document.createElement("style");c&&(C.nonce=c);const M=r??document.head;return M.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${x}px !important;
            ${S}px !important;
            top: ${y}px !important;
          }
        `),()=>{M.contains(C)&&M.removeChild(C)}},[e]),p.jsx(KR,{isPresent:e,childRef:i,sizeRef:a,children:N.cloneElement(t,{ref:f})})}const qR=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:a,anchorX:c,root:u})=>{const f=xx(YR),h=N.useId();let m=!0,x=N.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:n,custom:s,onExitComplete:y=>{f.set(y,!0);for(const w of f.values())if(!w)return;r&&r()},register:y=>(f.set(y,!1),()=>f.delete(y))}),[n,f,r]);return i&&m&&(x={...x}),N.useMemo(()=>{f.forEach((y,w)=>f.set(w,!1))},[n]),N.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),a==="popLayout"&&(t=p.jsx(GR,{isPresent:n,anchorX:c,root:u,children:t})),p.jsx(Nf.Provider,{value:x,children:t})};function YR(){return new Map}function QS(t=!0){const e=N.useContext(Nf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=N.useId();N.useEffect(()=>{if(t)return s(i)},[t]);const a=N.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,a]:[!0]}const Pu=t=>t.key||"";function Hw(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const JR=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:c="left",root:u})=>{const[f,h]=QS(a),m=N.useMemo(()=>Hw(t),[t]),x=a&&!f?[]:m.map(Pu),y=N.useRef(!0),w=N.useRef(m),k=xx(()=>new Map),S=N.useRef(new Set),[C,M]=N.useState(m),[A,D]=N.useState(m);A2(()=>{y.current=!1,w.current=m;for(let L=0;L<A.length;L++){const P=Pu(A[L]);x.includes(P)?(k.delete(P),S.current.delete(P)):k.get(P)!==!0&&k.set(P,!1)}},[A,x.length,x.join("-")]);const j=[];if(m!==C){let L=[...m];for(let P=0;P<A.length;P++){const K=A[P],X=Pu(K);x.includes(X)||(L.splice(P,0,K),j.push(K))}return i==="wait"&&j.length&&(L=j),D(Hw(L)),M(m),null}const{forceRender:I}=N.useContext(gx);return p.jsx(p.Fragment,{children:A.map(L=>{const P=Pu(L),K=a&&!f?!1:m===A||x.includes(P),X=()=>{if(S.current.has(P))return;if(S.current.add(P),k.has(P))k.set(P,!0);else return;let W=!0;k.forEach(Y=>{Y||(W=!1)}),W&&(I==null||I(),D(w.current),a&&(h==null||h()),r&&r())};return p.jsx(qR,{isPresent:K,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:u,onExitComplete:K?void 0:X,anchorX:c,children:L},P)})})},ZS=N.createContext({strict:!1}),Ww={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Uw=!1;function XR(){if(Uw)return;const t={};for(const e in Ww)t[e]={isEnabled:n=>Ww[e].some(r=>!!n[r])};TS(t),Uw=!0}function eC(){return XR(),L4()}function QR(t){const e=eC();for(const n in t)e[n]={...e[n],...t[n]};TS(e)}const ZR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ed(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ZR.has(t)}let tC=t=>!Ed(t);function eP(t){typeof t=="function"&&(tC=e=>e.startsWith("on")?!Ed(e):t(e))}try{eP(require("@emotion/is-prop-valid").default)}catch{}function tP(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(tC(s)||n===!0&&Ed(s)||!e&&!Ed(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const Tf=N.createContext({});function nP(t,e){if(Mf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$l(n)?n:void 0,animate:$l(r)?r:void 0}}return t.inherit!==!1?e:{}}function rP(t){const{initial:e,animate:n}=nP(t,N.useContext(Tf));return N.useMemo(()=>({initial:e,animate:n}),[Kw(e),Kw(n)])}function Kw(t){return Array.isArray(t)?t.join(" "):t}const Kx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nC(t,e,n){for(const r in e)!Jt(e[r])&&!OS(r,n)&&(t[r]=e[r])}function sP({transformTemplate:t},e){return N.useMemo(()=>{const n=Kx();return Hx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function iP(t,e){const n=t.style||{},r={};return nC(r,n,t),Object.assign(r,sP(t,e)),r}function oP(t,e){const n={},r=iP(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const rC=()=>({...Kx(),attrs:{}});function aP(t,e,n,r){const s=N.useMemo(()=>{const i=rC();return LS(i,e,zS(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};nC(i,t.style,t),s.style={...i,...s.style}}return s}const lP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gx(t){return typeof t!="string"||t.includes("-")?!1:!!(lP.indexOf(t)>-1||/[A-Z]/u.test(t))}function cP(t,e,n,{latestValues:r},s,i=!1,a){const u=(a??Gx(t)?aP:oP)(e,r,s,t),f=tP(e,typeof t=="string",i),h=t!==N.Fragment?{...f,...u,ref:n}:{},{children:m}=e,x=N.useMemo(()=>Jt(m)?m.get():m,[m]);return N.createElement(t,{...h,children:x})}function uP({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:dP(n,r,s,t),renderState:e()}}function dP(t,e,n,r){const s={},i=r(t,{});for(const x in i)s[x]=sd(i[x]);let{initial:a,animate:c}=t;const u=Mf(t),f=MS(t);e&&f&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const m=h?c:a;if(m&&typeof m!="boolean"&&!Ef(m)){const x=Array.isArray(m)?m:[m];for(let y=0;y<x.length;y++){const w=Lx(t,x[y]);if(w){const{transitionEnd:k,transition:S,...C}=w;for(const M in C){let A=C[M];if(Array.isArray(A)){const D=h?A.length-1:0;A=A[D]}A!==null&&(s[M]=A)}for(const M in k)s[M]=k[M]}}}return s}const sC=t=>(e,n)=>{const r=N.useContext(Tf),s=N.useContext(Nf),i=()=>uP(t,e,r,s);return n?i():xx(i)},fP=sC({scrapeMotionValuesFromProps:Wx,createRenderState:Kx}),pP=sC({scrapeMotionValuesFromProps:FS,createRenderState:rC}),hP=Symbol.for("motionComponentSymbol");function mP(t,e,n){const r=N.useRef(n);N.useInsertionEffect(()=>{r.current=n});const s=N.useRef(null);return N.useCallback(i=>{var c;i&&((c=t.onMount)==null||c.call(t,i)),e&&(i?e.mount(i):e.unmount());const a=r.current;if(typeof a=="function")if(i){const u=a(i);typeof u=="function"&&(s.current=u)}else s.current?(s.current(),s.current=null):a(i);else a&&(a.current=i)},[e])}const iC=N.createContext({});function xl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gP(t,e,n,r,s,i){var S,C;const{visualElement:a}=N.useContext(Tf),c=N.useContext(ZS),u=N.useContext(Nf),f=N.useContext(Ux).reducedMotion,h=N.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f,isSVG:i}));const m=h.current,x=N.useContext(iC);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&xP(h.current,n,s,x);const y=N.useRef(!1);N.useInsertionEffect(()=>{m&&y.current&&m.update(n,u)});const w=n[fS],k=N.useRef(!!w&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,w))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,w)));return A2(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),k.current&&m.animationState&&m.animationState.animateChanges())}),N.useEffect(()=>{m&&(!k.current&&m.animationState&&m.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,w)}),k.current=!1),m.enteringChildren=void 0)}),m}function xP(t,e,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:c,layoutScroll:u,layoutRoot:f,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:oC(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||c&&xl(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:u,layoutRoot:f})}function oC(t){if(t)return t.options.allowProjection!==!1?t.projection:oC(t.parent)}function Jh(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&QR(r);const i=n?n==="svg":Gx(t),a=i?pP:fP;function c(f,h){let m;const x={...N.useContext(Ux),...f,layoutId:yP(f)},{isStatic:y}=x,w=rP(f),k=a(f,y);if(!y&&T2){vP();const S=wP(x);m=S.MeasureLayout,w.visualElement=gP(t,k,x,s,S.ProjectionNode,i)}return p.jsxs(Tf.Provider,{value:w,children:[m&&w.visualElement?p.jsx(m,{visualElement:w.visualElement,...x}):null,cP(t,f,mP(k,w.visualElement,h),k,y,e,i)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=N.forwardRef(c);return u[hP]=t,u}function yP({layoutId:t}){const e=N.useContext(gx).id;return e&&t!==void 0?e+"-"+t:t}function vP(t,e){N.useContext(ZS).strict}function wP(t){const e=eC(),{drag:n,layout:r}=e;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function bP(t,e){if(typeof Proxy>"u")return Jh;const n=new Map,r=(i,a)=>Jh(i,a,t,e),s=(i,a)=>r(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?r:(n.has(a)||n.set(a,Jh(a,void 0,t,e)),n.get(a))})}const kP=(t,e)=>e.isSVG??Gx(t)?new Z4(e):new G4(e,{allowProjection:t!==N.Fragment});class SP extends si{constructor(e){super(e),e.animationState||(e.animationState=sR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ef(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let CP=0;class NP extends si{constructor(){super(...arguments),this.id=CP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const EP={animation:{Feature:SP},exit:{Feature:NP}};function cc(t){return{point:{x:t.pageX,y:t.pageY}}}const MP=t=>e=>Bx(e)&&t(e,cc(e));function El(t,e,n,r){return Hl(t,e,MP(n),r)}const aC=({current:t})=>t?t.ownerDocument.defaultView:null,Gw=(t,e)=>Math.abs(t-e);function TP(t,e){const n=Gw(t.x,e.x),r=Gw(t.y,e.y);return Math.sqrt(n**2+r**2)}const qw=new Set(["auto","scroll"]);class lC{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Qh(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,k=TP(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!k)return;const{point:S}=y,{timestamp:C}=Bt;this.history.push({...S,timestamp:C});const{onStart:M,onMove:A}=this.handlers;w||(M&&M(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Xh(w,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:k,onSessionEnd:S,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=Qh(y.type==="pointercancel"?this.lastMoveEventInfo:Xh(w,this.transformPagePoint),this.history);this.startEvent&&k&&k(y,M),S&&S(y,M)},!Bx(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const u=cc(e),f=Xh(u,this.transformPagePoint),{point:h}=f,{timestamp:m}=Bt;this.history=[{...h,timestamp:m}];const{onSessionStart:x}=n;x&&x(e,Qh(f,this.history)),this.removeListeners=oc(El(this.contextWindow,"pointermove",this.handlePointerMove),El(this.contextWindow,"pointerup",this.handlePointerUp),El(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(qw.has(r.overflowX)||qw.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,s),Qe.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Qs(this.updatePoint)}}function Xh(t,e){return e?{point:e(t.point)}:t}function Yw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Qh({point:t},e){return{point:t,delta:Yw(t,cC(e)),offset:Yw(t,AP(e)),velocity:jP(e,.1)}}function AP(t){return t[0]}function cC(t){return t[t.length-1]}function jP(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=cC(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Qr(e)));)n--;if(!r)return{x:0,y:0};const i=Wn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function RP(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?st(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?st(n,t,r.max):Math.min(t,n)),t}function Jw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function PP(t,{top:e,left:n,bottom:r,right:s}){return{x:Jw(t.x,n,s),y:Jw(t.y,e,r)}}function Xw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function DP(t,e){return{x:Xw(t.x,e.x),y:Xw(t.y,e.y)}}function IP(t,e){let n=.5;const r=sn(t),s=sn(e);return s>r?n=Fl(e.min,e.max-r,t.min):r>s&&(n=Fl(t.min,t.max-s,e.min)),Er(0,1,n)}function OP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const wg=.35;function LP(t=wg){return t===!1?t=0:t===!0&&(t=wg),{x:Qw(t,"left","right"),y:Qw(t,"top","bottom")}}function Qw(t,e,n){return{min:Zw(t,e),max:Zw(t,n)}}function Zw(t,e){return typeof t=="number"?t:t[e]||0}const _P=new WeakMap;class zP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=m=>{n?(this.stopAnimation(),this.snapToCursor(cc(m).point)):this.pauseAnimation()},a=(m,x)=>{this.stopAnimation();const{drag:y,dragPropagation:w,onDragStart:k}=this.getProps();if(y&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=C4(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(C=>{let M=this.getAxisMotionValue(C).get()||0;if(Cr.test(M)){const{projection:A}=this.visualElement;if(A&&A.layout){const D=A.layout.layoutBox[C];D&&(M=sn(D)*(parseFloat(M)/100))}}this.originPoint[C]=M}),k&&Qe.postRender(()=>k(m,x)),pg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x;const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:k,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:C}=x;if(w&&this.currentDirection===null){this.currentDirection=FP(C),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",x.point,C),this.updateAxis("y",x.point,C),this.visualElement.render(),S&&S(m,x)},u=(m,x)=>{this.latestPointerEvent=m,this.latestPanInfo=x,this.stop(m,x),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Bn(m=>{var x;return this.getAnimationState(m)==="paused"&&((x=this.getAxisMotionValue(m).animation)==null?void 0:x.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new lC(e,{onSessionStart:i,onStart:a,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:aC(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&Qe.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Du(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=RP(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&xl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=PP(r.layoutBox,e):this.constraints=!1,this.elastic=LP(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Bn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=OP(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!xl(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=V4(r,s.root,this.visualElement.getTransformPagePoint());let a=DP(s.layout.layoutBox,i);if(n){const c=n(z4(a));this.hasMutatedConstraints=!!c,c&&(a=jS(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},f=Bn(h=>{if(!Du(h,n,this.currentDirection))return;let m=u&&u[h]||{};a&&(m={min:0,max:0});const x=s?200:1e6,y=s?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:x,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,w)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return pg(this.visualElement,e),r.start(Ox(e,r,0,n,this.visualElement,!1))}stopAnimation(){Bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Bn(n=>{const{drag:r}=this.getProps();if(!Du(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[n],u=i.get()||0;i.set(e[n]-st(a,c,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xl(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Bn(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const u=c.get();s[a]=IP({min:u,max:u},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bn(a=>{if(!Du(a,e,null))return;const c=this.getAxisMotionValue(a),{min:u,max:f}=this.constraints[a];c.set(st(u,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;_P.set(this.visualElement,this);const e=this.visualElement.current,n=El(e,"pointerdown",u=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&!CS(u.target)&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();xl(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Qe.read(r);const a=Hl(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(Bn(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=u[h].translate,m.set(m.get()+u[h].translate))}),this.visualElement.render())}));return()=>{a(),n(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=wg,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:c}}}function Du(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class BP extends si{constructor(e){super(e),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new zP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const eb=t=>(e,n)=>{t&&Qe.postRender(()=>t(e,n))};class VP extends si{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(e){this.session=new lC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:eb(e),onStart:eb(n),onMove:r,onEnd:(i,a)=>{delete this.session,s&&Qe.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=El(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Zh=!1;class $P extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),Zh&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),id.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,Zh=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Qe.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Zh=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function uC(t){const[e,n]=QS(),r=N.useContext(gx);return p.jsx($P,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(iC),isPresent:e,safeToRemove:n})}const HP={pan:{Feature:VP},drag:{Feature:BP,ProjectionNode:XS,MeasureLayout:uC}};function tb(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Qe.postRender(()=>i(e,cc(e)))}class WP extends si{mount(){const{current:e}=this.node;e&&(this.unmount=N4(e,(n,r)=>(tb(this.node,r,"Start"),s=>tb(this.node,s,"End"))))}unmount(){}}class UP extends si{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oc(Hl(this.node.current,"focus",()=>this.onFocus()),Hl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nb(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Qe.postRender(()=>i(e,cc(e)))}class KP extends si{mount(){const{current:e}=this.node;e&&(this.unmount=T4(e,(n,r)=>(nb(this.node,r,"Start"),(s,{success:i})=>nb(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bg=new WeakMap,em=new WeakMap,GP=t=>{const e=bg.get(t.target);e&&e(t)},qP=t=>{t.forEach(GP)};function YP({root:t,...e}){const n=t||document;em.has(n)||em.set(n,{});const r=em.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(qP,{root:t,...e})),r[s]}function JP(t,e,n){const r=YP(e);return bg.set(t,n),r.observe(t),()=>{bg.delete(t),r.unobserve(t)}}const XP={some:0,all:1};class QP extends si{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:XP[s]},c=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),x=f?h:m;x&&x(u)};return JP(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(ZP(e,n))&&this.startObserver()}unmount(){}}function ZP({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const eD={inView:{Feature:QP},tap:{Feature:KP},focus:{Feature:UP},hover:{Feature:WP}},tD={layout:{ProjectionNode:XS,MeasureLayout:uC}},nD={...EP,...eD,...HP,...tD},Bs=bP(nD,kP);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rD={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e,n,r)=>{const s=N.forwardRef(({color:i="currentColor",size:a=24,stroke:c=2,title:u,className:f,children:h,...m},x)=>N.createElement("svg",{ref:x,...rD[t],width:a,height:a,className:["tabler-icon",`tabler-icon-${e}`,f].join(" "),strokeWidth:c,stroke:i,...m},[u&&N.createElement("title",{key:"svg-title"},u),...r.map(([y,w])=>N.createElement(y,w)),...Array.isArray(h)?h:[h]]));return s.displayName=`${n}`,s};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M12 6a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M6 12a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M15 18a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]],iD=je("outline","adjustments-horizontal","AdjustmentsHorizontal",sD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],kg=je("outline","alert-circle","AlertCircle",oD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],tm=je("outline","alert-triangle","AlertTriangle",aD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],Bi=je("outline","arrow-left","ArrowLeft",lD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],Yr=je("outline","arrow-right","ArrowRight",cD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M3 9l4 -4l4 4m-4 -4v14",key:"svg-0"}],["path",{d:"M21 15l-4 4l-4 -4m4 4v-14",key:"svg-1"}]],Iu=je("outline","arrows-sort","ArrowsSort",uD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6",key:"svg-0"}],["path",{d:"M9 17v1a3 3 0 0 0 6 0v-1",key:"svg-1"}]],fD=je("outline","bell","Bell",dD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]],hD=je("outline","book","Book",pD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M9 9v-1a3 3 0 0 1 6 0v1",key:"svg-0"}],["path",{d:"M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3",key:"svg-1"}],["path",{d:"M3 13l4 0",key:"svg-2"}],["path",{d:"M17 13l4 0",key:"svg-3"}],["path",{d:"M12 20l0 -6",key:"svg-4"}],["path",{d:"M4 19l3.35 -2",key:"svg-5"}],["path",{d:"M20 19l-3.35 -2",key:"svg-6"}],["path",{d:"M4 7l3.75 2.4",key:"svg-7"}],["path",{d:"M20 7l-3.75 2.4",key:"svg-8"}]],nm=je("outline","bug","Bug",mD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M3 13a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -6",key:"svg-0"}],["path",{d:"M15 9a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -10",key:"svg-1"}],["path",{d:"M9 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -14",key:"svg-2"}],["path",{d:"M4 20h14",key:"svg-3"}]],dC=je("outline","chart-bar","ChartBar",gD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],rm=je("outline","check","Check",xD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],Wo=je("outline","chevron-down","ChevronDown",yD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],wD=je("outline","chevron-left","ChevronLeft",vD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],kD=je("outline","chevron-right","ChevronRight",bD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 5a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2",key:"svg-1"}],["path",{d:"M9 14l2 2l4 -4",key:"svg-2"}]],sm=je("outline","clipboard-check","ClipboardCheck",SD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]],ND=je("outline","clock","Clock",CD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M10 14a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],im=je("outline","device-floppy","DeviceFloppy",ED);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M13 12v.01",key:"svg-0"}],["path",{d:"M3 21h18",key:"svg-1"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5",key:"svg-2"}],["path",{d:"M14 7h7m-3 -3l3 3l-3 3",key:"svg-3"}]],TD=je("outline","door-exit","DoorExit",MD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],rb=je("outline","download","Download",AD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]],RD=je("outline","eye","Eye",jD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M9 9l1 0",key:"svg-2"}],["path",{d:"M9 13l6 0",key:"svg-3"}],["path",{d:"M9 17l6 0",key:"svg-4"}]],DD=je("outline","file-text","FileText",PD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M12 10.941c2.333 -3.308 .167 -7.823 -1 -8.941c0 3.395 -2.235 5.299 -3.667 6.706c-1.43 1.408 -2.333 3.294 -2.333 5.588c0 3.704 3.134 6.706 7 6.706c3.866 0 7 -3.002 7 -6.706c0 -1.712 -1.232 -4.403 -2.333 -5.588c-2.084 3.353 -3.257 3.353 -4.667 2.235",key:"svg-0"}]],OD=je("outline","flame","Flame",ID);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]],sb=je("outline","folder","Folder",LD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M4 15a2 2 0 0 1 2 -2h1a2 2 0 0 1 2 2v3a2 2 0 0 1 -2 2h-1a2 2 0 0 1 -2 -2l0 -3",key:"svg-0"}],["path",{d:"M15 15a2 2 0 0 1 2 -2h1a2 2 0 0 1 2 2v3a2 2 0 0 1 -2 2h-1a2 2 0 0 1 -2 -2l0 -3",key:"svg-1"}],["path",{d:"M4 15v-3a8 8 0 0 1 16 0v3",key:"svg-2"}]],ib=je("outline","headphones","Headphones",_D);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M16.555 3.843l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.643 2.643a2.877 2.877 0 0 1 -4.069 0l-.301 -.301l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.877 2.877 0 0 1 0 -4.069l2.643 -2.643a2.877 2.877 0 0 1 4.069 0",key:"svg-0"}],["path",{d:"M15 9h.01",key:"svg-1"}]],FD=je("outline","key","Key",zD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M4 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -4",key:"svg-0"}],["path",{d:"M14 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -4",key:"svg-1"}],["path",{d:"M4 15a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -4",key:"svg-2"}],["path",{d:"M14 15a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -4",key:"svg-3"}]],Sg=je("outline","layout-grid","LayoutGrid",BD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M12 3a9 9 0 1 0 9 9",key:"svg-0"}]],fC=je("outline","loader-2","Loader2",VD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M3 20l1.3 -3.9c-2.324 -3.437 -1.426 -7.872 2.1 -10.374c3.526 -2.501 8.59 -2.296 11.845 .48c3.255 2.777 3.695 7.266 1.029 10.501c-2.666 3.235 -7.615 4.215 -11.574 2.293l-4.7 1",key:"svg-0"}]],HD=je("outline","message-circle","MessageCircle",$D);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12",key:"svg-2"}]],UD=je("outline","message","Message",WD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M9 5a3 3 0 0 1 3 -3a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3a3 3 0 0 1 -3 -3l0 -5",key:"svg-0"}],["path",{d:"M5 10a7 7 0 0 0 14 0",key:"svg-1"}],["path",{d:"M8 21l8 0",key:"svg-2"}],["path",{d:"M12 17l0 4",key:"svg-3"}]],GD=je("outline","microphone","Microphone",KD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M12 21a9 9 0 1 1 0 -18a9 9 0 0 1 0 18",key:"svg-0"}],["path",{d:"M8 9l2 1",key:"svg-1"}],["path",{d:"M16 9l-2 1",key:"svg-2"}],["path",{d:"M14.5 16.05a3.5 3.5 0 0 0 -5 0",key:"svg-3"}]],Cg=je("outline","mood-angry","MoodAngry",qD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 9l.01 0",key:"svg-1"}],["path",{d:"M15 9l.01 0",key:"svg-2"}],["path",{d:"M8 13a4 4 0 1 0 8 0h-8",key:"svg-3"}]],JD=je("outline","mood-happy","MoodHappy",YD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 10l.01 0",key:"svg-1"}],["path",{d:"M15 10l.01 0",key:"svg-2"}]],Ml=je("outline","mood-neutral","MoodNeutral",XD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 10l.01 0",key:"svg-1"}],["path",{d:"M15 10l.01 0",key:"svg-2"}],["path",{d:"M9.5 15.25a3.5 3.5 0 0 1 5 0",key:"svg-3"}]],pC=je("outline","mood-sad","MoodSad",QD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],Fi=je("outline","pencil","Pencil",ZD);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"M3 21l18 -18",key:"svg-0"}],["path",{d:"M5.831 14.161a15.946 15.946 0 0 1 -2.831 -8.161a2 2 0 0 1 2 -2h4l2 5l-2.5 1.5c.108 .22 .223 .435 .345 .645m1.751 2.277c.843 .84 1.822 1.544 2.904 2.078l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a15.963 15.963 0 0 1 -10.344 -4.657",key:"svg-1"}]],tI=je("outline","phone-off","PhoneOff",eI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]],rI=je("outline","photo","Photo",nI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M5 7a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2l0 -10",key:"svg-0"}]],ob=je("outline","player-stop","PlayerStop",sI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],kr=je("outline","plus","Plus",iI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],hC=je("outline","refresh","Refresh",oI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M3 10a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],mC=je("outline","search","Search",aI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],gC=je("outline","settings","Settings",lI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M11 12a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M7 12a5 5 0 1 0 10 0a5 5 0 1 0 -10 0",key:"svg-1"}],["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-2"}]],uI=je("outline","target","Target",cI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M9 9v6",key:"svg-0"}],["path",{d:"M12 11v2a2 2 0 1 0 4 0v-2a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M3 12v.01",key:"svg-2"}],["path",{d:"M21 12v.01",key:"svg-3"}],["path",{d:"M12 21v.01",key:"svg-4"}],["path",{d:"M7.5 4.2v.01",key:"svg-5"}],["path",{d:"M16.5 19.8v.01",key:"svg-6"}],["path",{d:"M7.5 19.8v.01",key:"svg-7"}],["path",{d:"M4.2 16.5v.01",key:"svg-8"}],["path",{d:"M19.8 16.5v.01",key:"svg-9"}],["path",{d:"M4.2 7.5v.01",key:"svg-10"}],["path",{d:"M19.81 7.527a8.994 8.994 0 0 0 -7.81 -4.527",key:"svg-11"}]],fI=je("outline","time-duration-10","TimeDuration10",dI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],Ng=je("outline","trash","Trash",pI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]],mI=je("outline","user-plus","UserPlus",hI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M19 22v-6",key:"svg-2"}],["path",{d:"M22 19l-3 -3l-3 3",key:"svg-3"}]],xI=je("outline","user-up","UserUp",gI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]],om=je("outline","user","User",yI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"M5 7a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]],qx=je("outline","users","Users",vI);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],Tl=je("outline","x","X",wI);function bI({onNavigateToRoleplay:t,onNavigateToSimulation:e,attachedRoleplays:n=[]}){const[r,s]=N.useState(!1),i=a=>n.some(c=>c.workflowName===a);return p.jsx("div",{className:"flex-1 bg-[#fcfcfd] flex flex-col overflow-hidden",children:p.jsxs("div",{className:"flex flex-col gap-[16px] items-start p-[24px] flex-1 overflow-auto",children:[p.jsxs("div",{className:"content-stretch flex flex-col gap-[16px] items-start relative shrink-0 w-full",children:[p.jsx("h1",{className:"font-['Inter:Bold',sans-serif] font-bold leading-[30px] not-italic text-[#3d3c52] text-[22px]",children:"Workflows"}),p.jsxs("div",{className:"content-stretch flex gap-[16px] items-center justify-between relative shrink-0 w-full",children:[p.jsxs("div",{className:"flex gap-[16px]",children:[p.jsx("button",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#6b697b] text-[14px] hover:text-[#3d3c52]",children:"Draft"}),p.jsxs("button",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] not-italic text-[#0975d7] text-[14px] relative",children:["Ready",p.jsx("div",{className:"absolute bottom-[-8px] left-0 right-0 h-[2px] bg-[#0975d7]"})]}),p.jsx("button",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#6b697b] text-[14px] hover:text-[#3d3c52]",children:"Production"})]}),p.jsxs("div",{className:"flex gap-[12px] items-center",children:[p.jsxs("div",{className:"relative",children:[p.jsxs("button",{className:"bg-[#0975d7] content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] hover:bg-[#0861b8] transition-colors",onClick:()=>s(!r),children:[p.jsx(kr,{className:"size-[16px] text-white",stroke:2}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[14px] text-center text-nowrap text-white",children:"Create"})]}),r&&p.jsxs("div",{className:"absolute right-0 top-[calc(100%+4px)] bg-white rounded-[8px] shadow-[0px_4px_12px_rgba(0,0,0,0.15)] py-[4px] min-w-[160px] z-50",children:[p.jsxs("button",{className:"flex items-center gap-[8px] px-[16px] py-[10px] w-full hover:bg-[#f5f5f5] transition-colors",onClick:()=>{s(!1),t()},children:[p.jsx(qx,{className:"size-[16px] text-[#3d3c52]",stroke:2}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Roleplay"})]}),p.jsxs("button",{className:"flex items-center gap-[8px] px-[16px] py-[10px] w-full hover:bg-[#f5f5f5] transition-colors",onClick:()=>{s(!1),e()},children:[p.jsx(sb,{className:"size-[16px] text-[#3d3c52]",stroke:2}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Simulation"})]})]})]}),p.jsxs("button",{className:"content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[12px] py-[10px] relative rounded-[4px] border border-[#d7d6d1] hover:bg-[#f5f5f5] transition-colors",children:[p.jsx(mC,{className:"size-[16px] text-[#3d3c52]",stroke:2}),p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#6b697b] text-[14px]",children:"Search folder"})]}),p.jsx("button",{className:"content-stretch flex items-center justify-center overflow-clip p-[10px] relative rounded-[4px] border border-[#d7d6d1] hover:bg-[#f5f5f5] transition-colors",children:p.jsx(iD,{className:"size-[20px] text-[#3d3c52]",stroke:2})}),p.jsx("button",{className:"content-stretch flex items-center justify-center overflow-clip p-[10px] relative rounded-[4px] border border-[#d7d6d1] hover:bg-[#f5f5f5] transition-colors",children:p.jsx(Sg,{className:"size-[20px] text-[#3d3c52]",stroke:2})})]})]})]}),p.jsx("div",{className:"flex-1 w-full overflow-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"border-b border-[#ececf3]",children:[p.jsx("th",{className:"text-left p-[16px] font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] text-[#3d3c52] text-[14px]",children:p.jsxs("div",{className:"flex items-center gap-[4px]",children:["Name",p.jsx(Iu,{className:"size-[16px] text-[#6b697b]",stroke:1.5})]})}),p.jsx("th",{className:"text-left p-[16px] font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] text-[#3d3c52] text-[14px]",children:p.jsxs("div",{className:"flex items-center gap-[4px]",children:["Type",p.jsx(Iu,{className:"size-[16px] text-[#6b697b]",stroke:1.5})]})}),p.jsx("th",{className:"text-left p-[16px] font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] text-[#3d3c52] text-[14px]",children:p.jsxs("div",{className:"flex items-center gap-[4px]",children:["Created by",p.jsx(Iu,{className:"size-[16px] text-[#6b697b]",stroke:1.5})]})}),p.jsx("th",{className:"text-left p-[16px] font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] text-[#3d3c52] text-[14px]",children:p.jsxs("div",{className:"flex items-center gap-[4px]",children:["Last updated on",p.jsx(Iu,{className:"size-[16px] text-[#6b697b]",stroke:1.5})]})})]})}),p.jsx("tbody",{children:[{name:"H2 2025 Learning",count:"7",type:"Simulation",creator:"Mark S",updated:"Simulation",isWorkflow:!1},{name:"Guidewire environment 2",count:"5",type:"Simulation",creator:"Ann Perkins",updated:"Simulation",isWorkflow:!1},{name:"Guidewire workflow list archive 2",count:"9",type:"Simulation",creator:"Ann Perkins",updated:"Simulation",isWorkflow:!1},{name:"New claim | Guidewire 2",count:"5",type:"Workflow",creator:"Juliette Nichols",updated:"Simulation",isWorkflow:!0}].map((a,c)=>p.jsxs("tr",{className:"border-b border-[#ececf3] hover:bg-[#f9f9f9]",children:[p.jsx("td",{className:"p-[16px]",children:p.jsxs("div",{className:"flex items-center gap-[12px]",children:[p.jsx("input",{type:"checkbox",className:"size-[16px] rounded border-[#d7d6d1]"}),a.isWorkflow?p.jsx("div",{className:"flex items-center justify-center size-[16px]",children:p.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#6b697b",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),p.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),p.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),p.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}):p.jsx(sb,{className:"size-[16px] text-[#6b697b]",stroke:2}),p.jsx("span",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:a.name}),p.jsx("span",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#6b697b] text-[14px]",children:a.count}),i(a.name)&&p.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-[#ecfdf5] text-[#059669] text-xs font-medium",children:[p.jsx(hC,{className:"size-3",stroke:2}),"Roleplay enabled"]})]})}),p.jsx("td",{className:"p-[16px]",children:p.jsx("span",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:a.type})}),p.jsx("td",{className:"p-[16px]",children:p.jsx("span",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:a.creator})}),p.jsx("td",{className:"p-[16px]",children:p.jsx("span",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:a.updated})})]},c))})]})}),p.jsxs("div",{className:"flex items-center justify-between w-full",children:[p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#6b697b] text-[14px]",children:"Rows 1-15 of 120"}),p.jsxs("div",{className:"flex items-center gap-[8px]",children:[p.jsx("button",{className:"p-[8px] hover:bg-[#f5f5f5] rounded",children:p.jsx(wD,{className:"size-[16px] text-[#3d3c52]",stroke:2})}),p.jsx("button",{className:"px-[12px] py-[8px] font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px] hover:bg-[#f5f5f5] rounded",children:"1"}),p.jsx("button",{className:"px-[12px] py-[8px] font-['Inter:Regular',sans-serif] font-semibold leading-[20px] text-white text-[14px] bg-[#0975d7] rounded",children:"2"}),p.jsx("button",{className:"px-[12px] py-[8px] font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px] hover:bg-[#f5f5f5] rounded",children:"3"}),p.jsx("span",{className:"px-[12px] py-[8px] font-['Inter:Regular',sans-serif] leading-[20px] text-[#6b697b] text-[14px]",children:"..."}),p.jsx("button",{className:"px-[12px] py-[8px] font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px] hover:bg-[#f5f5f5] rounded",children:"21"}),p.jsx("button",{className:"p-[8px] hover:bg-[#f5f5f5] rounded",children:p.jsx(kD,{className:"size-[16px] text-[#3d3c52]",stroke:2})})]})]})]})})}const xC="/assets/Alex-DaADlV7i.png";function kI({onBack:t,onSwitchToPrompt:e,onGenerateScenario:n}){const[r,s]=N.useState(null),[i,a]=N.useState(null),[c,u]=N.useState(""),[f,h]=N.useState(!1),m=N.useRef({}),x=[{name:"Alex",gender:"Male",age:25,location:"Minnesota",avatar:xC,emotionalStates:["Frustrated","Angry"],behavioralTraits:["Short-tempered","Angry"],reasonForContact:"Wants a full refund for a product they bought",likelyBehaviour:"Wants a full refund for a product they bought"},{name:"Jordan",gender:"Non-binary",age:30,location:"California"},{name:"Sam",gender:"Female",age:28,location:"Texas"},{name:"Taylor",gender:"Male",age:35,location:"New York"},{name:"Morgan",gender:"Female",age:22,location:"Florida"}],[y,w]=N.useState({trainee:"Customer support executives",customerName:"Alex",emotion:"Frustrated",scenario:"they want a full refund for a product they bought",objective:"De-escalate the situation",criteria1:"Empathy",criteria2:"De-escalation",criteria3:"Policy adherence",modality:"Audio",difficulty:"High"}),k={trainee:["Customer support executives","Sales executives","Managers","Technical support team","Add custom..."],customerName:x.map(W=>W.name).concat("Add custom..."),emotion:["Frustrated","Angry","Confused","Disappointed","Anxious","Add custom..."],scenario:["they want a full refund for a product they bought","their order was delayed","they received a damaged product","they can't access their account","Add custom..."],objective:["De-escalate the situation","Resolve the complaint","Upsell additional services","Gather customer feedback","Add custom..."],criteria1:["Empathy","Active listening","Problem-solving","Communication","Add custom..."],criteria2:["De-escalation","Conflict resolution","Patience","Professionalism","Add custom..."],criteria3:["Policy adherence","Product knowledge","Time management","Documentation","Add custom..."],modality:["Audio","Chat"],difficulty:["Low","Medium","High"]},S=(W,Y)=>{Y==="Add custom..."?(a(W),u("")):(w({...y,[W]:Y}),s(null))},C=W=>x.find(Y=>Y.name===W),M=W=>`${W.gender}, ${W.age}, ${W.location}`,A=W=>{const Y=W.toLowerCase();return Y.includes("angry")||Y.includes("frustrated")?Cg:Y.includes("sad")||Y.includes("disappointed")?pC:(Y.includes("confused")||Y.includes("anxious"),Ml)},D=W=>{const Y=W.toLowerCase();return Y.includes("angry")||Y.includes("frustrated")?"#dc2626":Y.includes("sad")||Y.includes("disappointed")?"#3b82f6":Y.includes("confused")?"#f59e0b":Y.includes("anxious")?"#f97316":"#6b7280"},j=W=>{const Y=W.toLowerCase();return Y==="audio"?ib:Y==="chat"?HD:ib},I=W=>{const Y=W.toLowerCase();return Y==="low"?1:Y==="medium"?2:Y==="high"?3:0},L=W=>{const Y=W.toLowerCase();return Y==="low"?"#22c55e":Y==="medium"?"#f59e0b":Y==="high"?"#ef4444":"#6b7280"},P=({difficulty:W,size:Y=14})=>{const be=I(W),le=L(W),ye=Y/4,re=Y/8;return p.jsx("div",{className:"flex items-end",style:{gap:`${re}px`,height:`${Y}px`},children:[1,2,3].map(te=>p.jsx("div",{style:{width:`${ye}px`,height:`${te/3*Y}px`,backgroundColor:te<=be?le:"#e5e7eb",borderRadius:`${ye/4}px`}},te))})},K=W=>{c.trim()&&(w({...y,[W]:c.trim()}),s(null),a(null),u(""))},X=({field:W,value:Y,options:be})=>{const le=N.useRef(null),ye=W==="customerName";N.useEffect(()=>{const ie=Me=>{le.current&&!le.current.contains(Me.target)&&r===W&&(s(null),a(null),u(""))};if(r===W)return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[r,W]);const re=W==="emotion",te=W==="customerName",F=W==="difficulty",H=W==="modality",q=re?A(Y):null,_=re?D(Y):null,U=te?C(Y):null,ae=H?j(Y):null;return p.jsxs("div",{className:"relative inline-block",ref:le,children:[p.jsxs("button",{onClick:()=>{s(r===W?null:W),a(null),u("")},className:"inline-flex items-center gap-[5px] px-[10px] py-[3px] rounded-full bg-white hover:bg-[#f9fafb] border border-[#d1d5db] hover:border-[#9ca3af] transition-all shadow-[0_1px_2px_rgba(0,0,0,0.05)] hover:shadow-[0_1px_3px_rgba(0,0,0,0.1)]",children:[F&&p.jsx(P,{difficulty:Y,size:14}),H&&ae&&p.jsx(ae,{className:"size-[14px] text-[#6b7280]",stroke:1.5}),re&&q&&p.jsx(q,{className:"size-[14px]",style:{color:_||void 0},stroke:2}),te&&U&&(U.avatar?p.jsx("img",{src:U.avatar,alt:U.name,className:"size-[18px] rounded-full object-cover"}):p.jsx("div",{className:"size-[18px] rounded-full bg-[#e5e7eb] flex items-center justify-center",children:p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[12px] text-[#6b697b] text-[10px]",children:U.name.charAt(0)})})),p.jsx("span",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-[15px] text-nowrap text-[#1f2937]",children:Y})]}),r===W&&p.jsx("div",{className:"absolute left-0 top-[calc(100%+4px)] bg-white rounded-[8px] shadow-[0px_4px_12px_rgba(0,0,0,0.15)] py-[4px] min-w-[200px] max-w-[400px] z-50",children:i===W?p.jsxs("div",{className:"flex flex-col gap-[8px] px-[16px] py-[10px] w-full",children:[p.jsx("input",{type:"text",value:c,onChange:ie=>u(ie.target.value),onKeyDown:ie=>{ie.key==="Enter"?K(W):ie.key==="Escape"&&(a(null),u(""))},className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px] border border-[#d7d6d1] rounded-[4px] px-[12px] py-[8px] outline-none focus:border-[#0975d7]",placeholder:"Enter custom value",autoFocus:!0}),p.jsxs("div",{className:"flex gap-[8px] justify-end",children:[p.jsx("button",{onClick:()=>{a(null),u("")},className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-[#6b697b] text-[14px] px-[12px] py-[6px] rounded-[4px] hover:bg-[#f5f5f5] transition-colors",children:"Cancel"}),p.jsx("button",{onClick:()=>K(W),className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-white text-[14px] bg-[#0975d7] px-[12px] py-[6px] rounded-[4px] hover:bg-[#0861b8] transition-colors",children:"Add"})]})]}):be.map((ie,Me)=>{if(ye&&ie!=="Add custom..."){const he=C(ie);if(he)return p.jsxs("button",{className:"flex items-center gap-[12px] px-[16px] py-[10px] w-full hover:bg-[#f5f5f5] transition-colors text-left",onClick:()=>S(W,ie),children:[he.avatar?p.jsx("img",{src:he.avatar,alt:he.name,className:"w-[32px] h-[32px] rounded-[6px] object-cover flex-shrink-0"}):p.jsx("div",{className:"w-[32px] h-[32px] rounded-[6px] bg-[#e5e7eb] flex-shrink-0 flex items-center justify-center",children:p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[16px] text-[#6b697b] text-[14px]",children:he.name.charAt(0)})}),p.jsxs("div",{className:"flex flex-col items-start",children:[p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:he.name}),p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[16px] text-[#6b697b] text-[12px] mt-[2px]",children:M(he)})]})]},Me)}if(W==="emotion"&&ie!=="Add custom..."){const he=A(ie),ve=D(ie);return p.jsxs("button",{className:"flex items-center gap-[8px] px-[16px] py-[10px] w-full hover:bg-[#f5f5f5] transition-colors text-left",onClick:()=>S(W,ie),children:[p.jsx(he,{className:"size-[18px]",style:{color:ve},stroke:2}),p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:ie})]},Me)}if(W==="modality"){const he=j(ie);return p.jsxs("button",{className:"flex items-center gap-[10px] px-[16px] py-[10px] w-full hover:bg-[#f5f5f5] transition-colors text-left",onClick:()=>S(W,ie),children:[p.jsx(he,{className:"size-[18px] text-[#6b7280]",stroke:1.5}),p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:ie})]},Me)}return W==="difficulty"?p.jsxs("button",{className:"flex items-center gap-[10px] px-[16px] py-[10px] w-full hover:bg-[#f5f5f5] transition-colors text-left",onClick:()=>S(W,ie),children:[p.jsx(P,{difficulty:ie,size:16}),p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:ie})]},Me):p.jsx("button",{className:"flex items-center px-[16px] py-[10px] w-full hover:bg-[#f5f5f5] transition-colors text-left",onClick:()=>S(W,ie),children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:ie})},Me)})})]})};return N.useEffect(()=>{const W=m.current[r||""];W&&W.scrollIntoView({behavior:"smooth",block:"nearest"})},[r]),p.jsx("div",{className:"flex-1 bg-[#fcfcfd] flex flex-col overflow-hidden",children:p.jsxs("div",{className:"flex flex-col gap-[12px] items-start p-[16px] flex-1 overflow-auto",children:[p.jsxs("div",{className:"content-stretch flex gap-[16px] items-start justify-between relative shrink-0 w-full",children:[p.jsxs("div",{className:"content-stretch flex gap-[12px] items-center relative shrink-0",children:[p.jsx("button",{onClick:t,className:"flex items-center justify-center p-[8px] rounded-[4px] hover:bg-[#f5f5f5] transition-colors","aria-label":"Go back",children:p.jsx(Bi,{className:"size-[20px] text-[#3d3c52]",stroke:2})}),p.jsx("p",{className:"font-['Inter:Bold',sans-serif] font-bold leading-[30px] not-italic relative shrink-0 text-[#3d3c52] text-[22px] text-nowrap",children:"Roleplay"})]}),p.jsx("div",{className:"basis-0 content-stretch flex gap-[602px] grow items-start justify-end min-h-px min-w-px relative shrink-0",children:p.jsx("button",{onClick:t,className:"content-stretch flex flex-col gap-[6px] items-start relative shrink-0 hover:opacity-80 transition-opacity",children:p.jsx("p",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[24px] not-italic relative shrink-0 text-[#0975d7] text-[16px] text-nowrap",children:"All existing roleplays"})})})]}),p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full relative",children:[p.jsx("div",{"aria-hidden":"true",className:"absolute border-[#ececf3] border-[1px_0px_0px] border-solid inset-0 pointer-events-none"}),p.jsxs("div",{className:"flex flex-col gap-[12px] items-start relative w-[590px]",children:[p.jsxs("div",{className:"flex gap-[8px] items-center bg-white rounded-[8px] p-[4px] border border-[#ececf3] w-fit",children:[p.jsx(Bs.button,{onClick:()=>{},className:"px-[16px] py-[8px] rounded-[6px] font-['Inter:Semi_Bold',sans-serif] font-semibold text-[14px] text-[#3d3c52] bg-[#f0f0f0] transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Scenario builder"}),p.jsx(Bs.button,{onClick:e,className:"px-[16px] py-[8px] rounded-[6px] font-['Inter:Medium',sans-serif] font-medium text-[14px] text-[#6b697b] hover:text-[#3d3c52] hover:bg-[#f5f5f5] transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Prompt"})]}),p.jsxs(Bs.div,{className:"flex flex-col w-full mt-[24px]",initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2,ease:[.4,0,.2,1]},children:[p.jsxs("div",{className:"flex flex-col gap-[8px]",children:[p.jsxs("p",{className:"font-['Inter:Regular',sans-serif] text-[15px] leading-[32px] text-[#4b5563] flex flex-wrap items-center gap-x-[6px] gap-y-[8px]",children:[p.jsx("span",{children:"I want to train"}),p.jsx(X,{field:"trainee",value:y.trainee,options:k.trainee})]}),p.jsxs("p",{className:"font-['Inter:Regular',sans-serif] text-[15px] leading-[32px] text-[#4b5563] flex flex-wrap items-center gap-x-[6px] gap-y-[8px]",children:[p.jsx("span",{children:"The customer is"}),p.jsx(X,{field:"customerName",value:y.customerName,options:k.customerName}),p.jsx("span",{children:"who is"}),p.jsx(X,{field:"emotion",value:y.emotion,options:k.emotion}),p.jsx("span",{children:"because"}),p.jsx(X,{field:"scenario",value:y.scenario,options:k.scenario})]})]}),p.jsx("div",{className:"h-[1px] mt-[20px] mb-[16px] w-[60%] bg-gradient-to-r from-[#e5e7eb] via-[#e5e7eb]/30 to-transparent"}),p.jsxs("p",{className:"font-['Inter:Regular',sans-serif] text-[15px] leading-[32px] text-[#4b5563] flex flex-wrap items-center gap-x-[6px] gap-y-[8px]",children:[p.jsx("span",{children:"The learner should"}),p.jsx(X,{field:"objective",value:y.objective,options:k.objective})]}),p.jsxs("p",{className:"font-['Inter:Regular',sans-serif] text-[15px] leading-[32px] text-[#4b5563] flex flex-wrap items-center gap-x-[6px] gap-y-[8px] mt-[12px]",children:[p.jsx("span",{children:"Evaluate on"}),p.jsx(X,{field:"criteria1",value:y.criteria1,options:k.criteria1}),p.jsx(X,{field:"criteria2",value:y.criteria2,options:k.criteria2}),p.jsx("span",{children:"&"}),p.jsx(X,{field:"criteria3",value:y.criteria3,options:k.criteria3})]}),p.jsx("div",{className:"h-[1px] mt-[20px] mb-[16px] w-[60%] bg-gradient-to-r from-[#e5e7eb] via-[#e5e7eb]/30 to-transparent"}),p.jsxs("p",{className:"font-['Inter:Regular',sans-serif] text-[15px] leading-[32px] text-[#4b5563] flex flex-wrap items-center gap-x-[6px] gap-y-[8px]",children:[p.jsx("span",{children:"The modality is"}),p.jsx(X,{field:"modality",value:y.modality,options:k.modality}),p.jsx("span",{children:"and the difficulty level should be"}),p.jsx(X,{field:"difficulty",value:y.difficulty,options:k.difficulty})]}),p.jsx("button",{className:"bg-[#c74900] flex gap-[8px] items-center justify-center px-[20px] py-[12px] rounded-[8px] hover:bg-[#b04200] transition-colors disabled:opacity-70 disabled:cursor-not-allowed mt-[28px] w-fit",onClick:()=>{h(!0),n(y)},disabled:f,children:f?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-[14px] text-white",children:"Generating scenario"}),p.jsx(fC,{className:"size-[18px] text-white animate-spin",stroke:1.5})]}):p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-[14px] text-white",children:"Generate detailed scenario"}),p.jsx(Yr,{className:"size-[18px] text-white",stroke:1.5})]})})]})]})]})]})})}const SI=[{title:"Customer Service",content:"Create a training scenario for customer service representatives to handle an angry customer who wants to return a product but doesn't have a receipt. The customer should be frustrated and the representative needs to de-escalate the situation while following company policies."},{title:"Sales Training",content:"Design a roleplay scenario where a sales executive needs to upsell additional services to a customer who is already interested in the base product. The customer should be price-conscious and the executive needs to demonstrate value without being pushy."},{title:"Technical Support",content:"Build a scenario for technical support staff to help a confused customer troubleshoot a software issue. The customer has limited technical knowledge and the support agent needs to explain steps clearly and patiently."},{title:"Conflict Resolution",content:"Create a training scenario for managers to mediate a conflict between two team members. One team member feels their work is being undermined while the other believes they're just trying to help. The manager needs to facilitate a productive conversation."},{title:"Product Demo",content:"Design a roleplay where a sales representative needs to demonstrate a new product feature to a skeptical customer. The customer has concerns about complexity and the representative needs to show how the feature solves their specific problem."}];function CI({onBack:t,onSwitchToBuilder:e,onGenerateScenario:n}){const[r,s]=N.useState(""),[i,a]=N.useState(!1),c=f=>{s(f)},u=()=>{r.trim()&&!i&&(a(!0),setTimeout(()=>{n()},2e3))};return p.jsx("div",{className:"flex-1 bg-[#fcfcfd] flex flex-col overflow-hidden",children:p.jsxs("div",{className:"flex flex-col gap-[12px] items-start p-[16px] flex-1 overflow-auto",children:[p.jsxs("div",{className:"content-stretch flex gap-[16px] items-start justify-between relative shrink-0 w-full",children:[p.jsxs("div",{className:"content-stretch flex gap-[12px] items-center relative shrink-0",children:[p.jsx("button",{onClick:t,className:"flex items-center justify-center p-[8px] rounded-[4px] hover:bg-[#f5f5f5] transition-colors","aria-label":"Go back",children:p.jsx(Bi,{className:"size-[20px] text-[#3d3c52]",stroke:2})}),p.jsx("p",{className:"font-['Inter:Bold',sans-serif] font-bold leading-[30px] not-italic relative shrink-0 text-[#3d3c52] text-[22px] text-nowrap",children:"Roleplay"})]}),p.jsx("div",{className:"basis-0 content-stretch flex gap-[602px] grow items-start justify-end min-h-px min-w-px relative shrink-0",children:p.jsx("button",{onClick:t,className:"content-stretch flex flex-col gap-[6px] items-start relative shrink-0 hover:opacity-80 transition-opacity",children:p.jsx("p",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[24px] not-italic relative shrink-0 text-[#0975d7] text-[16px] text-nowrap",children:"All existing roleplays"})})})]}),p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full relative",children:[p.jsx("div",{"aria-hidden":"true",className:"absolute border-[#ececf3] border-[1px_0px_0px] border-solid inset-0 pointer-events-none"}),p.jsxs("div",{className:"flex flex-col gap-[12px] items-start relative w-[590px]",children:[p.jsxs("div",{className:"flex gap-[8px] items-center bg-white rounded-[8px] p-[4px] border border-[#ececf3] w-fit",children:[p.jsx(Bs.button,{onClick:e,className:"px-[16px] py-[8px] rounded-[6px] font-['Inter:Medium',sans-serif] font-medium text-[14px] text-[#6b697b] hover:text-[#3d3c52] hover:bg-[#f5f5f5] transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Scenario builder"}),p.jsx(Bs.button,{onClick:()=>{},className:"px-[16px] py-[8px] rounded-[6px] font-['Inter:Semi_Bold',sans-serif] font-semibold text-[14px] text-[#3d3c52] bg-[#f0f0f0] transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Prompt"})]}),p.jsx(Bs.div,{className:"content-stretch flex flex-col items-start relative shrink-0 w-full mt-[16px]",initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2,ease:[.4,0,.2,1]},children:p.jsxs("div",{className:"bg-white relative rounded-[12px] shrink-0 w-full",children:[p.jsx("div",{"aria-hidden":"true",className:"absolute border border-[#dfdde7] border-solid inset-0 pointer-events-none rounded-[12px] shadow-[0px_12px_12px_0px_rgba(0,0,0,0.04)]"}),p.jsxs("div",{className:"content-stretch flex flex-col gap-[8px] items-start px-[16px] py-[12px] relative w-full",children:[p.jsx("div",{className:"relative shrink-0 w-full",children:p.jsx("div",{className:"flex flex-row items-center size-full",children:p.jsx("div",{className:"content-stretch flex items-center px-[8px] py-[12px] relative w-full",children:p.jsx("textarea",{value:r,onChange:f=>s(f.target.value),className:"basis-0 font-['Inter:Regular',sans-serif] grow leading-[20px] min-h-[60px] min-w-px not-italic relative shrink-0 text-[#3d3c52] text-[14px] border-none outline-none resize-none bg-transparent w-full placeholder:text-[#8c899f]",placeholder:"For eg. Make learners learn about how to handle an angry customer who is not able to return a product item"})})})}),p.jsxs("div",{className:"content-stretch flex items-start justify-between relative shrink-0 w-full",children:[p.jsxs("div",{className:"content-stretch flex gap-[8px] items-center relative shrink-0 w-[180px]",children:[p.jsx("div",{className:"content-stretch flex items-center relative shrink-0",children:p.jsx("button",{className:"bg-[#f6f6f9] content-stretch flex items-center overflow-clip p-[8px] relative rounded-[24px] shrink-0 hover:bg-[#ececf3] transition-colors",children:p.jsx("div",{className:"relative shrink-0 size-[20px]",children:p.jsx(kr,{className:"size-[20px] text-[#8C899F]",stroke:2.5})})})}),p.jsx("div",{className:"content-stretch flex items-center relative shrink-0",children:p.jsx("button",{className:"bg-[#f6f6f9] content-stretch flex items-center overflow-clip p-[8px] relative rounded-[24px] shrink-0 hover:bg-[#ececf3] transition-colors",children:p.jsx("div",{className:"relative shrink-0 size-[20px]",children:p.jsx(GD,{className:"size-[20px] text-[#8C899F]",stroke:2.5})})})})]}),p.jsx("div",{className:"content-stretch flex gap-[8px] items-center relative shrink-0",children:p.jsx("button",{onClick:u,className:`content-stretch flex items-center overflow-clip p-[8px] relative rounded-[24px] shrink-0 transition-all ${r.trim()&&!i?"bg-[#0975d7] hover:bg-[#0861b8] cursor-pointer":"bg-[#d0d0d0] hover:bg-[#c0c0c0] cursor-not-allowed opacity-50"}`,disabled:!r.trim()||i,children:p.jsx("div",{className:"relative shrink-0 size-[20px]",children:i?p.jsx(fC,{className:"size-[20px] text-white animate-spin",stroke:2.5}):p.jsx(Yr,{className:`size-[20px] ${r.trim()?"text-white":"text-[#8C899F]"}`,stroke:2.5})})})})]})]})]})}),p.jsxs(Bs.div,{className:"content-stretch flex flex-col gap-[12px] items-start relative shrink-0 w-full mt-[24px] pb-[8px]",initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2,ease:[.4,0,.2,1]},children:[p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-[#6b697b] text-[14px]",children:"Prompt Templates"}),p.jsx("div",{className:"flex flex-wrap gap-[8px] items-start relative w-full",children:SI.map((f,h)=>p.jsx(Bs.button,{onClick:()=>c(f.content),className:"bg-white border border-[#ececf3] rounded-[8px] px-[12px] py-[8px] hover:bg-[#f5f5f5] hover:border-[#0975d7] transition-all text-left",whileHover:{scale:1.02},whileTap:{scale:.98},children:p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-[#3d3c52] text-[14px]",children:f.title})},h))})]})]})]})]})})}var Yx=M2();const yC=E2(Yx);var am={exports:{}},lm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ab;function NI(){if(ab)return lm;ab=1;var t=ic();function e(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,i=t.useLayoutEffect,a=t.useDebugValue;function c(m,x){var y=x(),w=r({inst:{value:y,getSnapshot:x}}),k=w[0].inst,S=w[1];return i(function(){k.value=y,k.getSnapshot=x,u(k)&&S({inst:k})},[m,y,x]),s(function(){return u(k)&&S({inst:k}),m(function(){u(k)&&S({inst:k})})},[m]),a(y),y}function u(m){var x=m.getSnapshot;m=m.value;try{var y=x();return!n(m,y)}catch{return!0}}function f(m,x){return x()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return lm.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,lm}var lb;function vC(){return lb||(lb=1,am.exports=NI()),am.exports}var wC=vC();function Ft(t){this.content=t}Ft.prototype={constructor:Ft,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new Ft(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ft(n)},addToStart:function(t,e){return new Ft([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ft(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new Ft(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ft.from(t),t.size?new Ft(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ft.from(t),t.size?new Ft(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ft.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ft.from=function(t){if(t instanceof Ft)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ft(e)};function bC(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let a=0;s.text[a]==i.text[a];a++)n++;return n}if(s.content.size||i.content.size){let a=bC(s.content,i.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function kC(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let a=t.child(--s),c=e.child(--i),u=a.nodeSize;if(a==c){n-=u,r-=u;continue}if(!a.sameMarkup(c))return{a:n,b:r};if(a.isText&&a.text!=c.text){let f=0,h=Math.min(a.text.length,c.text.length);for(;f<h&&a.text[a.text.length-f-1]==c.text[c.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(a.content.size||c.content.size){let f=kC(a.content,c.content,n-1,r-1);if(f)return f}n-=u,r-=u}}class Z{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let a=0,c=0;c<n;a++){let u=this.content[a],f=c+u.nodeSize;if(f>e&&r(u,s+c,i||null,a)!==!1&&u.content.size){let h=c+1;u.nodesBetween(Math.max(0,e-h),Math.min(u.content.size,n-h),r,s+h)}c=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",a=!0;return this.nodesBetween(e,n,(c,u)=>{let f=c.isText?c.text.slice(Math.max(e,u)-u,n-u):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&f||c.isTextblock)&&r&&(a?a=!1:i+=r),i+=f},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new Z(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,a=0;a<n;i++){let c=this.content[i],u=a+c.nodeSize;u>e&&((a<e||u>n)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,n-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,n-a-1))),r.push(c),s+=c.nodeSize),a=u}return new Z(r,s)}cutByIndex(e,n){return e==n?Z.empty:e==0&&n==this.content.length?this:new Z(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new Z(s,i)}addToStart(e){return new Z([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Z(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return bC(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return kC(this,e,n,r)}findIndex(e){if(e==0)return Ou(0,e);if(e==this.size)return Ou(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),i=r+s.nodeSize;if(i>=e)return i==e?Ou(n+1,i):Ou(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Z.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Z(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Z.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new Z(n||e,r)}static from(e){if(!e)return Z.empty;if(e instanceof Z)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Z([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Z.empty=new Z([],0);const cm={index:0,offset:0};function Ou(t,e){return cm.index=t,cm.offset=e,cm}function Md(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Md(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Md(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Ge=class Eg{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Md(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Eg.none;if(e instanceof Eg)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};Ge.none=[];class Td extends Error{}class ue{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=CC(this.content,e+this.openStart,n);return r&&new ue(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ue(SC(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ue.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ue(Z.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new ue(e,r,s)}}ue.empty=new ue(Z.empty,0,0);function SC(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:a,offset:c}=t.findIndex(n);if(s==e||i.isText){if(c!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(SC(i.content,e-s-1,n-s-1)))}function CC(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),a=t.maybeChild(s);if(i==e||a.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=CC(a.content,e-i-1,n,a);return c&&t.replaceChild(s,a.copy(c))}function EI(t,e,n){if(n.openStart>t.depth)throw new Td("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Td("Inconsistent open depths");return NC(t,e,n,0)}function NC(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let a=NC(t,e,n,r+1);return i.copy(i.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,c=a.content;return Ji(a,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=MI(n,t);return Ji(i,MC(t,a,c,e,r))}else return Ji(i,Ad(t,e,r))}function EC(t,e){if(!e.type.compatibleContent(t.type))throw new Td("Cannot join "+e.type.name+" onto "+t.type.name)}function Mg(t,e,n){let r=t.node(n);return EC(r,e.node(n)),r}function Yi(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Al(t,e,n,r){let s=(e||t).node(n),i=0,a=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Yi(t.nodeAfter,r),i++));for(let c=i;c<a;c++)Yi(s.child(c),r);e&&e.depth==n&&e.textOffset&&Yi(e.nodeBefore,r)}function Ji(t,e){return t.type.checkContent(e),t.copy(e)}function MC(t,e,n,r,s){let i=t.depth>s&&Mg(t,e,s+1),a=r.depth>s&&Mg(n,r,s+1),c=[];return Al(null,t,s,c),i&&a&&e.index(s)==n.index(s)?(EC(i,a),Yi(Ji(i,MC(t,e,n,r,s+1)),c)):(i&&Yi(Ji(i,Ad(t,e,s+1)),c),Al(e,n,s,c),a&&Yi(Ji(a,Ad(n,r,s+1)),c)),Al(r,null,s,c),new Z(c)}function Ad(t,e,n){let r=[];if(Al(null,t,n,r),t.depth>n){let s=Mg(t,e,n+1);Yi(Ji(s,Ad(t,e,n+1)),r)}return Al(e,null,n,r),new Z(r)}function MI(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let i=n-1;i>=0;i--)s=e.node(i).copy(Z.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class Wl{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ge.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let c=r;r=s,s=c}let i=r.marks;for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!s||!i[a].isInSet(s.marks))&&(i=i[a--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new jd(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let a=e;;){let{index:c,offset:u}=a.content.findIndex(i),f=i-u;if(r.push(a,c,s+u),!f||(a=a.child(c),a.isText))break;i=f-1,s+=u+1}return new Wl(n,r,i)}static resolveCached(e,n){let r=cb.get(e);if(r)for(let i=0;i<r.elts.length;i++){let a=r.elts[i];if(a.pos==n)return a}else cb.set(e,r=new TI);let s=r.elts[r.i]=Wl.resolve(e,n);return r.i=(r.i+1)%AI,s}}class TI{constructor(){this.elts=[],this.i=0}}const AI=12,cb=new WeakMap;class jd{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const jI=Object.create(null);let Gs=class Tg{constructor(e,n,r,s=Ge.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||Z.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Md(this.attrs,n||e.defaultAttrs||jI)&&Ge.sameSet(this.marks,r||Ge.none)}copy(e=null){return e==this.content?this:new Tg(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Tg(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ue.empty;let s=this.resolve(e),i=this.resolve(n),a=r?0:s.sharedDepth(n),c=s.start(a),f=s.node(a).content.cut(s.pos-c,i.pos-c);return new ue(f,s.depth-a,i.depth-a)}replace(e,n,r){return EI(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Wl.resolveCached(this,e)}resolveNoCache(e){return Wl.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),TC(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Z.empty,s=0,i=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,i),c=a&&a.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let u=s;u<i;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),a=i&&i.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ge.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Ge.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=Z.fromJSON(e,n.content),i=e.nodeType(n.type).create(n.attrs,s,r);return i.type.checkAttrs(i.attrs),i}};Gs.prototype.text=void 0;class Rd extends Gs{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):TC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Rd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Rd(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function TC(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class eo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new RI(e,n);if(r.next==null)return eo.empty;let s=AC(r);r.next&&r.err("Unexpected trailing text");let i=zI(_I(s));return FI(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(a,c){let u=a.matchFragment(e,r);if(u&&(!n||u.validEnd))return Z.from(c.map(f=>f.createAndFill()));for(let f=0;f<a.next.length;f++){let{type:h,next:m}=a.next[f];if(!(h.isText||h.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let x=i(m,c.concat(h));if(x)return x}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let a=[];for(let c=s;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<i.next.length;a++){let{type:c,next:u}=i.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!s.type||u.validEnd)&&(r.push({match:c.contentMatch,type:c,via:s}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)i+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return i}).join(`
`)}}eo.empty=new eo(!0);class RI{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function AC(t){let e=[];do e.push(PI(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function PI(t){let e=[];do e.push(DI(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function DI(t){let e=LI(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=II(t,e);else break;return e}function ub(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function II(t,e){let n=ub(t),r=n;return t.eat(",")&&(t.next!="}"?r=ub(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function OI(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let a=n[i];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function LI(t){if(t.eat("(")){let e=AC(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=OI(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function _I(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(a,c,u){let f={term:u,to:c};return e[a].push(f),f}function s(a,c){a.forEach(u=>u.to=c)}function i(a,c){if(a.type=="choice")return a.exprs.reduce((u,f)=>u.concat(i(f,c)),[]);if(a.type=="seq")for(let u=0;;u++){let f=i(a.exprs[u],c);if(u==a.exprs.length-1)return f;s(f,c=n())}else if(a.type=="star"){let u=n();return r(c,u),s(i(a.expr,u),u),[r(u)]}else if(a.type=="plus"){let u=n();return s(i(a.expr,c),u),s(i(a.expr,u),u),[r(u)]}else{if(a.type=="opt")return[r(c)].concat(i(a.expr,c));if(a.type=="range"){let u=c;for(let f=0;f<a.min;f++){let h=n();s(i(a.expr,u),h),u=h}if(a.max==-1)s(i(a.expr,u),u);else for(let f=a.min;f<a.max;f++){let h=n();r(u,h),s(i(a.expr,u),h),u=h}return[r(u)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function jC(t,e){return e-t}function db(t,e){let n=[];return r(e),n.sort(jC);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let a=0;a<i.length;a++){let{term:c,to:u}=i[a];!c&&n.indexOf(u)==-1&&r(u)}}}function zI(t){let e=Object.create(null);return n(db(t,0));function n(r){let s=[];r.forEach(a=>{t[a].forEach(({term:c,to:u})=>{if(!c)return;let f;for(let h=0;h<s.length;h++)s[h][0]==c&&(f=s[h][1]);db(t,u).forEach(h=>{f||s.push([c,f=[]]),f.indexOf(h)==-1&&f.push(h)})})});let i=e[r.join(",")]=new eo(r.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let c=s[a][1].sort(jC);i.next.push({type:s[a][0],next:e[c.join(",")]||n(c)})}return i}}function FI(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,a=[];for(let c=0;c<s.next.length;c++){let{type:u,next:f}=s.next[c];a.push(u.name),i&&!(u.isText||u.hasRequiredAttrs())&&(i=!1),r.indexOf(f)==-1&&r.push(f)}i&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function RC(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function PC(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function DC(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function IC(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new VI(t,r,e[r]);return n}let fb=class OC{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=IC(e,r.attrs),this.defaultAttrs=RC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==eo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:PC(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Gs(this,this.computeAttrs(e),Z.from(n),Ge.setFrom(r))}createChecked(e=null,n,r){return n=Z.from(n),this.checkContent(n),new Gs(this,this.computeAttrs(e),n,Ge.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Z.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(Z.empty,!0);return i?new Gs(this,e,n.append(i),Ge.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){DC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ge.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,a)=>r[i]=new OC(i,n,a));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function BI(t,e,n){let r=n.split("|");return s=>{let i=s===null?"null":typeof s;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${i}`)}}class VI{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?BI(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Af{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=IC(e,s.attrs),this.excluded=null;let i=RC(this.attrs);this.instance=i?new Ge(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Ge(this,PC(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,a)=>r[i]=new Af(i,s++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){DC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class LC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Ft.from(e.nodes),n.marks=Ft.from(e.marks||{}),this.nodes=fb.compile(this.spec.nodes,this),this.marks=Af.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],a=i.spec.content||"",c=i.spec.marks;if(i.contentMatch=r[a]||(r[a]=eo.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=c=="_"?null:c?pb(this,c.split(" ")):c==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],a=i.spec.excludes;i.excluded=a==null?[i]:a==""?[]:pb(this,a.split(" "))}this.nodeFromJSON=s=>Gs.fromJSON(this,s),this.markFromJSON=s=>Ge.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof fb){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Rd(r,r.defaultAttrs,e,Ge.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function pb(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],a=i;if(i)n.push(i);else for(let c in t.marks){let u=t.marks[c];(s=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function $I(t){return t.tag!=null}function HI(t){return t.style!=null}class qs{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if($I(s))this.tags.push(s);else if(HI(s)){let i=/[^=]*/.exec(s.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new mb(this,n,!1);return r.addAll(e,Ge.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new mb(this,n,!0);return r.addAll(e,Ge.none,n.from,n.to),ue.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(KI(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let a=i.getAttrs(e);if(a===!1)continue;i.attrs=a||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let a=this.styles[i],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(a.getAttrs){let u=a.getAttrs(n);if(u===!1)continue;a.attrs=u||void 0}return a}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let c=n[a];if((c.priority==null?50:c.priority)<i)break}n.splice(a,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(a=>{r(a=gb(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(a=>{r(a=gb(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new qs(e,qs.schemaRules(e)))}}const _C={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},WI={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},zC={ol:!0,ul:!0},Ul=1,Ag=2,jl=4;function hb(t,e,n){return e!=null?(e?Ul:0)|(e==="full"?Ag:0):t&&t.whitespace=="pre"?Ul|Ag:n&~jl}class Lu{constructor(e,n,r,s,i,a){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=Ge.none,this.match=i||(a&jl?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Z.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ul)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=Z.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Z.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!_C.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class mb{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,i,a=hb(null,n.preserveWhitespace,0)|(r?jl:0);s?i=new Lu(s.type,s.attrs,Ge.none,!0,n.topMatch||s.type.contentMatch,a):r?i=new Lu(null,null,Ge.none,!0,null,a):i=new Lu(e.schema.topNodeType,null,Ge.none,!0,null,a),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,i=s.options&Ag?"full":this.localPreserveWS||(s.options&Ul)>0,{schema:a}=this.parser;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let c=r.split(/\r?\n|\r/);for(let u=0;u<c.length;u++)u&&this.insertNode(a.linebreakReplacement.create(),n,!0),c[u]&&this.insertNode(a.text(c[u]),n,!/\S/.test(c[u]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=s.content[s.content.length-1],u=e.previousSibling;(!c||u&&u.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),c;zC.hasOwnProperty(a)&&this.parser.normalizeLists&&UI(e);let u=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(u?u.ignore:WI.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(e=u.skip);let f,h=this.needsBlock;if(_C.hasOwnProperty(a))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),f=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=u&&u.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),f&&this.sync(i),this.needsBlock=h}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,u,f,u.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],a=r.getPropertyValue(i);if(a)for(let c=void 0;;){let u=this.parser.matchStyle(i,a,this,c);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(f=>!u.clearMark(f)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)c=u;else break}}return n}addElementByRule(e,n,r,s){let i,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let u=this.enter(a,n.attrs||null,r,n.preserveWhitespace);u&&(i=!0,r=u)}else{let u=this.parser.schema.marks[n.mark];r=r.concat(u.create(n.attrs))}let c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u,r,!1));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u,r),this.findAround(e,u,!1)}i&&this.sync(c)&&this.open--}addAll(e,n,r,s){let i=r||0;for(let a=r?e.childNodes[r]:e.firstChild,c=s==null?null:e.childNodes[s];a!=c;a=a.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(a,n);this.findAtPoint(e,i)}findPlace(e,n,r){let s,i;for(let a=this.open,c=0;a>=0;a--){let u=this.nodes[a],f=u.findWrapping(e);if(f&&(!s||s.length>f.length+c)&&(s=f,i=u,!f.length))break;if(u.solid){if(r)break;c+=2}}if(!s)return null;this.sync(i);for(let a=0;a<s.length;a++)n=this.enterInner(s[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let a=Ge.none;for(let c of s.concat(e.marks))(i.type?i.type.allowsMarkType(c.type):xb(c.type,e.type))&&(a=c.addToSet(a));return i.content.push(e.mark(a)),!0}return!1}enter(e,n,r,s){let i=this.findPlace(e.create(n),r,!1);return i&&(i=this.enterInner(e,n,r,!0,s)),i}enterInner(e,n,r,s=!1,i){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let c=hb(e,i,a.options);a.options&jl&&a.content.length==0&&(c|=jl);let u=Ge.none;return r=r.filter(f=>(a.type?a.type.allowsMarkType(f.type):xb(f.type,e))?(u=f.addToSet(u),!1):!0),this.nodes.push(new Lu(e,n,u,s,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ul)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),a=(c,u)=>{for(;c>=0;c--){let f=n[c];if(f==""){if(c==n.length-1||c==0)continue;for(;u>=i;u--)if(a(c-1,u))return!0;return!1}else{let h=u>0||u==0&&s?this.nodes[u].type:r&&u>=i?r.node(u-i).type:null;if(!h||h.name!=f&&!h.isInGroup(f))return!1;u--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function UI(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&zC.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function KI(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function gb(t){let e={};for(let n in t)e[n]=t[n];return e}function xb(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],a=c=>{i.push(c);for(let u=0;u<c.edgeCount;u++){let{type:f,next:h}=c.edge(u);if(f==e||i.indexOf(h)<0&&a(h))return!0}};if(a(s.contentMatch))return!0}}class lo{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=um(n).createDocumentFragment());let s=r,i=[];return e.forEach(a=>{if(i.length||a.marks.length){let c=0,u=0;for(;c<i.length&&u<a.marks.length;){let f=a.marks[u];if(!this.marks[f.type.name]){u++;continue}if(!f.eq(i[c][0])||f.type.spec.spanning===!1)break;c++,u++}for(;c<i.length;)s=i.pop()[1];for(;u<a.marks.length;){let f=a.marks[u++],h=this.serializeMark(f,a.isInline,n);h&&(i.push([f,s]),s.appendChild(h.dom),s=h.contentDOM||h.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=od(um(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&od(um(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return od(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new lo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=yb(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return yb(e.marks)}}function yb(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function um(t){return t.document||window.document}const vb=new WeakMap;function GI(t){let e=vb.get(t);return e===void 0&&vb.set(t,e=qI(t)),e}function qI(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function od(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=GI(r))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let c,u=n?t.createElementNS(n,s):t.createElement(s),f=e[1],h=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){h=2;for(let m in f)if(f[m]!=null){let x=m.indexOf(" ");x>0?u.setAttributeNS(m.slice(0,x),m.slice(x+1),f[m]):m=="style"&&u.style?u.style.cssText=f[m]:u.setAttribute(m,f[m])}}for(let m=h;m<e.length;m++){let x=e[m];if(x===0){if(m<e.length-1||m>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:y,contentDOM:w}=od(t,x,n,r);if(u.appendChild(y),w){if(c)throw new RangeError("Multiple content holes");c=w}}}return{dom:u,contentDOM:c}}const FC=65535,BC=Math.pow(2,16);function YI(t,e){return t+e*BC}function wb(t){return t&FC}function JI(t){return(t-(t&FC))/BC}const VC=1,$C=2,ad=4,HC=8;class jg{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&HC)>0}get deletedBefore(){return(this.delInfo&(VC|ad))>0}get deletedAfter(){return(this.delInfo&($C|ad))>0}get deletedAcross(){return(this.delInfo&ad)>0}}class Mn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Mn.empty)return Mn.empty}recover(e){let n=0,r=wb(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+JI(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?s:0);if(u>e)break;let f=this.ranges[c+i],h=this.ranges[c+a],m=u+f;if(e<=m){let x=f?e==u?-1:e==m?1:n:n,y=u+s+(x<0?0:h);if(r)return y;let w=e==(n<0?u:m)?null:YI(c/3,e-u),k=e==u?$C:e==m?VC:ad;return(n<0?e!=u:e!=m)&&(k|=HC),new jg(y,k,w)}s+=h-f}return r?e+s:new jg(e+s,0,null)}touches(e,n){let r=0,s=wb(n),i=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?r:0);if(u>e)break;let f=this.ranges[c+i],h=u+f;if(e<=h&&c==s*3)return!0;r+=this.ranges[c+a]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let a=this.ranges[s],c=a-(this.inverted?i:0),u=a+(this.inverted?0:i),f=this.ranges[s+n],h=this.ranges[s+r];e(c,c+f,u,u+h),i+=h-f}}invert(){return new Mn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Mn.empty:new Mn(e<0?[0,-e,0]:[0,0,e])}}Mn.empty=new Mn([]);class Kl{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Kl(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new Kl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let a=this._maps[i],c=a.mapResult(e,n);if(c.recover!=null){let u=this.getMirror(i);if(u!=null&&u>i&&u<this.to){i=u,e=this._maps[u].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return r?e:new jg(e,s,null)}}const dm=Object.create(null);class Qt{getMap(){return Mn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=dm[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in dm)throw new RangeError("Duplicate use of step JSON ID "+e);return dm[e]=n,n.prototype.jsonID=e,n}}class xt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new xt(e,null)}static fail(e){return new xt(null,e)}static fromReplace(e,n,r,s){try{return xt.ok(e.replace(n,r,s))}catch(i){if(i instanceof Td)return xt.fail(i.message);throw i}}}function Jx(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(Jx(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return Z.fromArray(r)}class Ws extends Qt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new ue(Jx(n.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return xt.fromReplace(e,this.from,this.to,i)}invert(){return new or(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ws(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ws&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ws(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ws(n.from,n.to,e.markFromJSON(n.mark))}}Qt.jsonID("addMark",Ws);class or extends Qt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ue(Jx(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return xt.fromReplace(e,this.from,this.to,r)}invert(){return new Ws(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new or(n.pos,r.pos,this.mark)}merge(e){return e instanceof or&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new or(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new or(n.from,n.to,e.markFromJSON(n.mark))}}Qt.jsonID("removeMark",or);class Us extends Qt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return xt.fromReplace(e,this.pos,this.pos+1,new ue(Z.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Us(this.pos,n.marks[s]);return new Us(this.pos,this.mark)}}return new to(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Us(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Us(n.pos,e.markFromJSON(n.mark))}}Qt.jsonID("addNodeMark",Us);class to extends Qt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return xt.fromReplace(e,this.pos,this.pos+1,new ue(Z.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Us(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new to(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new to(n.pos,e.markFromJSON(n.mark))}}Qt.jsonID("removeNodeMark",to);class Dt extends Qt{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&Rg(e,this.from,this.to)?xt.fail("Structure replace would overwrite content"):xt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Mn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Dt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Dt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Dt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ue.empty:new ue(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Dt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ue.empty:new ue(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Dt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Dt(n.from,n.to,ue.fromJSON(e,n.slice),!!n.structure)}}Qt.jsonID("replace",Dt);class Ot extends Qt{constructor(e,n,r,s,i,a,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=a,this.structure=c}apply(e){if(this.structure&&(Rg(e,this.from,this.gapFrom)||Rg(e,this.gapTo,this.to)))return xt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return xt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?xt.fromReplace(e,this.from,this.to,r):xt.fail("Content does not fit in gap")}getMap(){return new Mn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ot(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new Ot(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ot(n.from,n.to,n.gapFrom,n.gapTo,ue.fromJSON(e,n.slice),n.insert,!!n.structure)}}Qt.jsonID("replaceAround",Ot);function Rg(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let a=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function XI(t,e,n,r){let s=[],i=[],a,c;t.doc.nodesBetween(e,n,(u,f,h)=>{if(!u.isInline)return;let m=u.marks;if(!r.isInSet(m)&&h.type.allowsMarkType(r.type)){let x=Math.max(f,e),y=Math.min(f+u.nodeSize,n),w=r.addToSet(m);for(let k=0;k<m.length;k++)m[k].isInSet(w)||(a&&a.to==x&&a.mark.eq(m[k])?a.to=y:s.push(a=new or(x,y,m[k])));c&&c.to==x?c.to=y:i.push(c=new Ws(x,y,r))}}),s.forEach(u=>t.step(u)),i.forEach(u=>t.step(u))}function QI(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(a,c)=>{if(!a.isInline)return;i++;let u=null;if(r instanceof Af){let f=a.marks,h;for(;h=r.isInSet(f);)(u||(u=[])).push(h),f=h.removeFromSet(f)}else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length){let f=Math.min(c+a.nodeSize,n);for(let h=0;h<u.length;h++){let m=u[h],x;for(let y=0;y<s.length;y++){let w=s[y];w.step==i-1&&m.eq(s[y].style)&&(x=w)}x?(x.to=f,x.step=i):s.push({style:m,from:Math.max(c,e),to:f,step:i})}}}),s.forEach(a=>t.step(new or(a.from,a.to,a.style)))}function Xx(t,e,n,r=n.contentMatch,s=!0){let i=t.doc.nodeAt(e),a=[],c=e+1;for(let u=0;u<i.childCount;u++){let f=i.child(u),h=c+f.nodeSize,m=r.matchType(f.type);if(!m)a.push(new Dt(c,h,ue.empty));else{r=m;for(let x=0;x<f.marks.length;x++)n.allowsMarkType(f.marks[x].type)||t.step(new or(c,h,f.marks[x]));if(s&&f.isText&&n.whitespace!="pre"){let x,y=/\r?\n|\r/g,w;for(;x=y.exec(f.text);)w||(w=new ue(Z.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),a.push(new Dt(c+x.index,c+x.index+x[0].length,w))}}c=h}if(!r.validEnd){let u=r.fillBefore(Z.empty,!0);t.replace(c,c,new ue(u,0,0))}for(let u=a.length-1;u>=0;u--)t.step(a[u])}function ZI(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ba(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,s=0,i=0;;--r){let a=t.$from.node(r),c=t.$from.index(r)+s,u=t.$to.indexAfter(r)-i;if(r<t.depth&&a.canReplace(c,u,n))return r;if(r==0||a.type.spec.isolating||!ZI(a,c,u))break;c&&(s=1),u<a.childCount&&(i=1)}return null}function eO(t,e,n){let{$from:r,$to:s,depth:i}=e,a=r.before(i+1),c=s.after(i+1),u=a,f=c,h=Z.empty,m=0;for(let w=i,k=!1;w>n;w--)k||r.index(w)>0?(k=!0,h=Z.from(r.node(w).copy(h)),m++):u--;let x=Z.empty,y=0;for(let w=i,k=!1;w>n;w--)k||s.after(w+1)<s.end(w)?(k=!0,x=Z.from(s.node(w).copy(x)),y++):f++;t.step(new Ot(u,f,a,c,new ue(h.append(x),m,y),h.size-m,!0))}function Qx(t,e,n=null,r=t){let s=tO(t,e),i=s&&nO(r,e);return i?s.map(bb).concat({type:e,attrs:n}).concat(i.map(bb)):null}function bb(t){return{type:t,attrs:null}}function tO(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let a=i.length?i[0]:e;return n.canReplaceWith(r,s,a)?i:null}function nO(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),a=e.contentMatch.findWrapping(i.type);if(!a)return null;let u=(a.length?a[a.length-1]:e).contentMatch;for(let f=r;u&&f<s;f++)u=u.matchType(n.child(f).type);return!u||!u.validEnd?null:a}function rO(t,e,n){let r=Z.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let c=n[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Z.from(n[a].type.create(n[a].attrs,r))}let s=e.start,i=e.end;t.step(new Ot(s,i,s,i,new ue(r,0,0),n.length,!0))}function sO(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(a,c)=>{let u=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,u)&&iO(t.doc,t.mapping.slice(i).map(c),r)){let f=null;if(r.schema.linebreakReplacement){let y=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);y&&!w?f=!1:!y&&w&&(f=!0)}f===!1&&UC(t,a,c,i),Xx(t,t.mapping.slice(i).map(c,1),r,void 0,f===null);let h=t.mapping.slice(i),m=h.map(c,1),x=h.map(c+a.nodeSize,1);return t.step(new Ot(m,x,m+1,x-1,new ue(Z.from(r.create(u,null,a.marks)),0,0),1,!0)),f===!0&&WC(t,a,c,i),!1}})}function WC(t,e,n,r){e.forEach((s,i)=>{if(s.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(s.text);){let u=t.mapping.slice(r).map(n+1+i+a.index);t.replaceWith(u,u+1,e.type.schema.linebreakReplacement.create())}}})}function UC(t,e,n,r){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+i);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function iO(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function oO(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ot(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new ue(Z.from(a),0,0),1,!0))}function Zr(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,a=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let f=s.depth-1,h=n-2;f>i;f--,h--){let m=s.node(f),x=s.index(f);if(m.type.spec.isolating)return!1;let y=m.content.cutByIndex(x,m.childCount),w=r&&r[h+1];w&&(y=y.replaceChild(0,w.type.create(w.attrs)));let k=r&&r[h]||m;if(!m.canReplace(x+1,m.childCount)||!k.type.validContent(y))return!1}let c=s.indexAfter(i),u=r&&r[0];return s.node(i).canReplaceWith(c,c,u?u.type:s.node(i+1).type)}function aO(t,e,n=1,r){let s=t.doc.resolve(e),i=Z.empty,a=Z.empty;for(let c=s.depth,u=s.depth-n,f=n-1;c>u;c--,f--){i=Z.from(s.node(c).copy(i));let h=r&&r[f];a=Z.from(h?h.type.create(h.attrs,a):s.node(c).copy(a))}t.step(new Dt(e,e,new ue(i.append(a),n,n),!0))}function ii(t,e){let n=t.resolve(e),r=n.index();return KC(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function lO(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),a=i.type==r?t.type.schema.nodes.text:i.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(i.marks))return!1}return n.validEnd}function KC(t,e){return!!(t&&e&&!t.isLeaf&&lO(t,e))}function jf(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,a,c=r.index(s);if(s==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(s+1),c++,a=r.node(s).maybeChild(c)):(i=r.node(s).maybeChild(c-1),a=r.node(s+1)),i&&!i.isTextblock&&KC(i,a)&&r.node(s).canReplace(c,c+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function cO(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-n),a=i.node().type;if(s&&a.inlineContent){let h=a.whitespace=="pre",m=!!a.contentMatch.matchType(s);h&&!m?r=!1:!h&&m&&(r=!0)}let c=t.steps.length;if(r===!1){let h=t.doc.resolve(e+n);UC(t,h.node(),h.before(),c)}a.inlineContent&&Xx(t,e+n-1,a,i.node().contentMatchAt(i.index()),r==null);let u=t.mapping.slice(c),f=u.map(e-n);if(t.step(new Dt(f,u.map(e+n,-1),ue.empty,!0)),r===!0){let h=t.doc.resolve(f);WC(t,h.node(),h.before(),t.steps.length)}return t}function uO(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function GC(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(c>0?1:0),f=r.node(a),h=!1;if(i==1)h=f.canReplace(u,u,s);else{let m=f.contentMatchAt(u).findWrapping(s.firstChild.type);h=m&&f.canReplaceWith(u,u,m[0])}if(h)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function Rf(t,e,n=e,r=ue.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return qC(s,i,r)?new Dt(e,n,r):new dO(s,i,r).fit()}function qC(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class dO{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Z.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=Z.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,a=r.depth,c=s.depth;for(;a&&c&&i.childCount==1;)i=i.firstChild.content,a--,c--;let u=new ue(i,a,c);return e>-1?new Ot(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new Dt(r.pos,s.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=fm(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let a=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:u,match:f}=this.frontier[c],h,m=null;if(n==1&&(a?f.matchType(a.type)||(m=f.fillBefore(Z.from(a),!1)):i&&u.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:c,parent:i,inject:m};if(n==2&&a&&(h=f.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:c,parent:i,wrap:h};if(i&&f.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=fm(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ue(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=fm(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new ue(yl(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new ue(yl(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let k=0;k<i.length;k++)this.openFrontierNode(i[k]);let a=this.unplaced,c=r?r.content:a.content,u=a.openStart-e,f=0,h=[],{match:m,type:x}=this.frontier[n];if(s){for(let k=0;k<s.childCount;k++)h.push(s.child(k));m=m.matchFragment(s)}let y=c.size+e-(a.content.size-a.openEnd);for(;f<c.childCount;){let k=c.child(f),S=m.matchType(k.type);if(!S)break;f++,(f>1||u==0||k.content.size)&&(m=S,h.push(YC(k.mark(x.allowedMarks(k.marks)),f==1?u:0,f==c.childCount?y:-1)))}let w=f==c.childCount;w||(y=-1),this.placed=vl(this.placed,n,Z.from(h)),this.frontier[n].match=m,w&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,S=c;k<y;k++){let C=S.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),S=C.content}this.unplaced=w?e==0?ue.empty:new ue(yl(a.content,e-1,1),e-1,y<0?a.openEnd:e-1):new ue(yl(a.content,e,f),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!pm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=pm(e,n,s,r,i);if(a){for(let c=n-1;c>=0;c--){let{match:u,type:f}=this.frontier[c],h=pm(e,c,f,u,!0);if(!h||h.childCount)continue e}return{depth:n,fit:a,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=vl(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=vl(this.placed,this.depth,Z.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Z.empty,!0);n.childCount&&(this.placed=vl(this.placed,this.frontier.length,n))}}function yl(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(yl(t.firstChild.content,e-1,n)))}function vl(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(vl(t.lastChild.content,e-1,n)))}function fm(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function YC(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,YC(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Z.empty,!0)))),t.copy(r)}function pm(t,e,n,r,s){let i=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let c=r.fillBefore(i.content,!0,a);return c&&!fO(n,i.content,a)?c:null}function fO(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function pO(t){return t.spec.defining||t.spec.definingForContent}function hO(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(qC(s,i,r))return t.step(new Dt(e,n,r));let a=XC(s,i);a[a.length-1]==0&&a.pop();let c=-(s.depth+1);a.unshift(c);for(let x=s.depth,y=s.pos-1;x>0;x--,y--){let w=s.node(x).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;a.indexOf(x)>-1?c=x:s.before(x)==y&&a.splice(1,0,-x)}let u=a.indexOf(c),f=[],h=r.openStart;for(let x=r.content,y=0;;y++){let w=x.firstChild;if(f.push(w),y==r.openStart)break;x=w.content}for(let x=h-1;x>=0;x--){let y=f[x],w=pO(y.type);if(w&&!y.sameMarkup(s.node(Math.abs(c)-1)))h=x;else if(w||!y.type.isTextblock)break}for(let x=r.openStart;x>=0;x--){let y=(x+h+1)%(r.openStart+1),w=f[y];if(w)for(let k=0;k<a.length;k++){let S=a[(k+u)%a.length],C=!0;S<0&&(C=!1,S=-S);let M=s.node(S-1),A=s.index(S-1);if(M.canReplaceWith(A,A,w.type,w.marks))return t.replace(s.before(S),C?i.after(S):n,new ue(JC(r.content,0,r.openStart,y),y,r.openEnd))}}let m=t.steps.length;for(let x=a.length-1;x>=0&&(t.replace(e,n,r),!(t.steps.length>m));x--){let y=a[x];y<0||(e=s.before(y),n=i.after(y))}}function JC(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(JC(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),a=i.fillBefore(t).append(t);t=a.append(i.matchFragment(a).fillBefore(Z.empty,!0))}return t}function mO(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=uO(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new ue(Z.from(r),0,0))}function gO(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=XC(r,s);for(let a=0;a<i.length;a++){let c=i[a],u=a==i.length-1;if(u&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),s.end(c));if(c>0&&(u||r.node(c-1).canReplace(r.index(c-1),s.indexAfter(c-1))))return t.delete(r.before(c),s.after(c))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&s.end(a)-n!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function XC(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class na extends Qt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return xt.fromReplace(e,this.pos,this.pos+1,new ue(Z.from(s),0,n.isLeaf?0:1))}getMap(){return Mn.empty}invert(e){return new na(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new na(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new na(n.pos,n.attr,n.value)}}Qt.jsonID("attr",na);class Gl extends Qt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return xt.ok(r)}getMap(){return Mn.empty}invert(e){return new Gl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Gl(n.attr,n.value)}}Qt.jsonID("docAttr",Gl);let ca=class extends Error{};ca=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};ca.prototype=Object.create(Error.prototype);ca.prototype.constructor=ca;ca.prototype.name="TransformError";class QC{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Kl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new ca(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=ue.empty){let s=Rf(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new ue(Z.from(r),0,0))}delete(e,n){return this.replace(e,n,ue.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return hO(this,e,n,r),this}replaceRangeWith(e,n,r){return mO(this,e,n,r),this}deleteRange(e,n){return gO(this,e,n),this}lift(e,n){return eO(this,e,n),this}join(e,n=1){return cO(this,e,n),this}wrap(e,n){return rO(this,e,n),this}setBlockType(e,n=e,r,s=null){return sO(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return oO(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new na(e,n,r)),this}setDocAttribute(e,n){return this.step(new Gl(e,n)),this}addNodeMark(e,n){return this.step(new Us(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Ge)n.isInSet(r.marks)&&this.step(new to(e,n));else{let s=r.marks,i,a=[];for(;i=n.isInSet(s);)a.push(new to(e,i)),s=i.removeFromSet(s);for(let c=a.length-1;c>=0;c--)this.step(a[c])}return this}split(e,n=1,r){return aO(this,e,n,r),this}addMark(e,n,r){return XI(this,e,n,r),this}removeMark(e,n,r){return QI(this,e,n,r),this}clearIncompatible(e,n,r){return Xx(this,e,n,r),this}}const hm=Object.create(null);class ze{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new xO(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ue.empty){let r=n.content.lastChild,s=null;for(let c=0;c<n.openEnd;c++)s=r,r=r.lastChild;let i=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:u,$to:f}=a[c],h=e.mapping.slice(i);e.replaceRange(h.map(u.pos),h.map(f.pos),c?ue.empty:n),c==0&&Cb(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:a,$to:c}=s[i],u=e.mapping.slice(r),f=u.map(a.pos),h=u.map(c.pos);i?e.deleteRange(f,h):(e.replaceRangeWith(f,h,n),Cb(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new De(e):Uo(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let a=n<0?Uo(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Uo(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Tn(e.node(0))}static atStart(e){return Uo(e,e,0,0,1)||new Tn(e)}static atEnd(e){return Uo(e,e,e.content.size,e.childCount,-1)||new Tn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=hm[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in hm)throw new RangeError("Duplicate use of selection JSON ID "+e);return hm[e]=n,n.prototype.jsonID=e,n}getBookmark(){return De.between(this.$anchor,this.$head).getBookmark()}}ze.prototype.visible=!0;class xO{constructor(e,n){this.$from=e,this.$to=n}}let kb=!1;function Sb(t){!kb&&!t.parent.inlineContent&&(kb=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class De extends ze{constructor(e,n=e){Sb(e),Sb(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ze.near(r);let s=e.resolve(n.map(this.anchor));return new De(s.parent.inlineContent?s:r,r)}replace(e,n=ue.empty){if(super.replace(e,n),n==ue.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof De&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Pf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new De(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=ze.findFrom(n,r,!0)||ze.findFrom(n,-r,!0);if(i)n=i.$head;else return ze.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(ze.findFrom(e,-r,!0)||ze.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new De(e,n)}}ze.jsonID("text",De);class Pf{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Pf(e.map(this.anchor),e.map(this.head))}resolve(e){return De.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ee extends ze{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?ze.near(i):new Ee(i)}content(){return new ue(Z.from(this.node),0,0)}eq(e){return e instanceof Ee&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Zx(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ee(e.resolve(n.anchor))}static create(e,n){return new Ee(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ee.prototype.visible=!1;ze.jsonID("node",Ee);class Zx{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Pf(r,r):new Zx(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ee.isSelectable(r)?new Ee(n):ze.near(n)}}class Tn extends ze{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ue.empty){if(n==ue.empty){e.delete(0,e.doc.content.size);let r=ze.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Tn(e)}map(e){return new Tn(e)}eq(e){return e instanceof Tn}getBookmark(){return yO}}ze.jsonID("all",Tn);const yO={map(){return this},resolve(t){return new Tn(t)}};function Uo(t,e,n,r,s,i=!1){if(e.inlineContent)return De.create(t,n);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let c=e.child(a);if(c.isAtom){if(!i&&Ee.isSelectable(c))return Ee.create(t,n-(s<0?c.nodeSize:0))}else{let u=Uo(t,c,n+s,s<0?c.childCount:0,s,i);if(u)return u}n+=c.nodeSize*s}return null}function Cb(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Dt||s instanceof Ot))return;let i=t.mapping.maps[r],a;i.forEach((c,u,f,h)=>{a==null&&(a=h)}),t.setSelection(ze.near(t.doc.resolve(a),n))}const Nb=1,_u=2,Eb=4;class vO extends QC{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Nb)&~_u,this.storedMarks=null,this}get selectionSet(){return(this.updated&Nb)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=_u,this}ensureMarks(e){return Ge.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&_u)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~_u,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ge.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let a=this.doc.resolve(n);i=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(ze.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Eb,this}get scrolledIntoView(){return(this.updated&Eb)>0}}function Mb(t,e){return!e||!t?t:t.bind(e)}class wl{constructor(e,n,r){this.name=e,this.init=Mb(n.init,r),this.apply=Mb(n.apply,r)}}const wO=[new wl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new wl("selection",{init(t,e){return t.selection||ze.atStart(e.doc)},apply(t){return t.selection}}),new wl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new wl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class mm{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=wO.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new wl(r.key,r.spec.state,r))})}}class Zo{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let u=s?s[a].n:0,f=s?s[a].state:this,h=u<n.length&&c.spec.appendTransaction.call(c,u?n.slice(u):n,f,r);if(h&&r.filterTransaction(h,a)){if(h.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<a?{state:r,n:n.length}:{state:this,n:0})}n.push(h),r=r.applyInner(h),i=!0}s&&(s[a]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Zo(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new vO(this)}static create(e){let n=new mm(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Zo(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new mm(this.schema,e.plugins),r=n.fields,s=new Zo(n);for(let i=0;i<r.length;i++){let a=r[i].name;s[a]=this.hasOwnProperty(a)?this[a]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new mm(e.schema,e.plugins),i=new Zo(s);return s.fields.forEach(a=>{if(a.name=="doc")i.doc=Gs.fromJSON(e.schema,n.doc);else if(a.name=="selection")i.selection=ze.fromJSON(i.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let u=r[c],f=u.spec.state;if(u.key==a.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){i[a.name]=f.fromJSON.call(u,e,n[c],i);return}}i[a.name]=a.init(e,i)}}),i}}function ZC(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=ZC(s,e,{})),n[r]=s}return n}class it{constructor(e){this.spec=e,this.props={},e.props&&ZC(e.props,this,this.props),this.key=e.key?e.key.key:eN("plugin")}getState(e){return e[this.key]}}const gm=Object.create(null);function eN(t){return t in gm?t+"$"+ ++gm[t]:(gm[t]=0,t+"$")}class Et{constructor(e="key"){this.key=eN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const e0=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function tN(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const nN=(t,e,n)=>{let r=tN(t,n);if(!r)return!1;let s=t0(r);if(!s){let a=r.blockRange(),c=a&&ba(a);return c==null?!1:(e&&e(t.tr.lift(a,c).scrollIntoView()),!0)}let i=s.nodeBefore;if(dN(t,s,e,-1))return!0;if(r.parent.content.size==0&&(ua(i,"end")||Ee.isSelectable(i)))for(let a=r.depth;;a--){let c=Rf(t.doc,r.before(a),r.after(a),ue.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=t.tr.step(c);u.setSelection(ua(i,"end")?ze.findFrom(u.doc.resolve(u.mapping.map(s.pos,-1)),-1):Ee.create(u.doc,s.pos-i.nodeSize)),e(u.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},bO=(t,e,n)=>{let r=tN(t,n);if(!r)return!1;let s=t0(r);return s?rN(t,s,e):!1},kO=(t,e,n)=>{let r=iN(t,n);if(!r)return!1;let s=n0(r);return s?rN(t,s,e):!1};function rN(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let h=s.lastChild;if(!h)return!1;s=h}let a=e.nodeAfter,c=a,u=e.pos+1;for(;!c.isTextblock;u++){if(c.type.spec.isolating)return!1;let h=c.firstChild;if(!h)return!1;c=h}let f=Rf(t.doc,i,u,ue.empty);if(!f||f.from!=i||f instanceof Dt&&f.slice.size>=u-i)return!1;if(n){let h=t.tr.step(f);h.setSelection(De.create(h.doc,i)),n(h.scrollIntoView())}return!0}function ua(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const sN=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=t0(r)}let a=i&&i.nodeBefore;return!a||!Ee.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ee.create(t.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)};function t0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function iN(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const oN=(t,e,n)=>{let r=iN(t,n);if(!r)return!1;let s=n0(r);if(!s)return!1;let i=s.nodeAfter;if(dN(t,s,e,1))return!0;if(r.parent.content.size==0&&(ua(i,"start")||Ee.isSelectable(i))){let a=Rf(t.doc,r.before(),r.after(),ue.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=t.tr.step(a);c.setSelection(ua(i,"start")?ze.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):Ee.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},aN=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=n0(r)}let a=i&&i.nodeAfter;return!a||!Ee.isSelectable(a)?!1:(e&&e(t.tr.setSelection(Ee.create(t.doc,i.pos)).scrollIntoView()),!0)};function n0(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const SO=(t,e)=>{let n=t.selection,r=n instanceof Ee,s;if(r){if(n.node.isTextblock||!ii(t.doc,n.from))return!1;s=n.from}else if(s=jf(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(Ee.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},CO=(t,e)=>{let n=t.selection,r;if(n instanceof Ee){if(n.node.isTextblock||!ii(t.doc,n.to))return!1;r=n.to}else if(r=jf(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},NO=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&ba(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},lN=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function r0(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const EO=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),a=r0(s.contentMatchAt(i));if(!a||!s.canReplaceWith(i,i,a))return!1;if(e){let c=n.after(),u=t.tr.replaceWith(c,c,a.createAndFill());u.setSelection(ze.near(u.doc.resolve(c),1)),e(u.scrollIntoView())}return!0},cN=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Tn||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=r0(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,c=t.tr.insert(a,i.createAndFill());c.setSelection(De.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},uN=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(Zr(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&ba(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function MO(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof Ee&&e.selection.node.isBlock)return!r.parentOffset||!Zr(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],a,c,u=!1,f=!1;for(let y=r.depth;;y--)if(r.node(y).isBlock){u=r.end(y)==r.pos+(r.depth-y),f=r.start(y)==r.pos-(r.depth-y),c=r0(r.node(y-1).contentMatchAt(r.indexAfter(y-1))),i.unshift(u&&c?{type:c}:null),a=y;break}else{if(y==1)return!1;i.unshift(null)}let h=e.tr;(e.selection instanceof De||e.selection instanceof Tn)&&h.deleteSelection();let m=h.mapping.map(r.pos),x=Zr(h.doc,m,i.length,i);if(x||(i[0]=c?{type:c}:null,x=Zr(h.doc,m,i.length,i)),!x)return!1;if(h.split(m,i.length,i),!u&&f&&r.node(a).type!=c){let y=h.mapping.map(r.before(a)),w=h.doc.resolve(y);c&&r.node(a-1).canReplaceWith(w.index(),w.index()+1,c)&&h.setNodeMarkup(h.mapping.map(r.before(a)),c)}return n&&n(h.scrollIntoView()),!0}}const TO=MO(),AO=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(Ee.create(t.doc,s))),!0)};function jO(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||ii(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function dN(t,e,n,r){let s=e.nodeBefore,i=e.nodeAfter,a,c,u=s.type.spec.isolating||i.type.spec.isolating;if(!u&&jO(t,e,n))return!0;let f=!u&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(a=(c=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&c.matchType(a[0]||i.type).validEnd){if(n){let y=e.pos+i.nodeSize,w=Z.empty;for(let C=a.length-1;C>=0;C--)w=Z.from(a[C].create(null,w));w=Z.from(s.copy(w));let k=t.tr.step(new Ot(e.pos-1,y,e.pos,y,new ue(w,1,0),a.length,!0)),S=k.doc.resolve(y+2*a.length);S.nodeAfter&&S.nodeAfter.type==s.type&&ii(k.doc,S.pos)&&k.join(S.pos),n(k.scrollIntoView())}return!0}let h=i.type.spec.isolating||r>0&&u?null:ze.findFrom(e,1),m=h&&h.$from.blockRange(h.$to),x=m&&ba(m);if(x!=null&&x>=e.depth)return n&&n(t.tr.lift(m,x).scrollIntoView()),!0;if(f&&ua(i,"start",!0)&&ua(s,"end")){let y=s,w=[];for(;w.push(y),!y.isTextblock;)y=y.lastChild;let k=i,S=1;for(;!k.isTextblock;k=k.firstChild)S++;if(y.canReplace(y.childCount,y.childCount,k.content)){if(n){let C=Z.empty;for(let A=w.length-1;A>=0;A--)C=Z.from(w[A].copy(C));let M=t.tr.step(new Ot(e.pos-w.length,e.pos+i.nodeSize,e.pos+S,e.pos+i.nodeSize-S,new ue(C,w.length,0),0,!0));n(M.scrollIntoView())}return!0}}return!1}function fN(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(De.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const RO=fN(-1),PO=fN(1);function DO(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i),c=a&&Qx(a,t,e);return c?(r&&r(n.tr.wrap(a,c).scrollIntoView()),!0):!1}}function Tb(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[i];n.doc.nodesBetween(a,c,(u,f)=>{if(s)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)s=!0;else{let h=n.doc.resolve(f),m=h.index();s=h.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:u}}=n.selection.ranges[a];i.setBlockType(c,u,t,e)}r(i.scrollIntoView())}return!0}}function s0(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}s0(e0,nN,sN);s0(e0,oN,aN);s0(lN,cN,uN,TO);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function IO(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,a=s.blockRange(i);if(!a)return!1;let c=r?n.tr:null;return OO(c,a,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function OO(t,e,n,r=null){let s=!1,i=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let u=a.resolve(e.start-2);i=new jd(u,u,e.depth),e.endIndex<e.parent.childCount&&(e=new jd(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=Qx(i,n,r,e);return c?(t&&LO(t,e,c,s,n),!0):!1}function LO(t,e,n,r,s){let i=Z.empty;for(let h=n.length-1;h>=0;h--)i=Z.from(n[h].type.create(n[h].attrs,i));t.step(new Ot(e.start-(r?2:0),e.end,e.start,e.end,new ue(i,0,0),n.length,!0));let a=0;for(let h=0;h<n.length;h++)n[h].type==s&&(a=h+1);let c=n.length-a,u=e.start+n.length-(r?2:0),f=e.parent;for(let h=e.startIndex,m=e.endIndex,x=!0;h<m;h++,x=!1)!x&&Zr(t.doc,u,c)&&(t.split(u,c),u+=2*c),u+=f.child(h).nodeSize;return t}function _O(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?zO(e,n,t,i):FO(e,n,i):!0:!1}}function zO(t,e,n,r){let s=t.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(s.step(new Ot(i-1,a,i,a,new ue(Z.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new jd(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const c=ba(r);if(c==null)return!1;s.lift(r,c);let u=s.doc.resolve(s.mapping.map(i,-1)-1);return ii(s.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&s.join(u.pos),e(s.scrollIntoView()),!0}function FO(t,e,n){let r=t.tr,s=n.parent;for(let y=n.end,w=n.endIndex-1,k=n.startIndex;w>k;w--)y-=s.child(w).nodeSize,r.delete(y-1,y+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,u=n.endIndex==s.childCount,f=i.node(-1),h=i.index(-1);if(!f.canReplace(h+(c?0:1),h+1,a.content.append(u?Z.empty:Z.from(s))))return!1;let m=i.pos,x=m+a.nodeSize;return r.step(new Ot(m-(c?1:0),x+(u?1:0),m+1,x-1,new ue((c?Z.empty:Z.from(s.copy(Z.empty))).append(u?Z.empty:Z.from(s.copy(Z.empty))),c?0:1,u?0:1),c?0:1)),e(r.scrollIntoView()),!0}function BO(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,f=>f.childCount>0&&f.firstChild.type==t);if(!i)return!1;let a=i.startIndex;if(a==0)return!1;let c=i.parent,u=c.child(a-1);if(u.type!=t)return!1;if(n){let f=u.lastChild&&u.lastChild.type==c.type,h=Z.from(f?t.create():null),m=new ue(Z.from(t.create(null,Z.from(c.type.create(null,h)))),f?3:1,0),x=i.start,y=i.end;n(e.tr.step(new Ot(x-(f?3:1),y,x,y,m,1,!0)).scrollIntoView())}return!0}}const Vt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},da=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Pg=null;const Jr=function(t,e,n){let r=Pg||(Pg=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},VO=function(){Pg=null},no=function(t,e,n,r){return n&&(Ab(t,e,n,r,-1)||Ab(t,e,n,r,1))},$O=/^(img|br|input|textarea|hr)$/i;function Ab(t,e,n,r,s){for(var i;;){if(t==n&&e==r)return!0;if(e==(s<0?0:Hn(t))){let a=t.parentNode;if(!a||a.nodeType!=1||uc(t)||$O.test(t.nodeName)||t.contentEditable=="false")return!1;e=Vt(t)+(s<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((i=a.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=a,e=s<0?Hn(t):0}else return!1}}function Hn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function HO(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Hn(t)}else if(t.parentNode&&!uc(t))e=Vt(t),t=t.parentNode;else return null}}function WO(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!uc(t))e=Vt(t)+1,t=t.parentNode;else return null}}function UO(t,e,n){for(let r=e==0,s=e==Hn(t);r||s;){if(t==n)return!0;let i=Vt(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==Hn(t)}}function uc(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Df=function(t){return t.focusNode&&no(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Vi(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function KO(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function GO(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Hn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Hn(r.startContainer),r.startOffset)}}}const Mr=typeof navigator<"u"?navigator:null,jb=typeof document<"u"?document:null,oi=Mr&&Mr.userAgent||"",Dg=/Edge\/(\d+)/.exec(oi),pN=/MSIE \d/.exec(oi),Ig=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(oi),vn=!!(pN||Ig||Dg),Ys=pN?document.documentMode:Ig?+Ig[1]:Dg?+Dg[1]:0,Kn=!vn&&/gecko\/(\d+)/i.test(oi);Kn&&+(/Firefox\/(\d+)/.exec(oi)||[0,0])[1];const Og=!vn&&/Chrome\/(\d+)/.exec(oi),It=!!Og,hN=Og?+Og[1]:0,Xt=!vn&&!!Mr&&/Apple Computer/.test(Mr.vendor),fa=Xt&&(/Mobile\/\w+/.test(oi)||!!Mr&&Mr.maxTouchPoints>2),$n=fa||(Mr?/Mac/.test(Mr.platform):!1),mN=Mr?/Win/.test(Mr.platform):!1,Xr=/Android \d/.test(oi),dc=!!jb&&"webkitFontSmoothing"in jb.documentElement.style,qO=dc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function YO(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Wr(t,e){return typeof t=="number"?t:t[e]}function JO(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Rb(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=da(a);continue}let c=a,u=c==i.body,f=u?YO(i):JO(c),h=0,m=0;if(e.top<f.top+Wr(r,"top")?m=-(f.top-e.top+Wr(s,"top")):e.bottom>f.bottom-Wr(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+Wr(s,"top")-f.top:e.bottom-f.bottom+Wr(s,"bottom")),e.left<f.left+Wr(r,"left")?h=-(f.left-e.left+Wr(s,"left")):e.right>f.right-Wr(r,"right")&&(h=e.right-f.right+Wr(s,"right")),h||m)if(u)i.defaultView.scrollBy(h,m);else{let y=c.scrollLeft,w=c.scrollTop;m&&(c.scrollTop+=m),h&&(c.scrollLeft+=h);let k=c.scrollLeft-y,S=c.scrollTop-w;e={left:e.left-k,top:e.top-S,right:e.right-k,bottom:e.bottom-S}}let x=u?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(x))break;a=x=="absolute"?a.offsetParent:da(a)}}function XO(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=t.root.elementFromPoint(i,a);if(!c||c==t.dom||!t.dom.contains(c))continue;let u=c.getBoundingClientRect();if(u.top>=n-20){r=c,s=u.top;break}}return{refDOM:r,refTop:s,stack:gN(t.dom)}}function gN(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=da(r));return e}function QO({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;xN(n,r==0?0:r-e)}function xN(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let zo=null;function ZO(t){if(t.setActive)return t.setActive();if(zo)return t.focus(zo);let e=gN(t);t.focus(zo==null?{get preventScroll(){return zo={preventScroll:!0},!0}}:void 0),zo||(zo=!1,xN(e,0))}function yN(t,e){let n,r=2e8,s,i=0,a=e.top,c=e.top,u,f;for(let h=t.firstChild,m=0;h;h=h.nextSibling,m++){let x;if(h.nodeType==1)x=h.getClientRects();else if(h.nodeType==3)x=Jr(h).getClientRects();else continue;for(let y=0;y<x.length;y++){let w=x[y];if(w.top<=a&&w.bottom>=c){a=Math.max(w.bottom,a),c=Math.min(w.top,c);let k=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(k<r){n=h,r=k,s=k&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,h.nodeType==1&&k&&(i=m+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!u&&w.left<=e.left&&w.right>=e.left&&(u=h,f={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(i=m+1)}}return!n&&u&&(n=u,s=f,r=0),n&&n.nodeType==3?e6(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:yN(n,s)}function e6(t,e){let n=t.nodeValue.length,r=document.createRange(),s;for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let a=Os(r,1);if(a.top!=a.bottom&&i0(e,a)){s={node:t,offset:i+(e.left>=(a.left+a.right)/2?1:0)};break}}return r.detach(),s||{node:t,offset:0}}function i0(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function t6(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function n6(t,e,n){let{node:r,offset:s}=yN(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();i=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function r6(t,e,n,r){let s=-1;for(let i=e,a=!1;i!=t.dom;){let c=t.docView.nearestDesc(i,!0),u;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((u=c.dom.getBoundingClientRect()).width||u.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!a&&u.left>r.left||u.top>r.top?s=c.posBefore:(!a&&u.right<r.left||u.bottom<r.top)&&(s=c.posAfter),a=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?r.top<(u.top+u.bottom)/2:r.left<(u.left+u.right)/2)?c.posBefore:c.posAfter;i=c.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function vN(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let a=t.childNodes[i];if(a.nodeType==1){let c=a.getClientRects();for(let u=0;u<c.length;u++){let f=c[u];if(i0(e,f))return vN(a,e,f)}}if((i=(i+1)%r)==s)break}return t}function s6(t,e){let n=t.dom.ownerDocument,r,s=0,i=GO(n,e.left,e.top);i&&({node:r,offset:s}=i);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let f=t.dom.getBoundingClientRect();if(!i0(e,f)||(a=vN(t.dom,e,f),!a))return null}if(Xt)for(let f=a;r&&f;f=da(f))f.draggable&&(r=void 0);if(a=t6(a,e),r){if(Kn&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let h=r.childNodes[s],m;h.nodeName=="IMG"&&(m=h.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let f;dc&&s&&r.nodeType==1&&(f=r.childNodes[s-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(c=r6(t,r,s,e))}c==null&&(c=n6(t,a,e));let u=t.docView.nearestDesc(a,!0);return{pos:c,inside:u?u.posAtStart-u.border:-1}}function Pb(t){return t.top<t.bottom||t.left<t.right}function Os(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Pb(r))return r}return Array.prototype.find.call(n,Pb)||t.getBoundingClientRect()}const i6=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function wN(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),a=dc||Kn;if(r.nodeType==3)if(a&&(i6.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let u=Os(Jr(r,s,s),n);if(Kn&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let f=Os(Jr(r,s-1,s-1),-1);if(f.top==u.top){let h=Os(Jr(r,s,s+1),-1);if(h.top!=u.top)return fl(h,h.left<f.left)}}return u}else{let u=s,f=s,h=n<0?1:-1;return n<0&&!s?(f++,h=-1):n>=0&&s==r.nodeValue.length?(u--,h=1):n<0?u--:f++,fl(Os(Jr(r,u,f),h),h<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==Hn(r))){let u=r.childNodes[s-1];if(u.nodeType==1)return xm(u.getBoundingClientRect(),!1)}if(i==null&&s<Hn(r)){let u=r.childNodes[s];if(u.nodeType==1)return xm(u.getBoundingClientRect(),!0)}return xm(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==Hn(r))){let u=r.childNodes[s-1],f=u.nodeType==3?Jr(u,Hn(u)-(a?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(f)return fl(Os(f,1),!1)}if(i==null&&s<Hn(r)){let u=r.childNodes[s];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let f=u?u.nodeType==3?Jr(u,0,a?0:1):u.nodeType==1?u:null:null;if(f)return fl(Os(f,-1),!0)}return fl(Os(r.nodeType==3?Jr(r):r,-n),n>=0)}function fl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function xm(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function bN(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function o6(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return bN(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(i,!0);if(!c)break;if(c.node.isBlock){i=c.contentDOM||c.dom;break}i=c.dom.parentNode}let a=wN(t,s.pos,1);for(let c=i.firstChild;c;c=c.nextSibling){let u;if(c.nodeType==1)u=c.getClientRects();else if(c.nodeType==3)u=Jr(c,0,c.nodeValue.length).getClientRects();else continue;for(let f=0;f<u.length;f++){let h=u[f];if(h.bottom>h.top+1&&(n=="up"?a.top-h.top>(h.bottom-a.top)*2:h.bottom-a.bottom>(a.bottom-h.top)*2))return!1}}return!0})}const a6=/[\u0590-\u08ac]/;function l6(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,a=s==r.parent.content.size,c=t.domSelection();return c?!a6.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?i:a:bN(t,e,()=>{let{focusNode:u,focusOffset:f,anchorNode:h,anchorOffset:m}=t.domSelectionRange(),x=c.caretBidiLevel;c.modify("move",n,"character");let y=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:k}=t.domSelectionRange(),S=w&&!y.contains(w.nodeType==1?w:w.parentNode)||u==w&&f==k;try{c.collapse(h,m),u&&(u!=h||f!=m)&&c.extend&&c.extend(u,f)}catch{}return x!=null&&(c.caretBidiLevel=x),S}):r.pos==r.start()||r.pos==r.end()}let Db=null,Ib=null,Ob=!1;function c6(t,e,n){return Db==e&&Ib==n?Ob:(Db=e,Ib=n,Ob=n=="up"||n=="down"?o6(t,e,n):l6(t,e,n))}const Gn=0,Lb=1,Wi=2,Tr=3;class fc{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=Gn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,a;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(a)+a.size:this.posAtStart}else{let i,a;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Vt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),a;if(i&&(!n||i.node))if(r&&(a=i.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let c=s.children[a];if(c.size){s=c;break}}return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let a=this.children[r],c=i+a.size;if(c>e||a instanceof SN){s=e-i;break}i=c}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof kN&&i.side>=0;r--);if(n<=0){let i,a=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,a=!1);return i&&n&&a&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Vt(i.dom)+1:0}}else{let i,a=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,a=!1);return i&&a&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Vt(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let a=r,c=0;;c++){let u=this.children[c],f=a+u.size;if(s==-1&&e<=f){let h=a+u.border;if(e>=h&&n<=f-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,h);e=a;for(let m=c;m>0;m--){let x=this.children[m-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){s=Vt(x.dom)+1;break}e-=x.size}s==-1&&(s=0)}if(s>-1&&(f>n||c==this.children.length-1)){n=f;for(let h=c+1;h<this.children.length;h++){let m=this.children[h];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=Vt(m.dom);break}n+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}a=f}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),a=Math.max(e,n);for(let y=0,w=0;y<this.children.length;y++){let k=this.children[y],S=w+k.size;if(i>w&&a<S)return k.setSelection(e-w-k.border,n-w-k.border,r,s);w=S}let c=this.domFromPos(e,e?-1:1),u=n==e?c:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),h=r.domSelectionRange(),m=!1;if((Kn||Xt)&&e==n){let{node:y,offset:w}=c;if(y.nodeType==3){if(m=!!(w&&y.nodeValue[w-1]==`
`),m&&w==y.nodeValue.length)for(let k=y,S;k;k=k.parentNode){if(S=k.nextSibling){S.nodeName=="BR"&&(c=u={node:S.parentNode,offset:Vt(S)+1});break}let C=k.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let k=y.childNodes[w-1];m=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(Kn&&h.focusNode&&h.focusNode!=u.node&&h.focusNode.nodeType==1){let y=h.focusNode.childNodes[h.focusOffset];y&&y.contentEditable=="false"&&(s=!0)}if(!(s||m&&Xt)&&no(c.node,c.offset,h.anchorNode,h.anchorOffset)&&no(u.node,u.offset,h.focusNode,h.focusOffset))return;let x=!1;if((f.extend||e==n)&&!(m&&Kn)){f.collapse(c.node,c.offset);try{e!=n&&f.extend(u.node,u.offset),x=!0}catch{}}if(!x){if(e>n){let w=c;c=u,u=w}let y=document.createRange();y.setEnd(u.node,u.offset),y.setStart(c.node,c.offset),f.removeAllRanges(),f.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],a=r+i.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let c=r+i.border,u=a-i.border;if(e>=c&&n<=u){this.dirty=e==r||n==a?Wi:Lb,e==c&&n==u&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Tr:i.markDirty(e-c,n-c);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Wi:Tr}r=a}this.dirty=Wi}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Wi:Lb;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class kN extends fc{constructor(e,n,r,s){let i,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Gn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class u6 extends fc{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ro extends fc{constructor(e,n,r,s,i){super(e,[],r,s),this.mark=n,this.spec=i}static create(e,n,r,s){let i=s.nodeViews[n.type.name],a=i&&i(n,s,r);return(!a||!a.dom)&&(a=lo.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new ro(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Tr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Tr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Gn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Gn}}slice(e,n,r){let s=ro.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=_g(i,n,a,r)),e>0&&(i=_g(i,0,e,r));for(let c=0;c<i.length;c++)i[c].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Js extends fc{constructor(e,n,r,s,i,a,c,u,f){super(e,[],i,a),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=c}static create(e,n,r,s,i,a){let c=i.nodeViews[n.type.name],u,f=c&&c(n,i,()=>{if(!u)return a;if(u.parent)return u.parent.posBeforeChild(u)},r,s),h=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!h)h=document.createTextNode(n.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:m}=lo.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),n.type.spec.draggable&&(h.draggable=!0));let x=h;return h=EN(h,r,n),f?u=new d6(e,n,r,s,h,m||null,x,f,i,a+1):n.isText?new If(e,n,r,s,h,x,i):new Js(e,n,r,s,h,m||null,x,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Z.empty)}return e}matchesNode(e,n,r){return this.dirty==Gn&&e.eq(this.node)&&Pd(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,a=i&&i.pos>-1?i:null,c=i&&i.pos<0,u=new p6(this,a&&a.node,e);g6(this.node,this.innerDeco,(f,h,m)=>{f.spec.marks?u.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&u.syncToMarks(h==this.node.childCount?Ge.none:this.node.child(h).marks,r,e),u.placeWidget(f,e,s)},(f,h,m,x)=>{u.syncToMarks(f.marks,r,e);let y;u.findNodeMatch(f,h,m,x)||c&&e.state.selection.from>s&&e.state.selection.to<s+f.nodeSize&&(y=u.findIndexWithChild(i.node))>-1&&u.updateNodeAt(f,h,m,y,e)||u.updateNextNode(f,h,m,e,x,s)||u.addNode(f,h,m,e,s),s+=f.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Wi)&&(a&&this.protectLocalComposition(e,a),CN(this.contentDOM,this.children,e),fa&&x6(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof De)||r<n||s>n+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,c=y6(this.node.content,a,r-n,s-n);return c<0?null:{node:i,pos:c,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let a=new u6(this,i,n,s);e.input.compositionNodes.push(a),this.children=_g(this.children,r,r+s.length,e,a)}update(e,n,r,s){return this.dirty==Tr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Gn}updateOuterDeco(e){if(Pd(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=NN(this.dom,this.nodeDOM,Lg(this.outerDeco,this.node,n),Lg(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function _b(t,e,n,r,s){EN(r,e,t);let i=new Js(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class If extends Js{constructor(e,n,r,s,i,a,c){super(e,n,r,s,i,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==Tr||this.dirty!=Gn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Gn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Gn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new If(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Tr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class SN extends fc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Gn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class d6 extends Js{constructor(e,n,r,s,i,a,c,u,f,h){super(e,n,r,s,i,a,c,f,h),this.spec=u}update(e,n,r,s){if(this.dirty==Tr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function CN(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let a=e[i],c=a.dom;if(c.parentNode==t){for(;c!=r;)r=zb(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(c,r);if(a instanceof ro){let u=r?r.previousSibling:t.lastChild;CN(a.contentDOM,a.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=zb(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Rl=function(t){t&&(this.nodeName=t)};Rl.prototype=Object.create(null);const Ui=[new Rl];function Lg(t,e,n){if(t.length==0)return Ui;let r=n?Ui[0]:new Rl,s=[r];for(let i=0;i<t.length;i++){let a=t[i].type.attrs;if(a){a.nodeName&&s.push(r=new Rl(a.nodeName));for(let c in a){let u=a[c];u!=null&&(n&&s.length==1&&s.push(r=new Rl(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+u:c=="style"?r.style=(r.style?r.style+";":"")+u:c!="nodeName"&&(r[c]=u))}}}return s}function NN(t,e,n,r){if(n==Ui&&r==Ui)return e;let s=e;for(let i=0;i<r.length;i++){let a=r[i],c=n[i];if(i){let u;c&&c.nodeName==a.nodeName&&s!=t&&(u=s.parentNode)&&u.nodeName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(s),c=Ui[0]),s=u}f6(s,c||Ui[0],a)}return s}function f6(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function EN(t,e,n){return NN(t,t,Ui,Lg(e,n,t.nodeType!=1))}function Pd(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function zb(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class p6{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=h6(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,a=Math.min(i,e.length);for(;s<a&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=Gn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let f=this.top.children[u];if(f.matchesMark(e[i])&&!this.isLocked(f.dom)){c=u;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let u=ro.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))i=this.top.children.indexOf(a,this.index);else for(let c=this.index,u=Math.min(this.top.children.length,c+5);c<u;c++){let f=this.top.children[c];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){i=c;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let a=this.top.children[s];return a.dirty==Tr&&a.dom==a.contentDOM&&(a.dirty=Wi),a.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,a){for(let c=this.index;c<this.top.children.length;c++){let u=this.top.children[c];if(u instanceof Js){let f=this.preMatch.matched.get(u);if(f!=null&&f!=i)return!1;let h=u.dom,m,x=this.isLocked(h)&&!(e.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==e.text&&u.dirty!=Tr&&Pd(n,u.outerDeco));if(!x&&u.update(e,n,r,s))return this.destroyBetween(this.index,c),u.dom!=h&&(this.changed=!0),this.index++,!0;if(!x&&(m=this.recreateWrapper(u,e,n,r,s,a)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Wi,m.updateChildren(s,a+1),m.dirty=Gn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Pd(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=Js.create(this.top,n,r,s,i,a);if(c.contentDOM){c.children=e.children,e.children=[];for(let u of c.children)u.parent=c}return e.destroy(),c}addNode(e,n,r,s,i){let a=Js.create(this.top,e,n,r,s,i);a.contentDOM&&a.updateChildren(s,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new kN(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ro;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof If)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Xt||It)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new SN(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function h6(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,a=[];e:for(;s>0;){let c;for(;;)if(r){let f=n.children[r-1];if(f instanceof ro)n=f,r=f.children.length;else{c=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=c.node;if(u){if(u!=t.child(s-1))break;--s,i.set(c,s),a.push(c)}}return{index:s,matched:i,matches:a.reverse()}}function m6(t,e){return t.type.side-e.type.side}function g6(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let f=0;f<t.childCount;f++){let h=t.child(f);r(h,s,e.forChild(i,h),f),i+=h.nodeSize}return}let a=0,c=[],u=null;for(let f=0;;){let h,m;for(;a<s.length&&s[a].to==i;){let S=s[a++];S.widget&&(h?(m||(m=[h])).push(S):h=S)}if(h)if(m){m.sort(m6);for(let S=0;S<m.length;S++)n(m[S],f,!!u)}else n(h,f,!!u);let x,y;if(u)y=-1,x=u,u=null;else if(f<t.childCount)y=f,x=t.child(f++);else break;for(let S=0;S<c.length;S++)c[S].to<=i&&c.splice(S--,1);for(;a<s.length&&s[a].from<=i&&s[a].to>i;)c.push(s[a++]);let w=i+x.nodeSize;if(x.isText){let S=w;a<s.length&&s[a].from<S&&(S=s[a].from);for(let C=0;C<c.length;C++)c[C].to<S&&(S=c[C].to);S<w&&(u=x.cut(S-i),x=x.cut(0,S-i),w=S,y=-1)}else for(;a<s.length&&s[a].to<w;)a++;let k=x.isInline&&!x.isLeaf?c.filter(S=>!S.inline):c.slice();r(x,k,e.forChild(i,x),y),i=w}}function x6(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function y6(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let a=t.child(s++),c=i;if(i+=a.nodeSize,!a.isText)continue;let u=a.text;for(;s<t.childCount;){let f=t.child(s++);if(i+=f.nodeSize,!f.isText)break;u+=f.text}if(i>=n){if(i>=r&&u.slice(r-e.length-c,r-c)==e)return r-e.length;let f=c<r?u.lastIndexOf(e,r-c-1):-1;if(f>=0&&f+e.length+c>=n)return c+f;if(n==r&&u.length>=r+e.length-c&&u.slice(r-c,r-c+e.length)==e)return r}}return-1}function _g(t,e,n,r,s){let i=[];for(let a=0,c=0;a<t.length;a++){let u=t[a],f=c,h=c+=u.size;f>=n||h<=e?i.push(u):(f<e&&i.push(u.slice(0,e-f,r)),s&&(i.push(s),s=void 0),h>n&&i.push(u.slice(n-f,u.size,r)))}return i}function o0(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let c=r.resolve(a),u,f;if(Df(n)){for(u=a;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&Ee.isSelectable(m)&&s.parent&&!(m.isInline&&UO(n.focusNode,n.focusOffset,s.dom))){let x=s.posBefore;f=new Ee(a==x?c:r.resolve(x))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=a,x=a;for(let y=0;y<n.rangeCount;y++){let w=n.getRangeAt(y);m=Math.min(m,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),x=Math.max(x,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(m<0)return null;[u,a]=x==t.state.selection.anchor?[x,m]:[m,x],c=r.resolve(a)}else u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let h=r.resolve(u);if(!f){let m=e=="pointer"||t.state.selection.head<c.pos&&!i?1:-1;f=a0(t,h,c,m)}return f}function MN(t){return t.editable?t.hasFocus():AN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function es(t,e=!1){let n=t.state.selection;if(TN(t,n),!!MN(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&It){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&no(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)w6(t);else{let{anchor:r,head:s}=n,i,a;Fb&&!(n instanceof De)&&(n.$from.parent.inlineContent||(i=Bb(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=Bb(t,n.to))),t.docView.setSelection(r,s,t,e),Fb&&(i&&Vb(i),a&&Vb(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&v6(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Fb=Xt||It&&hN<63;function Bb(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Xt&&s&&s.contentEditable=="false")return ym(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return ym(s);if(i)return ym(i)}}function ym(t){return t.contentEditable="true",Xt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Vb(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function v6(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!MN(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function w6(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Vt(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&vn&&Ys<=11&&(n.disabled=!0,n.disabled=!1)}function TN(t,e){if(e instanceof Ee){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&($b(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else $b(t)}function $b(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function a0(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||De.between(e,n,r)}function Hb(t){return t.editable&&!t.hasFocus()?!1:AN(t)}function AN(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function b6(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return no(e.node,e.offset,n.anchorNode,n.anchorOffset)}function zg(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&ze.findFrom(i,e)}function _s(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Wb(t,e,n){let r=t.state.selection;if(r instanceof De)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return _s(t,new De(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=zg(t.state,e);return s&&s instanceof Ee?_s(t,s):!1}else if(!($n&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!i||i.isText)return!1;let c=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(a=t.docView.descAt(c))&&!a.contentDOM?Ee.isSelectable(i)?_s(t,new Ee(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):dc?_s(t,new De(t.state.doc.resolve(e<0?c:c+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Ee&&r.node.isInline)return _s(t,new De(e>0?r.$to:r.$from));{let s=zg(t.state,e);return s?_s(t,s):!1}}}function Dd(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Pl(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Fo(t,e){return e<0?k6(t):S6(t)}function k6(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,a=!1;for(Kn&&n.nodeType==1&&r<Dd(n)&&Pl(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(Pl(c,-1))s=n,i=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(jN(n))break;{let c=n.previousSibling;for(;c&&Pl(c,-1);)s=n.parentNode,i=Vt(c),c=c.previousSibling;if(c)n=c,r=Dd(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?Fg(t,n,r):s&&Fg(t,s,i)}function S6(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Dd(n),i,a;for(;;)if(r<s){if(n.nodeType!=1)break;let c=n.childNodes[r];if(Pl(c,1))i=n,a=++r;else break}else{if(jN(n))break;{let c=n.nextSibling;for(;c&&Pl(c,1);)i=c.parentNode,a=Vt(c)+1,c=c.nextSibling;if(c)n=c,r=0,s=Dd(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&Fg(t,i,a)}function jN(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function C6(t,e){for(;t&&e==t.childNodes.length&&!uc(t);)e=Vt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function N6(t,e){for(;t&&!e&&!uc(t);)e=Vt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Fg(t,e,n){if(e.nodeType!=3){let i,a;(a=C6(e,n))?(e=a,n=0):(i=N6(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Df(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&es(t)},50)}function Ub(t,e){let n=t.state.doc.resolve(e);if(!(It||mN)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let i=t.coordsAtPos(e-1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<n.end()){let i=t.coordsAtPos(e+1),a=(i.top+i.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Kb(t,e,n){let r=t.state.selection;if(r instanceof De&&!r.empty||n.indexOf("s")>-1||$n&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=zg(t.state,e);if(a&&a instanceof Ee)return _s(t,a)}if(!s.parent.inlineContent){let a=e<0?s:i,c=r instanceof Tn?ze.near(a,e):ze.findFrom(a,e);return c?_s(t,c):!1}return!1}function Gb(t,e){if(!(t.state.selection instanceof De))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let a=t.state.tr;return e<0?a.delete(n.pos-i.nodeSize,n.pos):a.delete(n.pos,n.pos+i.nodeSize),t.dispatch(a),!0}return!1}function qb(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function E6(t){if(!Xt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;qb(t,r,"true"),setTimeout(()=>qb(t,r,"false"),20)}return!1}function M6(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function T6(t,e){let n=e.keyCode,r=M6(e);if(n==8||$n&&n==72&&r=="c")return Gb(t,-1)||Fo(t,-1);if(n==46&&!e.shiftKey||$n&&n==68&&r=="c")return Gb(t,1)||Fo(t,1);if(n==13||n==27)return!0;if(n==37||$n&&n==66&&r=="c"){let s=n==37?Ub(t,t.state.selection.from)=="ltr"?-1:1:-1;return Wb(t,s,r)||Fo(t,s)}else if(n==39||$n&&n==70&&r=="c"){let s=n==39?Ub(t,t.state.selection.from)=="ltr"?1:-1:1;return Wb(t,s,r)||Fo(t,s)}else{if(n==38||$n&&n==80&&r=="c")return Kb(t,-1,r)||Fo(t,-1);if(n==40||$n&&n==78&&r=="c")return E6(t)||Kb(t,1,r)||Fo(t,1);if(r==($n?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function l0(t,e){t.someProp("transformCopied",y=>{e=y(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let y=r.firstChild;n.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let a=t.someProp("clipboardSerializer")||lo.fromSchema(t.state.schema),c=LN(),u=c.createElement("div");u.appendChild(a.serializeFragment(r,{document:c}));let f=u.firstChild,h,m=0;for(;f&&f.nodeType==1&&(h=ON[f.nodeName.toLowerCase()]);){for(let y=h.length-1;y>=0;y--){let w=c.createElement(h[y]);for(;u.firstChild;)w.appendChild(u.firstChild);u.appendChild(w),m++}f=u.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${s} ${i}${m?` -${m}`:""} ${JSON.stringify(n)}`);let x=t.someProp("clipboardTextSerializer",y=>y(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:x,slice:e}}function RN(t,e,n,r,s){let i=s.parent.type.spec.code,a,c;if(!n&&!e)return null;let u=!!e&&(r||i||!n);if(u){if(t.someProp("transformPastedText",x=>{e=x(e,i||r,t)}),i)return c=new ue(Z.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",x=>{c=x(c,t,!0)}),c;let m=t.someProp("clipboardTextParser",x=>x(e,s,r,t));if(m)c=m;else{let x=s.marks(),{schema:y}=t.state,w=lo.fromSchema(y);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let S=a.appendChild(document.createElement("p"));k&&S.appendChild(w.serializeNode(y.text(k,x)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),a=P6(n),dc&&D6(a);let f=a&&a.querySelector("[data-pm-slice]"),h=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let m=+h[3];m>0;m--){let x=a.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;a=x}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||qs.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||h),context:s,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!A6.test(x.parentNode.nodeName)?{ignore:!0}:null}})),h)c=I6(Yb(c,+h[1],+h[2]),h[4]);else if(c=ue.maxOpen(j6(c.content,s),!0),c.openStart||c.openEnd){let m=0,x=0;for(let y=c.content.firstChild;m<c.openStart&&!y.type.spec.isolating;m++,y=y.firstChild);for(let y=c.content.lastChild;x<c.openEnd&&!y.type.spec.isolating;x++,y=y.lastChild);c=Yb(c,m,x)}return t.someProp("transformPasted",m=>{c=m(c,t,u)}),c}const A6=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function j6(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),i,a=[];if(t.forEach(c=>{if(!a)return;let u=s.findWrapping(c.type),f;if(!u)return a=null;if(f=a.length&&i.length&&DN(u,i,c,a[a.length-1],0))a[a.length-1]=f;else{a.length&&(a[a.length-1]=IN(a[a.length-1],i.length));let h=PN(c,u);a.push(h),s=s.matchType(h.type),i=u}}),a)return Z.from(a)}return t}function PN(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Z.from(t));return t}function DN(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=DN(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(Z.from(PN(n,t,s+1))))}}function IN(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,IN(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Z.empty,!0);return t.copy(n.append(r))}function Bg(t,e,n,r,s,i){let a=e<0?t.firstChild:t.lastChild,c=a.content;return t.childCount>1&&(i=0),s<r-1&&(c=Bg(c,e,n,r,s+1,i)),s>=n&&(c=e<0?a.contentMatchAt(0).fillBefore(c,i<=s).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(Z.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(c))}function Yb(t,e,n){return e<t.openStart&&(t=new ue(Bg(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ue(Bg(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const ON={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Jb=null;function LN(){return Jb||(Jb=document.implementation.createHTMLDocument("title"))}let vm=null;function R6(t){let e=window.trustedTypes;return e?(vm||(vm=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),vm.createHTML(t)):t}function P6(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=LN().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&ON[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=R6(t),s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function D6(t){let e=t.querySelectorAll(It?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function I6(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:a}=t;for(let c=r.length-2;c>=0;c-=2){let u=n.nodes[r[c]];if(!u||u.hasRequiredAttrs())break;s=Z.from(u.create(r[c+1],s)),i++,a++}return new ue(s,i,a)}const an={},ln={},O6={touchstart:!0,touchmove:!0};class L6{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function _6(t){for(let e in an){let n=an[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{F6(t,r)&&!c0(t,r)&&(t.editable||!(r.type in ln))&&n(t,r)},O6[e]?{passive:!0}:void 0)}Xt&&t.dom.addEventListener("input",()=>null),Vg(t)}function Ks(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function z6(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Vg(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>c0(t,r))})}function c0(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function F6(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function B6(t,e){!c0(t,e)&&an[e.type]&&(t.editable||!(e.type in ln))&&an[e.type](t,e)}ln.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!zN(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Xr&&It&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),fa&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Vi(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||T6(t,n)?n.preventDefault():Ks(t,"key")};ln.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ln.keypress=(t,e)=>{let n=e;if(zN(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||$n&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof De)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,s,i))&&t.dispatch(i()),n.preventDefault()}};function Of(t){return{left:t.clientX,top:t.clientY}}function V6(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function u0(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let a=i.depth+1;a>0;a--)if(t.someProp(e,c=>a>i.depth?c(t,n,i.nodeAfter,i.before(a),s,!0):c(t,n,i.node(a),i.before(a),s,!1)))return!0;return!1}function ra(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function $6(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Ee.isSelectable(r)?(ra(t,new Ee(n)),!0):!1}function H6(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof Ee&&(r=n.node);let i=t.state.doc.resolve(e);for(let a=i.depth+1;a>0;a--){let c=a>i.depth?i.nodeAfter:i.node(a);if(Ee.isSelectable(c)){r&&n.$from.depth>0&&a>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(a);break}}return s!=null?(ra(t,Ee.create(t.state.doc,s)),!0):!1}function W6(t,e,n,r,s){return u0(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?H6(t,n):$6(t,n))}function U6(t,e,n,r){return u0(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function K6(t,e,n,r){return u0(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||G6(t,n,r)}function G6(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ra(t,De.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i),c=s.before(i);if(a.inlineContent)ra(t,De.create(r,c+1,c+1+a.content.size));else if(Ee.isSelectable(a))ra(t,Ee.create(r,c));else continue;return!0}}function d0(t){return Id(t)}const _N=$n?"metaKey":"ctrlKey";an.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=d0(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&V6(n,t.input.lastClick)&&!n[_N]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i,button:n.button};let a=t.posAtCoords(Of(n));a&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new q6(t,a,n,!!r)):(i=="doubleClick"?U6:K6)(t,a.pos,a.inside,n)?n.preventDefault():Ks(t,"pointer"))};class q6{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[_N],this.allowDefault=r.shiftKey;let i,a;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),a=n.inside;else{let h=e.state.doc.resolve(n.pos);i=h.parent,a=h.depth?h.before():0}const c=s?null:r.target,u=c?e.docView.nearestDesc(c,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:f}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||f instanceof Ee&&f.from<=a&&f.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Kn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ks(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>es(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Of(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ks(this.view,"pointer"):W6(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Xt&&this.mightDrag&&!this.mightDrag.node.isAtom||It&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ra(this.view,ze.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Ks(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ks(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}an.touchstart=t=>{t.input.lastTouch=Date.now(),d0(t),Ks(t,"pointer")};an.touchmove=t=>{t.input.lastTouch=Date.now(),Ks(t,"pointer")};an.contextmenu=t=>d0(t);function zN(t,e){return t.composing?!0:Xt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Y6=Xr?5e3:-1;ln.compositionstart=ln.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof De&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||It&&mN&&J6(t)))t.markCursor=t.state.storedMarks||n.marks(),Id(t,!0),t.markCursor=null;else if(Id(t,!e.selection.empty),Kn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let a=i<0?s.lastChild:s.childNodes[i-1];if(!a)break;if(a.nodeType==3){let c=t.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else s=a,i=-1}}t.input.composing=!0}FN(t,Y6)};function J6(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}ln.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,FN(t,20))};function FN(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Id(t),e))}function BN(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Q6());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function X6(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=HO(e.focusNode,e.focusOffset),r=WO(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(n==i||r==i)return i;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function Q6(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Id(t,e=!1){if(!(Xr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),BN(t),e||t.docView&&t.docView.dirty){let n=o0(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Z6(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const ql=vn&&Ys<15||fa&&qO<604;an.copy=ln.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=ql?null:n.clipboardData,a=r.content(),{dom:c,text:u}=l0(t,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",c.innerHTML),i.setData("text/plain",u)):Z6(t,c),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function eL(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function tL(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Yl(t,r.value,null,s,e):Yl(t,r.textContent,r.innerHTML,s,e)},50)}function Yl(t,e,n,r,s){let i=RN(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,s,i||ue.empty)))return!0;if(!i)return!1;let a=eL(i),c=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(i);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function VN(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ln.paste=(t,e)=>{let n=e;if(t.composing&&!Xr)return;let r=ql?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Yl(t,VN(r),r.getData("text/html"),s,n)?n.preventDefault():tL(t,n)};class $N{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const nL=$n?"altKey":"ctrlKey";function HN(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[nL]}an.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(Of(n)),a;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Ee?s.to-1:s.to))){if(r&&r.mightDrag)a=Ee.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(a=Ee.create(t.state.doc,m.posBefore))}}let c=(a||t.state.selection).content(),{dom:u,text:f,slice:h}=l0(t,c);(!n.dataTransfer.files.length||!It||hN>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ql?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",ql||n.dataTransfer.setData("text/plain",f),t.dragging=new $N(h,HN(t,n),a)};an.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ln.dragover=ln.dragenter=(t,e)=>e.preventDefault();ln.drop=(t,e)=>{try{rL(t,e,t.dragging)}finally{t.dragging=null}};function rL(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(Of(e));if(!r)return;let s=t.state.doc.resolve(r.pos),i=n&&n.slice;i?t.someProp("transformPasted",y=>{i=y(i,t,!1)}):i=RN(t,VN(e.dataTransfer),ql?null:e.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&HN(t,e));if(t.someProp("handleDrop",y=>y(t,e,i||ue.empty,a))){e.preventDefault();return}if(!i)return;e.preventDefault();let c=i?GC(t.state.doc,s.pos,i):s.pos;c==null&&(c=s.pos);let u=t.state.tr;if(a){let{node:y}=n;y?y.replace(u):u.deleteSelection()}let f=u.mapping.map(c),h=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,m=u.doc;if(h?u.replaceRangeWith(f,f,i.content.firstChild):u.replaceRange(f,f,i),u.doc.eq(m))return;let x=u.doc.resolve(f);if(h&&Ee.isSelectable(i.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(i.content.firstChild))u.setSelection(new Ee(x));else{let y=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((w,k,S,C)=>y=C),u.setSelection(a0(t,x,u.doc.resolve(y)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))}an.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&es(t)},20))};an.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};an.beforeinput=(t,e)=>{if(It&&Xr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Vi(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in ln)an[t]=ln[t];function Jl(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Od{constructor(e,n){this.toDOM=e,this.spec=n||Xi,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:a}=e.mapResult(n.from+s,this.side<0?-1:1);return a?null:new on(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Od&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Jl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Xs{constructor(e,n){this.attrs=e,this.spec=n||Xi}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=a?null:new on(i,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Xs&&Jl(this.attrs,e.attrs)&&Jl(this.spec,e.spec)}static is(e){return e.type instanceof Xs}destroy(){}}class f0{constructor(e,n){this.attrs=e,this.spec=n||Xi}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let a=e.mapResult(n.to+s,-1);return a.deleted||a.pos<=i.pos?null:new on(i.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof f0&&Jl(this.attrs,e.attrs)&&Jl(this.spec,e.spec)}destroy(){}}class on{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new on(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new on(e,e,new Od(n,r))}static inline(e,n,r,s){return new on(e,n,new Xs(r,s))}static node(e,n,r,s){return new on(e,n,new f0(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xs}get widget(){return this.type instanceof Od}}const Ko=[],Xi={};class rt{constructor(e,n){this.local=e.length?e:Ko,this.children=n.length?n:Ko}static create(e,n){return n.length?Ld(n,e,0,Xi):Yt}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=n&&c.to>=e&&(!i||i(c.spec))&&r.push(c.copy(c.from+s,c.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,n-c,r,s+c,i)}}map(e,n,r){return this==Yt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Xi)}mapInner(e,n,r,s,i){let a;for(let c=0;c<this.local.length;c++){let u=this.local[c].map(e,r,s);u&&u.type.valid(n,u)?(a||(a=[])).push(u):i.onRemove&&i.onRemove(this.local[c].spec)}return this.children.length?sL(this.children,a||[],e,n,r,s,i):a?new rt(a.sort(Qi),Ko):Yt}add(e,n){return n.length?this==Yt?rt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((c,u)=>{let f=u+r,h;if(h=UN(n,c,f)){for(s||(s=this.children.slice());i<s.length&&s[i]<u;)i+=3;s[i]==u?s[i+2]=s[i+2].addInner(c,h,f+1):s.splice(i,0,u,u+c.nodeSize,Ld(h,c,f+1,Xi)),i+=3}});let a=WN(i?KN(n):n,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new rt(a.length?this.local.concat(a).sort(Qi):this.local,s||this.children)}remove(e){return e.length==0||this==Yt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let a,c=r[i]+n,u=r[i+1]+n;for(let h=0,m;h<e.length;h++)(m=e[h])&&m.from>c&&m.to<u&&(e[h]=null,(a||(a=[])).push(m));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[i+2].removeInner(a,c+1);f!=Yt?r[i+2]=f:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,a;i<e.length;i++)if(a=e[i])for(let c=0;c<s.length;c++)s[c].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new rt(s,r):Yt}forChild(e,n){if(this==Yt)return this;if(n.isLeaf)return rt.empty;let r,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let i=e+1,a=i+n.content.size;for(let c=0;c<this.local.length;c++){let u=this.local[c];if(u.from<a&&u.to>i&&u.type instanceof Xs){let f=Math.max(i,u.from)-i,h=Math.min(a,u.to)-i;f<h&&(s||(s=[])).push(u.copy(f,h))}}if(s){let c=new rt(s.sort(Qi),Ko);return r?new Vs([c,r]):c}return r||Yt}eq(e){if(this==e)return!0;if(!(e instanceof rt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return p0(this.localsInner(e))}localsInner(e){if(this==Yt)return Ko;if(e.inlineContent||!this.local.some(Xs.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Xs||n.push(this.local[r]);return n}forEachSet(e){e(this)}}rt.empty=new rt([],[]);rt.removeOverlap=p0;const Yt=rt.empty;class Vs{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Xi));return Vs.from(r)}forChild(e,n){if(n.isLeaf)return rt.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Yt&&(i instanceof Vs?r=r.concat(i.members):r.push(i))}return Vs.from(r)}eq(e){if(!(e instanceof Vs)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let a=0;a<i.length;a++)n.push(i[a])}}return n?p0(r?n:n.sort(Qi)):Ko}static from(e){switch(e.length){case 0:return Yt;case 1:return e[0];default:return new Vs(e.every(n=>n instanceof rt)?e:e.reduce((n,r)=>n.concat(r instanceof rt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function sL(t,e,n,r,s,i,a){let c=t.slice();for(let f=0,h=i;f<n.maps.length;f++){let m=0;n.maps[f].forEach((x,y,w,k)=>{let S=k-w-(y-x);for(let C=0;C<c.length;C+=3){let M=c[C+1];if(M<0||x>M+h-m)continue;let A=c[C]+h-m;y>=A?c[C+1]=x<=A?-2:-1:x>=h&&S&&(c[C]+=S,c[C+1]+=S)}m+=S}),h=n.maps[f].map(h,-1)}let u=!1;for(let f=0;f<c.length;f+=3)if(c[f+1]<0){if(c[f+1]==-2){u=!0,c[f+1]=-1;continue}let h=n.map(t[f]+i),m=h-s;if(m<0||m>=r.content.size){u=!0;continue}let x=n.map(t[f+1]+i,-1),y=x-s,{index:w,offset:k}=r.content.findIndex(m),S=r.maybeChild(w);if(S&&k==m&&k+S.nodeSize==y){let C=c[f+2].mapInner(n,S,h+1,t[f]+i+1,a);C!=Yt?(c[f]=m,c[f+1]=y,c[f+2]=C):(c[f+1]=-2,u=!0)}else u=!0}if(u){let f=iL(c,t,e,n,s,i,a),h=Ld(f,r,0,a);e=h.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,x=0;m<h.children.length;m+=3){let y=h.children[m];for(;x<c.length&&c[x]<y;)x+=3;c.splice(x,0,h.children[m],h.children[m+1],h.children[m+2])}}return new rt(e.sort(Qi),c)}function WN(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new on(s.from+e,s.to+e,s.type))}return n}function iL(t,e,n,r,s,i,a){function c(u,f){for(let h=0;h<u.local.length;h++){let m=u.local[h].map(r,s,f);m?n.push(m):a.onRemove&&a.onRemove(u.local[h].spec)}for(let h=0;h<u.children.length;h+=3)c(u.children[h+2],u.children[h]+f+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&c(t[u+2],e[u]+i+1);return n}function UN(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,a;i<t.length;i++)(a=t[i])&&a.from>n&&a.to<r&&((s||(s=[])).push(a),t[i]=null);return s}function KN(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ld(t,e,n,r){let s=[],i=!1;e.forEach((c,u)=>{let f=UN(t,c,u+n);if(f){i=!0;let h=Ld(f,c,n+u+1,r);h!=Yt&&s.push(u,u+c.nodeSize,h)}});let a=WN(i?KN(t):t,-n).sort(Qi);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||s.length?new rt(a,s):Yt}function Qi(t,e){return t.from-e.from||t.to-e.to}function p0(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),Xb(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),Xb(e,s,r.copy(i.from,r.to)));break}}}return e}function Xb(t,e,n){for(;e<t.length&&Qi(n,t[e])>0;)e++;t.splice(e,0,n)}function wm(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Yt&&e.push(r)}),t.cursorWrapper&&e.push(rt.create(t.state.doc,[t.cursorWrapper.deco])),Vs.from(e)}const oL={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},aL=vn&&Ys<=11;class lL{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class cL{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new lL,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);vn&&Ys<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),aL&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,oL)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Hb(this.view)){if(this.suppressingSelectionUpdates)return es(this.view);if(vn&&Ys<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&no(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=da(i))n.add(i);for(let i=e.anchorNode;i;i=da(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Hb(e)&&!this.ignoreSelectionChange(r),i=-1,a=-1,c=!1,u=[];if(e.editable)for(let h=0;h<n.length;h++){let m=this.registerMutation(n[h],u);m&&(i=i<0?m.from:Math.min(m.from,i),a=a<0?m.to:Math.max(m.to,a),m.typeOver&&(c=!0))}if(Kn&&u.length){let h=u.filter(m=>m.nodeName=="BR");if(h.length==2){let[m,x]=h;m.parentNode&&m.parentNode.parentNode==x.parentNode?x.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let x of h){let y=x.parentNode;y&&y.nodeName=="LI"&&(!m||fL(e,m)!=y)&&x.remove()}}}else if((It||Xt)&&u.some(h=>h.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let h of u)if(h.nodeName=="BR"&&h.parentNode){let m=h.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&h.parentNode.removeChild(h)}}let f=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Df(r)&&(f=o0(e))&&f.eq(ze.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,es(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,a),uL(e)),this.handleDOMChange(i,a,c,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||es(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++){let m=e.addedNodes[h];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(vn&&Ys<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:m,nextSibling:x}=e.addedNodes[h];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(i=x)}let a=s&&s.parentNode==e.target?Vt(s)+1:0,c=r.localPosFromDOM(e.target,a,-1),u=i&&i.parentNode==e.target?Vt(i):e.target.childNodes.length,f=r.localPosFromDOM(e.target,u,1);return{from:c,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Qb=new WeakMap,Zb=!1;function uL(t){if(!Qb.has(t)&&(Qb.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Kn,Zb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Zb=!0}}function ek(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,i=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return no(a.node,a.offset,s,i)&&([n,r,s,i]=[s,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:i}}function dL(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return ek(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?ek(t,n):null}function fL(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function pL(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:a,to:c}=t.docView.parseRange(e,n),u=t.domSelectionRange(),f,h=u.anchorNode;if(h&&t.dom.contains(h.nodeType==1?h:h.parentNode)&&(f=[{node:h,offset:u.anchorOffset}],Df(u)||f.push({node:u.focusNode,offset:u.focusOffset})),It&&t.input.lastKeyCode===8)for(let S=i;S>s;S--){let C=r.childNodes[S-1],M=C.pmViewDesc;if(C.nodeName=="BR"&&!M){i=S;break}if(!M||M.size)break}let m=t.state.doc,x=t.someProp("domParser")||qs.fromSchema(t.state.schema),y=m.resolve(a),w=null,k=x.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:s,to:i,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:hL,context:y});if(f&&f[0].pos!=null){let S=f[0].pos,C=f[1]&&f[1].pos;C==null&&(C=S),w={anchor:S+a,head:C+a}}return{doc:k,sel:w,from:a,to:c}}function hL(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Xt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Xt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const mL=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function gL(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let L=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,P=o0(t,L);if(P&&!t.state.selection.eq(P)){if(It&&Xr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",X=>X(t,Vi(13,"Enter"))))return;let K=t.state.tr.setSelection(P);L=="pointer"?K.setMeta("pointer",!0):L=="key"&&K.scrollIntoView(),i&&K.setMeta("composition",i),t.dispatch(K)}return}let a=t.state.doc.resolve(e),c=a.sharedDepth(n);e=a.before(c+1),n=t.state.doc.resolve(n).after(c+1);let u=t.state.selection,f=pL(t,e,n),h=t.state.doc,m=h.slice(f.from,f.to),x,y;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(x=t.state.selection.to,y="end"):(x=t.state.selection.from,y="start"),t.input.lastKeyCode=null;let w=vL(m.content,f.doc.content,f.from,x,y);if(w&&t.input.domChangeCount++,(fa&&t.input.lastIOSEnter>Date.now()-225||Xr)&&s.some(L=>L.nodeType==1&&!mL.test(L.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",L=>L(t,Vi(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&u instanceof De&&!u.empty&&u.$head.sameParent(u.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))w={start:u.from,endA:u.to,endB:u.to};else{if(f.sel){let L=tk(t,t.state.doc,f.sel);if(L&&!L.eq(t.state.selection)){let P=t.state.tr.setSelection(L);i&&P.setMeta("composition",i),t.dispatch(P)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof De&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),vn&&Ys<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>f.from&&f.doc.textBetween(w.start-f.from-1,w.start-f.from+1)==" "&&(w.start--,w.endA--,w.endB--);let k=f.doc.resolveNoCache(w.start-f.from),S=f.doc.resolveNoCache(w.endB-f.from),C=h.resolve(w.start),M=k.sameParent(S)&&k.parent.inlineContent&&C.end()>=w.endA;if((fa&&t.input.lastIOSEnter>Date.now()-225&&(!M||s.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!M&&k.pos<f.doc.content.size&&(!k.sameParent(S)||!k.parent.inlineContent)&&k.pos<S.pos&&!/\S/.test(f.doc.textBetween(k.pos,S.pos,"","")))&&t.someProp("handleKeyDown",L=>L(t,Vi(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&yL(h,w.start,w.endA,k,S)&&t.someProp("handleKeyDown",L=>L(t,Vi(8,"Backspace")))){Xr&&It&&t.domObserver.suppressSelectionUpdates();return}It&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),Xr&&!M&&k.start()!=S.start()&&S.parentOffset==0&&k.depth==S.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==w.endA&&(w.endB-=2,S=f.doc.resolveNoCache(w.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(L){return L(t,Vi(13,"Enter"))})},20));let A=w.start,D=w.endA,j=L=>{let P=L||t.state.tr.replace(A,D,f.doc.slice(w.start-f.from,w.endB-f.from));if(f.sel){let K=tk(t,P.doc,f.sel);K&&!(It&&t.composing&&K.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(K.head==A||K.head==P.mapping.map(D)-1)||vn&&K.empty&&K.head==A)&&P.setSelection(K)}return i&&P.setMeta("composition",i),P.scrollIntoView()},I;if(M)if(k.pos==S.pos){vn&&Ys<=11&&k.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>es(t),20));let L=j(t.state.tr.delete(A,D)),P=h.resolve(w.start).marksAcross(h.resolve(w.endA));P&&L.ensureMarks(P),t.dispatch(L)}else if(w.endA==w.endB&&(I=xL(k.parent.content.cut(k.parentOffset,S.parentOffset),C.parent.content.cut(C.parentOffset,w.endA-C.start())))){let L=j(t.state.tr);I.type=="add"?L.addMark(A,D,I.mark):L.removeMark(A,D,I.mark),t.dispatch(L)}else if(k.parent.child(k.index()).isText&&k.index()==S.index()-(S.textOffset?0:1)){let L=k.parent.textBetween(k.parentOffset,S.parentOffset),P=()=>j(t.state.tr.insertText(L,A,D));t.someProp("handleTextInput",K=>K(t,A,D,L,P))||t.dispatch(P())}else t.dispatch(j());else t.dispatch(j())}function tk(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:a0(t,e.resolve(n.anchor),e.resolve(n.head))}function xL(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,a,c,u;for(let h=0;h<r.length;h++)s=r[h].removeFromSet(s);for(let h=0;h<n.length;h++)i=n[h].removeFromSet(i);if(s.length==1&&i.length==0)c=s[0],a="add",u=h=>h.mark(c.addToSet(h.marks));else if(s.length==0&&i.length==1)c=i[0],a="remove",u=h=>h.mark(c.removeFromSet(h.marks));else return null;let f=[];for(let h=0;h<e.childCount;h++)f.push(u(e.child(h)));if(Z.from(f).eq(t))return{mark:c,type:a}}function yL(t,e,n,r,s){if(n-e<=s.pos-r.pos||bm(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!r.parent.isTextblock){let c=i.nodeAfter;return c!=null&&n==e+c.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=t.resolve(bm(i,!0,!0));return!a.parent.isTextblock||a.pos>n||bm(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function bm(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function vL(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let u=Math.max(0,i-Math.min(a,c));r-=a+u-i}if(a<i&&t.size<e.size){let u=r<=i&&r>=a?i-r:0;i-=u,i&&i<e.size&&nk(e.textBetween(i-1,i+1))&&(i+=u?1:-1),c=i+(c-a),a=i}else if(c<i){let u=r<=i&&r>=c?i-r:0;i-=u,i&&i<t.size&&nk(t.textBetween(i-1,i+1))&&(i+=u?1:-1),a=i+(a-c),c=i}return{start:i,endA:a,endB:c}}function nk(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class GN{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new L6,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(ak),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=ik(this),sk(this),this.nodeViews=ok(this),this.docView=_b(this.state.doc,rk(this),wm(this),this.dom,this),this.domObserver=new cL(this,(r,s,i,a)=>gL(this,r,s,i,a)),this.domObserver.start(),_6(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Vg(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(ak),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,a=!1;e.storedMarks&&this.composing&&(BN(this),a=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let y=ok(this);bL(y,this.nodeViews)&&(this.nodeViews=y,i=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&Vg(this),this.editable=ik(this),sk(this);let u=wm(this),f=rk(this),h=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(e.doc,f,u);(m||!e.selection.eq(s.selection))&&(a=!0);let x=h=="preserve"&&a&&this.dom.style.overflowAnchor==null&&XO(this);if(a){this.domObserver.stop();let y=m&&(vn||It)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&wL(s.selection,e.selection);if(m){let w=It?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=X6(this)),(i||!this.docView.update(e.doc,f,u,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=_b(e.doc,f,u,this.dom,this)),w&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&b6(this))?es(this,y):(TN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():x&&QO(x)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Ee){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Rb(this,n.getBoundingClientRect(),e)}else Rb(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new $N(e.slice,e.move,s<0?void 0:Ee.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(s=n?n(c):c))return s}let i=this.state.plugins;if(i)for(let a=0;a<i.length;a++){let c=i[a].props[e];if(c!=null&&(s=n?n(c):c))return s}}hasFocus(){if(vn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&ZO(this.dom),es(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return s6(this,e)}coordsAtPos(e,n=1){return wN(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return c6(this,n||this.state,e)}pasteHTML(e,n){return Yl(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Yl(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return l0(this,e)}destroy(){this.docView&&(z6(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],wm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,VO())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return B6(this,e)}domSelectionRange(){let e=this.domSelection();return e?Xt&&this.root.nodeType===11&&KO(this.dom.ownerDocument)==this.dom&&dL(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}GN.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function rk(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[on.node(0,t.state.doc.content.size,e)]}function sk(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:on.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function ik(t){return!t.someProp("editable",e=>e(t.state)===!1)}function wL(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function ok(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function bL(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function ak(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ei={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},_d={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},kL=typeof navigator<"u"&&/Mac/.test(navigator.platform),SL=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var $t=0;$t<10;$t++)ei[48+$t]=ei[96+$t]=String($t);for(var $t=1;$t<=24;$t++)ei[$t+111]="F"+$t;for(var $t=65;$t<=90;$t++)ei[$t]=String.fromCharCode($t+32),_d[$t]=String.fromCharCode($t);for(var km in ei)_d.hasOwnProperty(km)||(_d[km]=ei[km]);function CL(t){var e=kL&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||SL&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?_d:ei)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const NL=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),EL=typeof navigator<"u"&&/Win/.test(navigator.platform);function ML(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,a;for(let c=0;c<e.length-1;c++){let u=e[c];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))i=!0;else if(/^mod$/i.test(u))NL?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function TL(t){let e=Object.create(null);for(let n in t)e[ML(n)]=t[n];return e}function Sm(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function AL(t){return new it({props:{handleKeyDown:qN(t)}})}function qN(t){let e=TL(t);return function(n,r){let s=CL(r),i,a=e[Sm(s,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let c=e[Sm(s,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(EL&&r.ctrlKey&&r.altKey)&&(i=ei[r.keyCode])&&i!=s){let c=e[Sm(i,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}var jL=Object.defineProperty,h0=(t,e)=>{for(var n in e)jL(t,n,{get:e[n],enumerable:!0})};function Lf(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}var _f=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([a,c])=>[a,(...f)=>{const h=c(...f)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,a=[],c=!!t,u=t||s.tr,f=()=>(!c&&e&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(u),a.every(m=>m===!0)),h={...Object.fromEntries(Object.entries(n).map(([m,x])=>[m,(...w)=>{const k=this.buildProps(u,e),S=x(...w)(k);return a.push(S),h}])),run:f};return h}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,i=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([c,u])=>[c,(...f)=>u(...f)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:i}=r,a={tr:t,editor:r,view:i,state:Lf({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,u])=>[c,(...f)=>u(...f)(a)]))}};return a}},YN={};h0(YN,{blur:()=>RL,clearContent:()=>PL,clearNodes:()=>DL,command:()=>IL,createParagraphNear:()=>OL,cut:()=>LL,deleteCurrentNode:()=>_L,deleteNode:()=>zL,deleteRange:()=>FL,deleteSelection:()=>BL,enter:()=>VL,exitCode:()=>$L,extendMarkRange:()=>HL,first:()=>WL,focus:()=>KL,forEach:()=>GL,insertContent:()=>qL,insertContentAt:()=>XL,joinBackward:()=>e8,joinDown:()=>ZL,joinForward:()=>t8,joinItemBackward:()=>n8,joinItemForward:()=>r8,joinTextblockBackward:()=>s8,joinTextblockForward:()=>i8,joinUp:()=>QL,keyboardShortcut:()=>a8,lift:()=>l8,liftEmptyBlock:()=>c8,liftListItem:()=>u8,newlineInCode:()=>d8,resetAttributes:()=>f8,scrollIntoView:()=>p8,selectAll:()=>h8,selectNodeBackward:()=>m8,selectNodeForward:()=>g8,selectParentNode:()=>x8,selectTextblockEnd:()=>y8,selectTextblockStart:()=>v8,setContent:()=>w8,setMark:()=>B8,setMeta:()=>V8,setNode:()=>$8,setNodeSelection:()=>H8,setTextDirection:()=>W8,setTextSelection:()=>U8,sinkListItem:()=>K8,splitBlock:()=>G8,splitListItem:()=>q8,toggleList:()=>Y8,toggleMark:()=>J8,toggleNode:()=>X8,toggleWrap:()=>Q8,undoInputRule:()=>Z8,unsetAllMarks:()=>e7,unsetMark:()=>t7,unsetTextDirection:()=>n7,updateAttributes:()=>r7,wrapIn:()=>s7,wrapInList:()=>i7});var RL=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),PL=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),DL=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:a})=>{t.doc.nodesBetween(i.pos,a.pos,(c,u)=>{if(c.type.isText)return;const{doc:f,mapping:h}=e,m=f.resolve(h.map(u)),x=f.resolve(h.map(u+c.nodeSize)),y=m.blockRange(x);if(!y)return;const w=ba(y);if(c.type.isTextblock){const{defaultType:k}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(y.start,k)}(w||w===0)&&e.lift(y,w)})}),!0},IL=t=>e=>t(e),OL=()=>({state:t,dispatch:e})=>cN(t,e),LL=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,i.content),r.setSelection(new De(r.doc.resolve(Math.max(a-1,0)))),!0},_L=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const c=s.before(i),u=s.after(i);t.delete(c,u).scrollIntoView()}return!0}return!1};function yt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var zL=t=>({tr:e,state:n,dispatch:r})=>{const s=yt(t,n.schema),i=e.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===s){if(r){const u=i.before(a),f=i.after(a);e.delete(u,f).scrollIntoView()}return!0}return!1},FL=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},BL=()=>({state:t,dispatch:e})=>e0(t,e),VL=()=>({commands:t})=>t.keyboardShortcut("Enter"),$L=()=>({state:t,dispatch:e})=>EO(t,e);function m0(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function zd(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:m0(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function JN(t,e,n={}){return t.find(r=>r.type===e&&zd(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function lk(t,e,n={}){return!!JN(t,e,n)}function g0(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(h=>h.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(h=>h.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!JN([...s.node.marks],e,n)))return;let a=s.index,c=t.start()+s.offset,u=a+1,f=c+s.node.nodeSize;for(;a>0&&lk([...t.parent.child(a-1).marks],e,n);)a-=1,c-=t.parent.child(a).nodeSize;for(;u<t.parent.childCount&&lk([...t.parent.child(u).marks],e,n);)f+=t.parent.child(u).nodeSize,u+=1;return{from:c,to:f}}function ss(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var HL=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=ss(t,r.schema),{doc:a,selection:c}=n,{$from:u,from:f,to:h}=c;if(s){const m=g0(u,i,e);if(m&&m.from<=f&&m.to>=h){const x=De.create(a,m.from,m.to);n.setSelection(x)}}return!0},WL=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function XN(t){return t instanceof De}function Ki(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function QN(t,e=null){if(!e)return null;const n=ze.atStart(t),r=ze.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?De.create(t,Ki(0,s,i),Ki(t.content.size,s,i)):De.create(t,Ki(e,s,i),Ki(e,s,i))}function ck(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Fd(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function UL(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var KL=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const a=()=>{(Fd()||ck())&&r.dom.focus(),UL()&&!Fd()&&!ck()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!XN(n.state.selection))return a(),!0;const c=QN(s.doc,t)||n.state.selection,u=n.state.selection.eq(c);return i&&(u||s.setSelection(c),u&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},GL=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),qL=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),ZN=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&ZN(r)}return t};function zu(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return ZN(n)}function Xl(t,e,n){if(t instanceof Gs||t instanceof Z)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return Z.fromArray(t.map(c=>e.nodeFromJSON(c)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(i){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),Xl("",e,n)}if(s){if(n.errorOnInvalidContent){let a=!1,c="";const u=new LC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(a=!0,c=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?qs.fromSchema(u).parseSlice(zu(t),n.parseOptions):qs.fromSchema(u).parse(zu(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const i=qs.fromSchema(e);return n.slice?i.parseSlice(zu(t),n.parseOptions).content:i.parse(zu(t),n.parseOptions)}return Xl("",e,n)}function YL(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Dt||s instanceof Ot))return;const i=t.mapping.maps[r];let a=0;i.forEach((c,u,f,h)=>{a===0&&(a=h)}),t.setSelection(ze.near(t.doc.resolve(a),n))}var JL=t=>!("type"in t),XL=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{var a;if(s){n={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const u=S=>{i.emit("contentError",{editor:i,error:S,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{Xl(e,i.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(S){u(S)}try{c=Xl(e,i.schema,{parseOptions:f,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:i.options.enableContentCheck})}catch(S){return u(S),!1}let{from:h,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},x=!0,y=!0;if((JL(c)?c:[c]).forEach(S=>{S.check(),x=x?S.isText&&S.marks.length===0:!1,y=y?S.isBlock:!1}),h===m&&y){const{parent:S}=r.doc.resolve(h);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(h-=1,m+=1)}let k;if(x){if(Array.isArray(e))k=e.map(S=>S.text||"").join("");else if(e instanceof Z){let S="";e.forEach(C=>{C.text&&(S+=C.text)}),k=S}else typeof e=="object"&&e&&e.text?k=e.text:k=e;r.insertText(k,h,m)}else{k=c;const S=r.doc.resolve(h),C=S.node(),M=S.parentOffset===0,A=C.isText||C.isTextblock,D=C.content.size>0;M&&A&&D&&(h=Math.max(0,h-1)),r.replaceWith(h,m,k)}n.updateSelection&&YL(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:h,text:k}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:h,text:k})}return!0},QL=()=>({state:t,dispatch:e})=>SO(t,e),ZL=()=>({state:t,dispatch:e})=>CO(t,e),e8=()=>({state:t,dispatch:e})=>nN(t,e),t8=()=>({state:t,dispatch:e})=>oN(t,e),n8=()=>({state:t,dispatch:e,tr:n})=>{try{const r=jf(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},r8=()=>({state:t,dispatch:e,tr:n})=>{try{const r=jf(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},s8=()=>({state:t,dispatch:e})=>bO(t,e),i8=()=>({state:t,dispatch:e})=>kO(t,e);function eE(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function o8(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,a;for(let c=0;c<e.length-1;c+=1){const u=e[c];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))i=!0;else if(/^mod$/i.test(u))Fd()||eE()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}var a8=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=o8(t).split(/-(?!$)/),a=i.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,c))});return u==null||u.steps.forEach(f=>{const h=f.map(r.mapping);h&&s&&r.maybeStep(h)}),!0};function ti(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,a=e?yt(e,t.schema):null,c=[];t.doc.nodesBetween(r,s,(m,x)=>{if(m.isText)return;const y=Math.max(r,x),w=Math.min(s,x+m.nodeSize);c.push({node:m,from:y,to:w})});const u=s-r,f=c.filter(m=>a?a.name===m.node.type.name:!0).filter(m=>zd(m.node.attrs,n,{strict:!1}));return i?!!f.length:f.reduce((m,x)=>m+x.to-x.from,0)>=u}var l8=(t,e={})=>({state:n,dispatch:r})=>{const s=yt(t,n.schema);return ti(n,s,e)?NO(n,r):!1},c8=()=>({state:t,dispatch:e})=>uN(t,e),u8=t=>({state:e,dispatch:n})=>{const r=yt(t,e.schema);return _O(r)(e,n)},d8=()=>({state:t,dispatch:e})=>lN(t,e);function zf(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function uk(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var f8=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const c=zf(typeof t=="string"?t:t.name,r.schema);if(!c)return!1;c==="node"&&(i=yt(t,r.schema)),c==="mark"&&(a=ss(t,r.schema));let u=!1;return n.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(h,m)=>{i&&i===h.type&&(u=!0,s&&n.setNodeMarkup(m,void 0,uk(h.attrs,e))),a&&h.marks.length&&h.marks.forEach(x=>{a===x.type&&(u=!0,s&&n.addMark(m,m+h.nodeSize,a.create(uk(x.attrs,e))))})})}),u},p8=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),h8=()=>({tr:t,dispatch:e})=>{if(e){const n=new Tn(t.doc);t.setSelection(n)}return!0},m8=()=>({state:t,dispatch:e})=>sN(t,e),g8=()=>({state:t,dispatch:e})=>aN(t,e),x8=()=>({state:t,dispatch:e})=>AO(t,e),y8=()=>({state:t,dispatch:e})=>PO(t,e),v8=()=>({state:t,dispatch:e})=>RO(t,e);function $g(t,e,n={},r={}){return Xl(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var w8=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:i,dispatch:a,commands:c})=>{const{doc:u}=i;if(r.preserveWhitespace!=="full"){const f=$g(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return a&&i.replaceWith(0,u.content.size,f).setMeta("preventUpdate",!n),!0}return a&&i.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:u.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function tE(t,e){const n=ss(e,t.schema),{from:r,to:s,empty:i}=t.selection,a=[];i?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,u=>{a.push(...u.marks)});const c=a.find(u=>u.type.name===n.name);return c?{...c.attrs}:{}}function nE(t,e){const n=new QC(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function b8(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function k8(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function S8(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Ff(t){return e=>S8(e.$from,t)}function Ne(t,e,n){return t.config[e]===void 0&&t.parent?Ne(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Ne(t.parent,e,n):null}):t.config[e]}function x0(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=Ne(e,"addExtensions",n);return r?[e,...x0(r())]:e}).flat(10)}function y0(t,e){const n=lo.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function rE(t){return typeof t=="function"}function Ke(t,e=void 0,...n){return rE(t)?e?t.bind(e)(...n):t(...n):t}function C8(t={}){return Object.keys(t).length===0&&t.constructor===Object}function pa(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function sE(t){const e=[],{nodeExtensions:n,markExtensions:r}=pa(t),s=[...n,...r],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage,extensions:s},u=Ne(a,"addGlobalAttributes",c);if(!u)return;u().forEach(h=>{h.types.forEach(m=>{Object.entries(h.attributes).forEach(([x,y])=>{e.push({type:m,name:x,attribute:{...i,...y}})})})})}),s.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},u=Ne(a,"addAttributes",c);if(!u)return;const f=u();Object.entries(f).forEach(([h,m])=>{const x={...i,...m};typeof(x==null?void 0:x.default)=="function"&&(x.default=x.default()),x!=null&&x.isRequired&&(x==null?void 0:x.default)===void 0&&delete x.default,e.push({type:a.name,name:h,attribute:x})})}),e}function vt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const c=i?String(i).split(" "):[],u=r[s]?r[s].split(" "):[],f=c.filter(h=>!u.includes(h));r[s]=[...u,...f].join(" ")}else if(s==="style"){const c=i?i.split(";").map(h=>h.trim()).filter(Boolean):[],u=r[s]?r[s].split(";").map(h=>h.trim()).filter(Boolean):[],f=new Map;u.forEach(h=>{const[m,x]=h.split(":").map(y=>y.trim());f.set(m,x)}),c.forEach(h=>{const[m,x]=h.split(":").map(y=>y.trim());f.set(m,x)}),r[s]=Array.from(f.entries()).map(([h,m])=>`${h}: ${m}`).join("; ")}else r[s]=i}),r},{})}function Ql(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>vt(n,r),{})}function N8(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function dk(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(n):N8(n.getAttribute(a.name));return c==null?i:{...i,[a.name]:c}},{});return{...r,...s}}}}function fk(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&C8(n)?!1:n!=null))}function pk(t){var e,n;const r={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&"default"in((t==null?void 0:t.attribute)||{})&&(r.default=t.attribute.default),((n=t==null?void 0:t.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function E8(t,e){var n;const r=sE(t),{nodeExtensions:s,markExtensions:i}=pa(t),a=(n=s.find(f=>Ne(f,"topNode")))==null?void 0:n.name,c=Object.fromEntries(s.map(f=>{const h=r.filter(C=>C.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},x=t.reduce((C,M)=>{const A=Ne(M,"extendNodeSchema",m);return{...C,...A?A(f):{}}},{}),y=fk({...x,content:Ke(Ne(f,"content",m)),marks:Ke(Ne(f,"marks",m)),group:Ke(Ne(f,"group",m)),inline:Ke(Ne(f,"inline",m)),atom:Ke(Ne(f,"atom",m)),selectable:Ke(Ne(f,"selectable",m)),draggable:Ke(Ne(f,"draggable",m)),code:Ke(Ne(f,"code",m)),whitespace:Ke(Ne(f,"whitespace",m)),linebreakReplacement:Ke(Ne(f,"linebreakReplacement",m)),defining:Ke(Ne(f,"defining",m)),isolating:Ke(Ne(f,"isolating",m)),attrs:Object.fromEntries(h.map(pk))}),w=Ke(Ne(f,"parseHTML",m));w&&(y.parseDOM=w.map(C=>dk(C,h)));const k=Ne(f,"renderHTML",m);k&&(y.toDOM=C=>k({node:C,HTMLAttributes:Ql(C,h)}));const S=Ne(f,"renderText",m);return S&&(y.toText=S),[f.name,y]})),u=Object.fromEntries(i.map(f=>{const h=r.filter(S=>S.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},x=t.reduce((S,C)=>{const M=Ne(C,"extendMarkSchema",m);return{...S,...M?M(f):{}}},{}),y=fk({...x,inclusive:Ke(Ne(f,"inclusive",m)),excludes:Ke(Ne(f,"excludes",m)),group:Ke(Ne(f,"group",m)),spanning:Ke(Ne(f,"spanning",m)),code:Ke(Ne(f,"code",m)),attrs:Object.fromEntries(h.map(pk))}),w=Ke(Ne(f,"parseHTML",m));w&&(y.parseDOM=w.map(S=>dk(S,h)));const k=Ne(f,"renderHTML",m);return k&&(y.toDOM=S=>k({mark:S,HTMLAttributes:Ql(S,h)})),[f.name,y]}));return new LC({topNode:a,nodes:c,marks:u})}function M8(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Bd(t){return t.sort((n,r)=>{const s=Ne(n,"priority")||100,i=Ne(r,"priority")||100;return s>i?-1:s<i?1:0})}function iE(t){const e=Bd(x0(t)),n=M8(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function oE(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:a={}}=n||{};let c="";return t.nodesBetween(r,s,(u,f,h,m)=>{var x;u.isBlock&&f>r&&(c+=i);const y=a==null?void 0:a[u.type.name];if(y)return h&&(c+=y({node:u,pos:f,parent:h,index:m,range:e})),!1;u.isText&&(c+=(x=u==null?void 0:u.text)==null?void 0:x.slice(Math.max(r,f)-f,s-f))}),c}function T8(t,e){const n={from:0,to:t.content.size};return oE(t,n,e)}function aE(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function A8(t,e){const n=yt(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,c=>{i.push(c)});const a=i.reverse().find(c=>c.type.name===n.name);return a?{...a.attrs}:{}}function lE(t,e){const n=zf(typeof e=="string"?e:e.name,t.schema);return n==="node"?A8(t,e):n==="mark"?tE(t,e):{}}function j8(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function R8(t){const e=j8(t);return e.length===1?e:e.filter((n,r)=>!e.filter((i,a)=>a!==r).some(i=>n.oldRange.from>=i.oldRange.from&&n.oldRange.to<=i.oldRange.to&&n.newRange.from>=i.newRange.from&&n.newRange.to<=i.newRange.to))}function cE(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const a=[];if(s.ranges.length)s.forEach((c,u)=>{a.push({from:c,to:u})});else{const{from:c,to:u}=n[i];if(c===void 0||u===void 0)return;a.push({from:c,to:u})}a.forEach(({from:c,to:u})=>{const f=e.slice(i).map(c,-1),h=e.slice(i).map(u),m=e.invert().map(f,-1),x=e.invert().map(h);r.push({oldRange:{from:m,to:x},newRange:{from:f,to:h}})})}),R8(r)}function v0(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t),a=g0(i,s.type);a&&r.push({mark:s,...a})}):n.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(a=>({from:i,to:i+s.nodeSize,mark:a})))}),r}var P8=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let i=r,a=null;for(;i>0&&a===null;){const c=s.node(i);(c==null?void 0:c.type.name)===e?a=c:i-=1}return[a,i]};function Fu(t,e){return e.nodes[t]||e.marks[t]||null}function ld(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}var D8=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,a,c)=>{var u,f;const h=((f=(u=s.type.spec).toText)==null?void 0:f.call(u,{node:s,pos:i,parent:a,index:c}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?h:h.slice(0,Math.max(0,r-i))}),n};function Hg(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?ss(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>zd(m.attrs,n,{strict:!1}));let a=0;const c=[];if(s.forEach(({$from:m,$to:x})=>{const y=m.pos,w=x.pos;t.doc.nodesBetween(y,w,(k,S)=>{if(!k.isText&&!k.marks.length)return;const C=Math.max(y,S),M=Math.min(w,S+k.nodeSize),A=M-C;a+=A,c.push(...k.marks.map(D=>({mark:D,from:C,to:M})))})}),a===0)return!1;const u=c.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>zd(m.mark.attrs,n,{strict:!1})).reduce((m,x)=>m+x.to-x.from,0),f=c.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,x)=>m+x.to-x.from,0);return(u>0?u+f:u)>=a}function I8(t,e,n={}){if(!e)return ti(t,null,n)||Hg(t,null,n);const r=zf(e,t.schema);return r==="node"?ti(t,e,n):r==="mark"?Hg(t,e,n):!1}var O8=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const i=Ff(c=>c.type.name===e)(t.selection);if(!i)return!1;const a=t.doc.resolve(i.pos+1);return s.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},L8=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function hk(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function mk(t,e){const{nodeExtensions:n}=pa(e),r=n.find(a=>a.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=Ke(Ne(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function Bf(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(Bf(i,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function uE(t){return t instanceof Ee}var dE=class fE{constructor(e){this.position=e}static fromJSON(e){return new fE(e.position)}toJSON(){return{position:this.position}}};function _8(t,e){const n=e.mapping.mapResult(t.position);return{position:new dE(n.pos),mapResult:n}}function z8(t){return new dE(t)}function F8(t,e,n){var r;const{selection:s}=e;let i=null;if(XN(s)&&(i=s.$cursor),i){const c=(r=t.storedMarks)!=null?r:i.marks();return i.parent.type.allowsMarkType(n)&&(!!n.isInSet(c)||!c.some(f=>f.type.excludes(n)))}const{ranges:a}=s;return a.some(({$from:c,$to:u})=>{let f=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,u.pos,(h,m,x)=>{if(f)return!1;if(h.isInline){const y=!x||x.type.allowsMarkType(n),w=!!n.isInSet(h.marks)||!h.marks.some(k=>k.type.excludes(n));f=y&&w}return!f}),f})}var B8=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:a,ranges:c}=i,u=ss(t,r.schema);if(s)if(a){const f=tE(r,u);n.addStoredMark(u.create({...f,...e}))}else c.forEach(f=>{const h=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(h,m,(x,y)=>{const w=Math.max(y,h),k=Math.min(y+x.nodeSize,m);x.marks.find(C=>C.type===u)?x.marks.forEach(C=>{u===C.type&&n.addMark(w,k,u.create({...C.attrs,...e}))}):n.addMark(w,k,u.create(e))})});return F8(r,n,u)},V8=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),$8=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=yt(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:c})=>Tb(i,{...a,...e})(n)?!0:c.clearNodes()).command(({state:c})=>Tb(i,{...a,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},H8=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Ki(t,0,r.content.size),i=Ee.create(r,s);e.setSelection(i)}return!0},W8=(t,e)=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=r;let a,c;return typeof e=="number"?(a=e,c=e):e&&"from"in e&&"to"in e?(a=e.from,c=e.to):(a=i.from,c=i.to),s&&n.doc.nodesBetween(a,c,(u,f)=>{u.isText||n.setNodeMarkup(f,void 0,{...u.attrs,dir:t})}),!0},U8=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,a=De.atStart(r).from,c=De.atEnd(r).to,u=Ki(s,a,c),f=Ki(i,a,c),h=De.create(r,u,f);e.setSelection(h)}return!0},K8=t=>({state:e,dispatch:n})=>{const r=yt(t,e.schema);return BO(r)(e,n)};function gk(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}var G8=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:a}=e,{$from:c,$to:u}=i,f=s.extensionManager.attributes,h=ld(f,c.node().type.name,c.node().attrs);if(i instanceof Ee&&i.node.isBlock)return!c.parentOffset||!Zr(a,c.pos)?!1:(r&&(t&&gk(n,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=u.parentOffset===u.parent.content.size,x=c.depth===0?void 0:b8(c.node(-1).contentMatchAt(c.indexAfter(-1)));let y=m&&x?[{type:x,attrs:h}]:void 0,w=Zr(e.doc,e.mapping.map(c.pos),1,y);if(!y&&!w&&Zr(e.doc,e.mapping.map(c.pos),1,x?[{type:x}]:void 0)&&(w=!0,y=x?[{type:x,attrs:h}]:void 0),r){if(w&&(i instanceof De&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,y),x&&!m&&!c.parentOffset&&c.parent.type!==x)){const k=e.mapping.map(c.before()),S=e.doc.resolve(k);c.node(-1).canReplaceWith(S.index(),S.index()+1,x)&&e.setNodeMarkup(e.mapping.map(c.before()),x)}t&&gk(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return w},q8=(t,e={})=>({tr:n,state:r,dispatch:s,editor:i})=>{var a;const c=yt(t,r.schema),{$from:u,$to:f}=r.selection,h=r.selection.node;if(h&&h.isBlock||u.depth<2||!u.sameParent(f))return!1;const m=u.node(-1);if(m.type!==c)return!1;const x=i.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==c||u.index(-2)!==u.node(-2).childCount-1)return!1;if(s){let C=Z.empty;const M=u.index(-1)?1:u.index(-2)?2:3;for(let P=u.depth-M;P>=u.depth-3;P-=1)C=Z.from(u.node(P).copy(C));const A=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,D={...ld(x,u.node().type.name,u.node().attrs),...e},j=((a=c.contentMatch.defaultType)==null?void 0:a.createAndFill(D))||void 0;C=C.append(Z.from(c.createAndFill(null,j)||void 0));const I=u.before(u.depth-(M-1));n.replace(I,u.after(-A),new ue(C,4-M,0));let L=-1;n.doc.nodesBetween(I,n.doc.content.size,(P,K)=>{if(L>-1)return!1;P.isTextblock&&P.content.size===0&&(L=K+1)}),L>-1&&n.setSelection(De.near(n.doc.resolve(L))),n.scrollIntoView()}return!0}const y=f.pos===u.end()?m.contentMatchAt(0).defaultType:null,w={...ld(x,m.type.name,m.attrs),...e},k={...ld(x,u.node().type.name,u.node().attrs),...e};n.delete(u.pos,f.pos);const S=y?[{type:c,attrs:w},{type:y,attrs:k}]:[{type:c,attrs:w}];if(!Zr(n.doc,u.pos,2))return!1;if(s){const{selection:C,storedMarks:M}=r,{splittableMarks:A}=i.extensionManager,D=M||C.$to.parentOffset&&C.$from.marks();if(n.split(u.pos,2,S).scrollIntoView(),!D||!s)return!0;const j=D.filter(I=>A.includes(I.type.name));n.ensureMarks(j)}return!0},Cm=(t,e)=>{const n=Ff(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&ii(t.doc,n.pos)&&t.join(n.pos),!0},Nm=(t,e)=>{const n=Ff(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&ii(t.doc,r)&&t.join(r),!0},Y8=(t,e,n,r={})=>({editor:s,tr:i,state:a,dispatch:c,chain:u,commands:f,can:h})=>{const{extensions:m,splittableMarks:x}=s.extensionManager,y=yt(t,a.schema),w=yt(e,a.schema),{selection:k,storedMarks:S}=a,{$from:C,$to:M}=k,A=C.blockRange(M),D=S||k.$to.parentOffset&&k.$from.marks();if(!A)return!1;const j=Ff(I=>mk(I.type.name,m))(k);if(A.depth>=1&&j&&A.depth-j.depth<=1){if(j.node.type===y)return f.liftListItem(w);if(mk(j.node.type.name,m)&&y.validContent(j.node.content)&&c)return u().command(()=>(i.setNodeMarkup(j.pos,y),!0)).command(()=>Cm(i,y)).command(()=>Nm(i,y)).run()}return!n||!D||!c?u().command(()=>h().wrapInList(y,r)?!0:f.clearNodes()).wrapInList(y,r).command(()=>Cm(i,y)).command(()=>Nm(i,y)).run():u().command(()=>{const I=h().wrapInList(y,r),L=D.filter(P=>x.includes(P.type.name));return i.ensureMarks(L),I?!0:f.clearNodes()}).wrapInList(y,r).command(()=>Cm(i,y)).command(()=>Nm(i,y)).run()},J8=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,a=ss(t,r.schema);return Hg(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:i}):s.setMark(a,e)},X8=(t,e,n={})=>({state:r,commands:s})=>{const i=yt(t,r.schema),a=yt(e,r.schema),c=ti(r,i,n);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),c?s.setNode(a,u):s.setNode(i,{...u,...n})},Q8=(t,e={})=>({state:n,commands:r})=>{const s=yt(t,n.schema);return ti(n,s,e)?r.lift(s):r.wrapIn(s,e)},Z8=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const a=t.tr,c=i.transform;for(let u=c.steps.length-1;u>=0;u-=1)a.step(c.steps[u].invert(c.docs[u]));if(i.text){const u=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,t.schema.text(i.text,u))}else a.delete(i.from,i.to)}return!0}}return!1},e7=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},t7=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=n,u=ss(t,r.schema),{$from:f,empty:h,ranges:m}=c;if(!s)return!0;if(h&&a){let{from:x,to:y}=c;const w=(i=f.marks().find(S=>S.type===u))==null?void 0:i.attrs,k=g0(f,u,w);k&&(x=k.from,y=k.to),n.removeMark(x,y,u)}else m.forEach(x=>{n.removeMark(x.$from.pos,x.$to.pos,u)});return n.removeStoredMark(u),!0},n7=t=>({tr:e,state:n,dispatch:r})=>{const{selection:s}=n;let i,a;return typeof t=="number"?(i=t,a=t):t&&"from"in t&&"to"in t?(i=t.from,a=t.to):(i=s.from,a=s.to),r&&e.doc.nodesBetween(i,a,(c,u)=>{if(c.isText)return;const f={...c.attrs};delete f.dir,e.setNodeMarkup(u,void 0,f)}),!0},r7=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,a=null;const c=zf(typeof t=="string"?t:t.name,r.schema);if(!c)return!1;c==="node"&&(i=yt(t,r.schema)),c==="mark"&&(a=ss(t,r.schema));let u=!1;return n.selection.ranges.forEach(f=>{const h=f.$from.pos,m=f.$to.pos;let x,y,w,k;n.selection.empty?r.doc.nodesBetween(h,m,(S,C)=>{i&&i===S.type&&(u=!0,w=Math.max(C,h),k=Math.min(C+S.nodeSize,m),x=C,y=S)}):r.doc.nodesBetween(h,m,(S,C)=>{C<h&&i&&i===S.type&&(u=!0,w=Math.max(C,h),k=Math.min(C+S.nodeSize,m),x=C,y=S),C>=h&&C<=m&&(i&&i===S.type&&(u=!0,s&&n.setNodeMarkup(C,void 0,{...S.attrs,...e})),a&&S.marks.length&&S.marks.forEach(M=>{if(a===M.type&&(u=!0,s)){const A=Math.max(C,h),D=Math.min(C+S.nodeSize,m);n.addMark(A,D,a.create({...M.attrs,...e}))}}))}),y&&(x!==void 0&&s&&n.setNodeMarkup(x,void 0,{...y.attrs,...e}),a&&y.marks.length&&y.marks.forEach(S=>{a===S.type&&s&&n.addMark(w,k,a.create({...S.attrs,...e}))}))}),u},s7=(t,e={})=>({state:n,dispatch:r})=>{const s=yt(t,n.schema);return DO(s,e)(n,r)},i7=(t,e={})=>({state:n,dispatch:r})=>{const s=yt(t,n.schema);return IO(s,e)(n,r)},o7=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Vf=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},a7=(t,e)=>{if(m0(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Bu(t){var e;const{editor:n,from:r,to:s,text:i,rules:a,plugin:c}=t,{view:u}=n;if(u.composing)return!1;const f=u.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(x=>x.type.spec.code))return!1;let h=!1;const m=D8(f)+i;return a.forEach(x=>{if(h)return;const y=a7(m,x.find);if(!y)return;const w=u.state.tr,k=Lf({state:u.state,transaction:w}),S={from:r-(y[0].length-i.length),to:s},{commands:C,chain:M,can:A}=new _f({editor:n,state:k});x.handler({state:k,range:S,match:y,commands:C,chain:M,can:A})===null||!w.steps.length||(x.undoable&&w.setMeta(c,{transform:w,from:r,to:s,text:i}),u.dispatch(w),h=!0)}),h}function l7(t){const{editor:e,rules:n}=t,r=new it({state:{init(){return null},apply(s,i,a){const c=s.getMeta(r);if(c)return c;const u=s.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:h}=u;typeof h=="string"?h=h:h=y0(Z.from(h),a.schema);const{from:m}=u,x=m+h.length;Bu({editor:e,from:m,to:x,text:h,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,a,c){return Bu({editor:e,from:i,to:a,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Bu({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?Bu({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function c7(t){return Object.prototype.toString.call(t).slice(8,-1)}function Vu(t){return c7(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function pE(t,e){const n={...t};return Vu(t)&&Vu(e)&&Object.keys(e).forEach(r=>{Vu(e[r])&&Vu(t[r])?n[r]=pE(t[r],e[r]):n[r]=e[r]}),n}var w0=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Ke(Ne(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ke(Ne(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>pE(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},co=class hE extends w0{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new hE(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(f=>(f==null?void 0:f.type.name)===n.name))return!1;const u=a.find(f=>(f==null?void 0:f.type.name)===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function u7(t){return typeof t=="number"}var d7=class{constructor(t){this.find=t.find,this.handler=t.handler}},f7=(t,e,n)=>{if(m0(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function p7(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:a,dropEvent:c}=t,{commands:u,chain:f,can:h}=new _f({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,s,(y,w)=>{var k,S,C,M,A;if((S=(k=y.type)==null?void 0:k.spec)!=null&&S.code||!(y.isText||y.isTextblock||y.isInline))return;const D=(A=(M=(C=y.content)==null?void 0:C.size)!=null?M:y.nodeSize)!=null?A:0,j=Math.max(r,w),I=Math.min(s,w+D);if(j>=I)return;const L=y.isText?y.text||"":y.textBetween(j-w,I-w,void 0,"");f7(L,i.find,a).forEach(K=>{if(K.index===void 0)return;const X=j+K.index+1,W=X+K[0].length,Y={from:n.tr.mapping.map(X),to:n.tr.mapping.map(W)},be=i.handler({state:n,range:Y,match:K,commands:u,chain:f,can:h,pasteEvent:a,dropEvent:c});m.push(be)})}),m.every(y=>y!==null)}var $u=null,h7=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function m7(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const u=({state:h,from:m,to:x,rule:y,pasteEvt:w})=>{const k=h.tr,S=Lf({state:h,transaction:k});if(!(!p7({editor:e,state:S,from:Math.max(m-1,0),to:x.b-1,rule:y,pasteEvent:w,dropEvent:c})||!k.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return n.map(h=>new it({view(m){const x=w=>{var k;r=(k=m.dom.parentElement)!=null&&k.contains(w.target)?m.dom.parentElement:null,r&&($u=e)},y=()=>{$u&&($u=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(m,x)=>{if(i=r===m.dom.parentElement,c=x,!i){const y=$u;y!=null&&y.isEditable&&setTimeout(()=>{const w=y.state.selection;w&&y.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(m,x)=>{var y;const w=(y=x.clipboardData)==null?void 0:y.getData("text/html");return a=x,s=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(m,x,y)=>{const w=m[0],k=w.getMeta("uiEvent")==="paste"&&!s,S=w.getMeta("uiEvent")==="drop"&&!i,C=w.getMeta("applyPasteRules"),M=!!C;if(!k&&!S&&!M)return;if(M){let{text:j}=C;typeof j=="string"?j=j:j=y0(Z.from(j),y.schema);const{from:I}=C,L=I+j.length,P=h7(j);return u({rule:h,state:y,from:I,to:{b:L},pasteEvt:P})}const A=x.doc.content.findDiffStart(y.doc.content),D=x.doc.content.findDiffEnd(y.doc.content);if(!(!u7(A)||!D||A===D.b))return u({rule:h,state:y,from:A,to:D,pasteEvt:a})}}))}var $f=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=iE(t),this.schema=E8(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Fu(e.name,this.schema)},r=Ne(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Bd([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Fu(r.name,this.schema)},i=[],a=Ne(r,"addKeyboardShortcuts",s);let c={};if(r.type==="mark"&&Ne(r,"exitable",s)&&(c.ArrowRight=()=>co.handleExit({editor:t,mark:r})),a){const x=Object.fromEntries(Object.entries(a()).map(([y,w])=>[y,()=>w({editor:t})]));c={...c,...x}}const u=AL(c);i.push(u);const f=Ne(r,"addInputRules",s);if(hk(r,t.options.enableInputRules)&&f){const x=f();if(x&&x.length){const y=l7({editor:t,rules:x}),w=Array.isArray(y)?y:[y];i.push(...w)}}const h=Ne(r,"addPasteRules",s);if(hk(r,t.options.enablePasteRules)&&h){const x=h();if(x&&x.length){const y=m7({editor:t,rules:x});i.push(...y)}}const m=Ne(r,"addProseMirrorPlugins",s);if(m){const x=m();i.push(...x)}return i})}get attributes(){return sE(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=pa(this.extensions);return Object.fromEntries(e.filter(n=>!!Ne(n,"addNodeView")).map(n=>{const r=this.attributes.filter(u=>u.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:yt(n.name,this.schema)},i=Ne(n,"addNodeView",s);if(!i)return[];const a=i();if(!a)return[];const c=(u,f,h,m,x)=>{const y=Ql(u,r);return a({node:u,view:f,getPos:h,decorations:m,innerDecorations:x,editor:t,extension:n,HTMLAttributes:y})};return[n.name,c]}))}dispatchTransaction(t){const{editor:e}=this;return Bd([...this.extensions].reverse()).reduceRight((r,s)=>{const i={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:e,type:Fu(s.name,this.schema)},a=Ne(s,"dispatchTransaction",i);return a?c=>{a.call(i,{transaction:c,next:r})}:r},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=pa(this.extensions);return Object.fromEntries(e.filter(n=>!!Ne(n,"addMarkView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ss(n.name,this.schema)},i=Ne(n,"addMarkView",s);if(!i)return[];const a=(c,u,f)=>{const h=Ql(c,r);return i()({mark:c,view:u,inline:f,editor:t,extension:n,HTMLAttributes:h,updateAttributes:m=>{A7(c,t,m)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Fu(e.name,this.schema)};e.type==="mark"&&((n=Ke(Ne(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=Ne(e,"onBeforeCreate",r),i=Ne(e,"onCreate",r),a=Ne(e,"onUpdate",r),c=Ne(e,"onSelectionUpdate",r),u=Ne(e,"onTransaction",r),f=Ne(e,"onFocus",r),h=Ne(e,"onBlur",r),m=Ne(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),a&&this.editor.on("update",a),c&&this.editor.on("selectionUpdate",c),u&&this.editor.on("transaction",u),f&&this.editor.on("focus",f),h&&this.editor.on("blur",h),m&&this.editor.on("destroy",m)})}};$f.resolve=iE;$f.sort=Bd;$f.flatten=x0;var g7={};h0(g7,{ClipboardTextSerializer:()=>gE,Commands:()=>xE,Delete:()=>yE,Drop:()=>vE,Editable:()=>wE,FocusEvents:()=>kE,Keymap:()=>SE,Paste:()=>CE,Tabindex:()=>NE,TextDirection:()=>EE,focusEventsPluginKey:()=>bE});var ft=class mE extends w0{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new mE(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},gE=ft.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new it({key:new Et("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,a=Math.min(...i.map(h=>h.$from.pos)),c=Math.max(...i.map(h=>h.$to.pos)),u=aE(n);return oE(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),xE=ft.create({name:"commands",addCommands(){return{...YN}}}),yE=ft.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const i=()=>{var a,c,u,f;if((f=(u=(c=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:c.filterTransaction)==null?void 0:u.call(c,t))!=null?f:t.getMeta("y-sync$"))return;const h=nE(t.before,[t,...e]);cE(h).forEach(y=>{h.mapping.mapResult(y.oldRange.from).deletedAfter&&h.mapping.mapResult(y.oldRange.to).deletedBefore&&h.before.nodesBetween(y.oldRange.from,y.oldRange.to,(w,k)=>{const S=k+w.nodeSize-2,C=y.oldRange.from<=k&&S<=y.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:k,to:S,newFrom:h.mapping.map(k),newTo:h.mapping.map(S),deletedRange:y.oldRange,newRange:y.newRange,partial:!C,editor:this.editor,transaction:t,combinedTransform:h})})});const x=h.mapping;h.steps.forEach((y,w)=>{var k,S;if(y instanceof or){const C=x.slice(w).map(y.from,-1),M=x.slice(w).map(y.to),A=x.invert().map(C,-1),D=x.invert().map(M),j=(k=h.doc.nodeAt(C-1))==null?void 0:k.marks.some(L=>L.eq(y.mark)),I=(S=h.doc.nodeAt(M))==null?void 0:S.marks.some(L=>L.eq(y.mark));this.editor.emit("delete",{type:"mark",mark:y.mark,from:y.from,to:y.to,deletedRange:{from:A,to:D},newRange:{from:C,to:M},partial:!!(I||j),editor:this.editor,transaction:t,combinedTransform:h})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(i,0):i()}}),vE=ft.create({name:"drop",addProseMirrorPlugins(){return[new it({key:new Et("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),wE=ft.create({name:"editable",addProseMirrorPlugins(){return[new it({key:new Et("editable"),props:{editable:()=>this.editor.options.editable}})]}}),bE=new Et("focusEvents"),kE=ft.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new it({key:bE,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),SE=ft.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:u,doc:f}=c,{empty:h,$anchor:m}=u,{pos:x,parent:y}=m,w=m.parent.isTextblock&&x>0?c.doc.resolve(x-1):m,k=w.parent.type.spec.isolating,S=m.pos-m.parentOffset,C=k&&w.parent.childCount===1?S===m.pos:ze.atStart(f).from===x;return!h||!y.type.isTextblock||y.textContent.length||!C||C&&m.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Fd()||eE()?i:s},addProseMirrorPlugins(){return[new it({key:new Et("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(k=>k.getMeta("composition")))return;const r=t.some(k=>k.docChanged)&&!e.doc.eq(n.doc),s=t.some(k=>k.getMeta("preventClearDocument"));if(!r||s)return;const{empty:i,from:a,to:c}=e.selection,u=ze.atStart(e.doc).from,f=ze.atEnd(e.doc).to;if(i||!(a===u&&c===f)||!Bf(n.doc))return;const x=n.tr,y=Lf({state:n,transaction:x}),{commands:w}=new _f({editor:this.editor,state:y});if(w.clearNodes(),!!x.steps.length)return x}})]}}),CE=ft.create({name:"paste",addProseMirrorPlugins(){return[new it({key:new Et("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),NE=ft.create({name:"tabindex",addProseMirrorPlugins(){return[new it({key:new Et("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),EE=ft.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=pa(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new it({key:new Et("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),x7=class Go{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Go(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Go(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Go(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,i=n.isAtom&&!n.isText,a=this.pos+r+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(a);if(!s&&c.depth<=this.depth)return;const u=new Go(c,this.editor,s,s?n:null);s&&(u.actualDepth=this.depth+1),e.push(new Go(c,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const i=s.node.attrs,a=Object.keys(n);for(let c=0;c<a.length;c+=1){const u=a[c];if(i[u]!==n[u])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(n);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&i.every(u=>n[u]===a.node.attrs[u])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},y7=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function v7(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var w7=class extends o7{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:_8,createMappablePosition:z8},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:i})=>this.options.onDrop(r,s,i)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=QN(e,this.options.autofocus);this.editorState=Zo.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=v7(y7,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=rE(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;n=n.filter(a=>!a.key.startsWith(i))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[wE,gE.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),xE,kE,SE,NE,vE,CE,yE,EE.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new $f(r,this)}createCommandManager(){this.commandManager=new _f({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=$g(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=$g(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,r=e.dispatchTransaction||this.dispatchTransaction.bind(this),s=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new GN(t,{...e,attributes:{role:"textbox",...e==null?void 0:e.attributes},dispatchTransaction:s,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.prependClass(),this.injectCSS();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(f=>{var h;return(h=this.capturedTransaction)==null?void 0:h.step(f)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),c=a==null?void 0:a.getMeta("focus"),u=a==null?void 0:a.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:a}),u&&this.emit("blur",{editor:this,event:u.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(f=>f.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return lE(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return I8(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return y0(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return T8(this.state.doc,{blockSeparator:e,textSerializers:{...aE(this.schema),...n}})}get isEmpty(){return Bf(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new x7(e,this)}get $doc(){return this.$pos(0)}};function ha(t){return new Vf({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ke(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,a=r[r.length-1],c=r[0];if(a){const u=c.search(/\S/),f=n.from+c.indexOf(a),h=f+a.length;if(v0(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(k=>k===t.type&&k!==y.mark.type)).filter(y=>y.to>f).length)return null;h<n.to&&i.delete(h,n.to),f>n.from&&i.delete(n.from+u,f);const x=n.from+u+a.length;i.addMark(n.from+u,x,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function b7(t){return new Vf({find:t.find,handler:({state:e,range:n,match:r})=>{const s=Ke(t.getAttributes,void 0,r)||{},{tr:i}=e,a=n.from;let c=n.to;const u=t.type.create(s);if(r[1]){const f=r[0].lastIndexOf(r[1]);let h=a+f;h>c?h=c:c=h+r[1].length;const m=r[0][r[0].length-1];i.insertText(m,a+r[0].length-1),i.replaceWith(h,c,u)}else if(r[0]){const f=t.type.isInline?a:a-1;i.insert(f,t.type.create(s)).delete(i.mapping.map(a),i.mapping.map(c))}i.scrollIntoView()},undoable:t.undoable})}function Wg(t){return new Vf({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=Ke(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)},undoable:t.undoable})}function ma(t){return new Vf({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=Ke(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),u=a.doc.resolve(n.from).blockRange(),f=u&&Qx(u,t.type,i);if(!f)return null;if(a.wrap(u,f),t.keepMarks&&t.editor){const{selection:m,storedMarks:x}=e,{splittableMarks:y}=t.editor.extensionManager,w=x||m.$to.parentOffset&&m.$from.marks();if(w){const k=w.filter(S=>y.includes(S.type.name));a.ensureMarks(k)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,i).run()}const h=a.doc.resolve(n.from-1).nodeBefore;h&&h.type===t.type&&ii(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,h))&&a.join(n.from-1)},undoable:t.undoable})}function k7(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof Ee){const i=r.index();return r.parent.canReplaceWith(i,i+1,e)}let s=r.depth;for(;s>=0;){const i=r.index(s);if(r.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}var S7={};h0(S7,{createAtomBlockMarkdownSpec:()=>C7,createBlockMarkdownSpec:()=>N7,createInlineMarkdownSpec:()=>T7,parseAttributes:()=>b0,parseIndentedBlocks:()=>Ug,renderNestedMarkdownContent:()=>S0,serializeAttributes:()=>k0});function b0(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,f=>(n.push(f),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const f=s.map(h=>h.trim().slice(1));e.class=f.join(" ")}const i=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);i&&(e.id=i[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,f,h])=>{var m;const x=parseInt(((m=h.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),y=n[x];y&&(e[f]=y.slice(1,-1))});const u=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return u&&u.split(/\s+/).filter(Boolean).forEach(h=>{h.match(/^[a-zA-Z][\w-]*$/)&&(e[h]=!0)}),e}function k0(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function C7(t){const{nodeName:e,name:n,parseAttributes:r=b0,serializeAttributes:s=k0,defaultAttributes:i={},requiredAttributes:a=[],allowedAttributes:c}=t,u=n||e,f=h=>{if(!c)return h;const m={};return c.forEach(x=>{x in h&&(m[x]=h[x])}),m};return{parseMarkdown:(h,m)=>{const x={...i,...h.attributes};return m.createNode(e,x,[])},markdownTokenizer:{name:e,level:"block",start(h){var m;const x=new RegExp(`^:::${u}(?:\\s|$)`,"m"),y=(m=h.match(x))==null?void 0:m.index;return y!==void 0?y:-1},tokenize(h,m,x){const y=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),w=h.match(y);if(!w)return;const k=w[1]||"",S=r(k);if(!a.find(M=>!(M in S)))return{type:e,raw:w[0],attributes:S}}},renderMarkdown:h=>{const m=f(h.attrs||{}),x=s(m),y=x?` {${x}}`:"";return`:::${u}${y} :::`}}}function N7(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=b0,serializeAttributes:i=k0,defaultAttributes:a={},content:c="block",allowedAttributes:u}=t,f=n||e,h=m=>{if(!u)return m;const x={};return u.forEach(y=>{y in m&&(x[y]=m[y])}),x};return{parseMarkdown:(m,x)=>{let y;if(r){const k=r(m);y=typeof k=="string"?[{type:"text",text:k}]:k}else c==="block"?y=x.parseChildren(m.tokens||[]):y=x.parseInline(m.tokens||[]);const w={...a,...m.attributes};return x.createNode(e,w,y)},markdownTokenizer:{name:e,level:"block",start(m){var x;const y=new RegExp(`^:::${f}`,"m"),w=(x=m.match(y))==null?void 0:x.index;return w!==void 0?w:-1},tokenize(m,x,y){var w;const k=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),S=m.match(k);if(!S)return;const[C,M=""]=S,A=s(M);let D=1;const j=C.length;let I="";const L=/^:::([\w-]*)(\s.*)?/gm,P=m.slice(j);for(L.lastIndex=0;;){const K=L.exec(P);if(K===null)break;const X=K.index,W=K[1];if(!((w=K[2])!=null&&w.endsWith(":::"))){if(W)D+=1;else if(D-=1,D===0){const Y=P.slice(0,X);I=Y.trim();const be=m.slice(0,j+X+K[0].length);let le=[];if(I)if(c==="block")for(le=y.blockTokens(Y),le.forEach(ye=>{ye.text&&(!ye.tokens||ye.tokens.length===0)&&(ye.tokens=y.inlineTokens(ye.text))});le.length>0;){const ye=le[le.length-1];if(ye.type==="paragraph"&&(!ye.text||ye.text.trim()===""))le.pop();else break}else le=y.inlineTokens(I);return{type:e,raw:be,attributes:A,content:I,tokens:le}}}}}},renderMarkdown:(m,x)=>{const y=h(m.attrs||{}),w=i(y),k=w?` {${w}}`:"",S=x.renderChildren(m.content||[],`

`);return`:::${f}${k}

${S}

:::`}}}function E7(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,i,a]=r;e[s]=i||a,r=n.exec(t)}return e}function M7(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function T7(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=E7,serializeAttributes:i=M7,defaultAttributes:a={},selfClosing:c=!1,allowedAttributes:u}=t,f=n||e,h=x=>{if(!u)return x;const y={};return u.forEach(w=>{const k=typeof w=="string"?w:w.name,S=typeof w=="string"?void 0:w.skipIfDefault;if(k in x){const C=x[k];if(S!==void 0&&C===S)return;y[k]=C}}),y},m=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(x,y)=>{const w={...a,...x.attributes};if(c)return y.createNode(e,w);const k=r?r(x):x.content||"";return k?y.createNode(e,w,[y.createTextNode(k)]):y.createNode(e,w,[])},markdownTokenizer:{name:e,level:"inline",start(x){const y=c?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),w=x.match(y),k=w==null?void 0:w.index;return k!==void 0?k:-1},tokenize(x,y,w){const k=c?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),S=x.match(k);if(!S)return;let C="",M="";if(c){const[,D]=S;M=D}else{const[,D,j]=S;M=D,C=j||""}const A=s(M.trim());return{type:e,raw:S[0],content:C.trim(),attributes:A}}},renderMarkdown:x=>{let y="";r?y=r(x):x.content&&x.content.length>0&&(y=x.content.filter(C=>C.type==="text").map(C=>C.text).join(""));const w=h(x.attrs||{}),k=i(w),S=k?` ${k}`:"";return c?`[${f}${S}]`:`[${f}${S}]${y}[/${f}]`}}}function Ug(t,e,n){var r,s,i,a;const c=t.split(`
`),u=[];let f="",h=0;const m=e.baseIndentSize||2;for(;h<c.length;){const x=c[h],y=x.match(e.itemPattern);if(!y){if(u.length>0)break;if(x.trim()===""){h+=1,f=`${f}${x}
`;continue}else return}const w=e.extractItemData(y),{indentLevel:k,mainContent:S}=w;f=`${f}${x}
`;const C=[S];for(h+=1;h<c.length;){const j=c[h];if(j.trim()===""){const L=c.slice(h+1).findIndex(X=>X.trim()!=="");if(L===-1)break;if((((s=(r=c[h+1+L].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>k){C.push(j),f=`${f}${j}
`,h+=1;continue}else break}if((((a=(i=j.match(/^(\s*)/))==null?void 0:i[1])==null?void 0:a.length)||0)>k)C.push(j),f=`${f}${j}
`,h+=1;else break}let M;const A=C.slice(1);if(A.length>0){const j=A.map(I=>I.slice(k+m)).join(`
`);j.trim()&&(e.customNestedParser?M=e.customNestedParser(j):M=n.blockTokens(j))}const D=e.createToken(w,M);u.push(D)}if(u.length!==0)return{items:u,raw:f}}function S0(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[i,...a]=t.content,c=e.renderChildren([i]),u=[`${s}${c}`];return a&&a.length>0&&a.forEach(f=>{const h=e.renderChildren([f]);if(h){const m=h.split(`
`).map(x=>x?e.indent(x):"").join(`
`);u.push(m)}}),u.join(`
`)}function A7(t,e,n={}){const{state:r}=e,{doc:s,tr:i}=r,a=t;s.descendants((c,u)=>{const f=i.mapping.map(u),h=i.mapping.map(u)+c.nodeSize;let m=null;if(c.marks.forEach(y=>{if(y!==a)return!1;m=y}),!m)return;let x=!1;if(Object.keys(n).forEach(y=>{n[y]!==m.attrs[y]&&(x=!0)}),x){const y=t.type.create({...t.attrs,...n});i.removeMark(f,h,t.type),i.addMark(f,h,y)}}),i.docChanged&&e.view.dispatch(i)}var jn=class ME extends w0{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new ME(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function so(t){return new d7({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=Ke(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:a}=e,c=r[r.length-1],u=r[0];let f=n.to;if(c){const h=u.search(/\S/),m=n.from+u.indexOf(c),x=m+c.length;if(v0(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(S=>S===t.type&&S!==w.mark.type)).filter(w=>w.to>m).length)return null;x<n.to&&a.delete(x,n.to),m>n.from&&a.delete(n.from+h,m),f=n.from+h+c.length,a.addMark(n.from+h,f,t.type.create(i||{})),a.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:j7,getOwnPropertySymbols:R7}=Object,{hasOwnProperty:P7}=Object.prototype;function Em(t,e){return function(r,s,i){return t(r,s,i)&&e(r,s,i)}}function Hu(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);const{cache:i}=s,a=i.get(n),c=i.get(r);if(a&&c)return a===r&&c===n;i.set(n,r),i.set(r,n);const u=t(n,r,s);return i.delete(n),i.delete(r),u}}function D7(t){return t!=null?t[Symbol.toStringTag]:void 0}function xk(t){return j7(t).concat(R7(t))}const I7=Object.hasOwn||((t,e)=>P7.call(t,e));function uo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const O7="__v",L7="__o",_7="_owner",{getOwnPropertyDescriptor:yk,keys:vk}=Object;function z7(t,e){return t.byteLength===e.byteLength&&Vd(new Uint8Array(t),new Uint8Array(e))}function F7(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function B7(t,e){return t.byteLength===e.byteLength&&Vd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function V7(t,e){return uo(t.getTime(),e.getTime())}function $7(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function H7(t,e){return t===e}function wk(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.entries();let a,c,u=0;for(;(a=i.next())&&!a.done;){const f=e.entries();let h=!1,m=0;for(;(c=f.next())&&!c.done;){if(s[m]){m++;continue}const x=a.value,y=c.value;if(n.equals(x[0],y[0],u,m,t,e,n)&&n.equals(x[1],y[1],x[0],y[0],t,e,n)){h=s[m]=!0;break}m++}if(!h)return!1;u++}return!0}const W7=uo;function U7(t,e,n){const r=vk(t);let s=r.length;if(vk(e).length!==s)return!1;for(;s-- >0;)if(!TE(t,e,n,r[s]))return!1;return!0}function pl(t,e,n){const r=xk(t);let s=r.length;if(xk(e).length!==s)return!1;let i,a,c;for(;s-- >0;)if(i=r[s],!TE(t,e,n,i)||(a=yk(t,i),c=yk(e,i),(a||c)&&(!a||!c||a.configurable!==c.configurable||a.enumerable!==c.enumerable||a.writable!==c.writable)))return!1;return!0}function K7(t,e){return uo(t.valueOf(),e.valueOf())}function G7(t,e){return t.source===e.source&&t.flags===e.flags}function bk(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.values();let a,c;for(;(a=i.next())&&!a.done;){const u=e.values();let f=!1,h=0;for(;(c=u.next())&&!c.done;){if(!s[h]&&n.equals(a.value,c.value,a.value,c.value,t,e,n)){f=s[h]=!0;break}h++}if(!f)return!1}return!0}function Vd(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function q7(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function TE(t,e,n,r){return(r===_7||r===L7||r===O7)&&(t.$$typeof||e.$$typeof)?!0:I7(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Y7="[object ArrayBuffer]",J7="[object Arguments]",X7="[object Boolean]",Q7="[object DataView]",Z7="[object Date]",e_="[object Error]",t_="[object Map]",n_="[object Number]",r_="[object Object]",s_="[object RegExp]",i_="[object Set]",o_="[object String]",a_={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},l_="[object URL]",c_=Object.prototype.toString;function u_({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:a,areNumbersEqual:c,areObjectsEqual:u,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:m,areTypedArraysEqual:x,areUrlsEqual:y,unknownTagComparators:w}){return function(S,C,M){if(S===C)return!0;if(S==null||C==null)return!1;const A=typeof S;if(A!==typeof C)return!1;if(A!=="object")return A==="number"?c(S,C,M):A==="function"?i(S,C,M):!1;const D=S.constructor;if(D!==C.constructor)return!1;if(D===Object)return u(S,C,M);if(Array.isArray(S))return e(S,C,M);if(D===Date)return r(S,C,M);if(D===RegExp)return h(S,C,M);if(D===Map)return a(S,C,M);if(D===Set)return m(S,C,M);const j=c_.call(S);if(j===Z7)return r(S,C,M);if(j===s_)return h(S,C,M);if(j===t_)return a(S,C,M);if(j===i_)return m(S,C,M);if(j===r_)return typeof S.then!="function"&&typeof C.then!="function"&&u(S,C,M);if(j===l_)return y(S,C,M);if(j===e_)return s(S,C,M);if(j===J7)return u(S,C,M);if(a_[j])return x(S,C,M);if(j===Y7)return t(S,C,M);if(j===Q7)return n(S,C,M);if(j===X7||j===n_||j===o_)return f(S,C,M);if(w){let I=w[j];if(!I){const L=D7(S);L&&(I=w[L])}if(I)return I(S,C,M)}return!1}}function d_({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:z7,areArraysEqual:n?pl:F7,areDataViewsEqual:B7,areDatesEqual:V7,areErrorsEqual:$7,areFunctionsEqual:H7,areMapsEqual:n?Em(wk,pl):wk,areNumbersEqual:W7,areObjectsEqual:n?pl:U7,arePrimitiveWrappersEqual:K7,areRegExpsEqual:G7,areSetsEqual:n?Em(bk,pl):bk,areTypedArraysEqual:n?Em(Vd,pl):Vd,areUrlsEqual:q7,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const s=Hu(r.areArraysEqual),i=Hu(r.areMapsEqual),a=Hu(r.areObjectsEqual),c=Hu(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:a,areSetsEqual:c})}return r}function f_(t){return function(e,n,r,s,i,a,c){return t(e,n,c)}}function p_({circular:t,comparator:e,createState:n,equals:r,strict:s}){if(n)return function(c,u){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(c,u,{cache:f,equals:r,meta:h,strict:s})};if(t)return function(c,u){return e(c,u,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(c,u){return e(c,u,i)}}const h_=ai();ai({strict:!0});ai({circular:!0});ai({circular:!0,strict:!0});ai({createInternalComparator:()=>uo});ai({strict:!0,createInternalComparator:()=>uo});ai({circular:!0,createInternalComparator:()=>uo});ai({circular:!0,createInternalComparator:()=>uo,strict:!0});function ai(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:s=!1}=t,i=d_(t),a=u_(i),c=n?n(a):f_(a);return p_({circular:e,comparator:a,createState:r,equals:c,strict:s})}var Mm={exports:{}},Tm={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kk;function m_(){if(kk)return Tm;kk=1;var t=ic(),e=vC();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,i=t.useRef,a=t.useEffect,c=t.useMemo,u=t.useDebugValue;return Tm.useSyncExternalStoreWithSelector=function(f,h,m,x,y){var w=i(null);if(w.current===null){var k={hasValue:!1,value:null};w.current=k}else k=w.current;w=c(function(){function C(I){if(!M){if(M=!0,A=I,I=x(I),y!==void 0&&k.hasValue){var L=k.value;if(y(L,I))return D=L}return D=I}if(L=D,r(A,I))return L;var P=x(I);return y!==void 0&&y(L,P)?(A=I,L):(A=I,D=P)}var M=!1,A,D,j=m===void 0?null:m;return[function(){return C(h())},j===null?void 0:function(){return C(j())}]},[h,m,x,y]);var S=s(f,w[0],w[1]);return a(function(){k.hasValue=!0,k.value=S},[S]),u(S),S},Tm}var Sk;function g_(){return Sk||(Sk=1,Mm.exports=m_()),Mm.exports}var x_=g_(),y_=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},v_=({contentComponent:t})=>{const e=wC.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return p.jsx(p.Fragment,{children:Object.values(e)})};function w_(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:yC.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var b_=class extends nn.Component{constructor(t){var e;super(t),this.editorContentRef=nn.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=w_(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return p.jsxs(p.Fragment,{children:[p.jsx("div",{ref:y_(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&p.jsx(v_,{contentComponent:t.contentComponent})]})}},k_=N.forwardRef((t,e)=>{const n=nn.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return nn.createElement(b_,{key:n,innerRef:e,...t})}),S_=nn.memo(k_),C_=typeof window<"u"?N.useLayoutEffect:N.useEffect,N_=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function E_(t){var e;const[n]=N.useState(()=>new N_(t.editor)),r=x_.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:h_);return C_(()=>n.watch(t.editor),[t.editor,n]),N.useDebugValue(r),r}var M_=!1,Kg=typeof window>"u",T_=Kg||!!(typeof window<"u"&&window.next),A_=class AE{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Kg||T_?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...r)},onBlur:(...r)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...r)},onCreate:(...r)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...r)},onDestroy:(...r)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...r)},onFocus:(...r)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...r)},onSelectionUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...r)},onTransaction:(...r)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...r)},onUpdate:(...r)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...r)},onContentError:(...r)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...r)},onDrop:(...r)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...r)},onPaste:(...r)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...r)},onDelete:(...r)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...r)}};return new w7(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,i)=>{var a;return s===((a=n.extensions)==null?void 0:a[i])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?AE.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function j_(t={},e=[]){const n=N.useRef(t);n.current=t;const[r]=N.useState(()=>new A_(n)),s=wC.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return N.useDebugValue(s),N.useEffect(r.onRender(e)),E_({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var R_=N.createContext({editor:null});R_.Consumer;var P_=N.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),D_=()=>N.useContext(P_);nn.forwardRef((t,e)=>{const{onDragStart:n}=D_(),r=t.as||"div";return p.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});nn.createContext({markViewContentRef:()=>{}});var $d=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},I_=/^\s*>\s$/,O_=jn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return $d("blockquote",{...vt(this.options.HTMLAttributes,t),children:$d("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(s=>{const c=e.renderChildren([s]).split(`
`).map(u=>u.trim()===""?n:`${n} ${u}`);r.push(c.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ma({find:I_,type:this.type})]}}),L_=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,__=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,z_=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,F_=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,B_=co.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return $d("strong",{...vt(this.options.HTMLAttributes,t),children:$d("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ha({find:L_,type:this.type}),ha({find:z_,type:this.type})]},addPasteRules(){return[so({find:__,type:this.type}),so({find:F_,type:this.type})]}}),V_=/(^|[^`])`([^`]+)`(?!`)$/,$_=/(^|[^`])`([^`]+)`(?!`)/g,H_=co.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",vt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ha({find:V_,type:this.type})]},addPasteRules(){return[so({find:$_,type:this.type})]}}),Am=4,W_=/^```([a-z]+)?[\s\n]$/,U_=/^~~~([a-z]+)?[\s\n]$/,K_=jn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Am,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",vt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Am,{state:r}=t,{selection:s}=r,{$from:i,empty:a}=s;if(i.parent.type!==this.type)return!1;const c=" ".repeat(n);return a?t.commands.insertContent(c):t.commands.command(({tr:u})=>{const{from:f,to:h}=s,y=r.doc.textBetween(f,h,`
`,`
`).split(`
`).map(w=>c+w).join(`
`);return u.replaceWith(f,h,r.schema.text(y)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Am,{state:r}=t,{selection:s}=r,{$from:i,empty:a}=s;return i.parent.type!==this.type?!1:a?t.commands.command(({tr:c})=>{var u;const{pos:f}=i,h=i.start(),m=i.end(),y=r.doc.textBetween(h,m,`
`,`
`).split(`
`);let w=0,k=0;const S=f-h;for(let I=0;I<y.length;I+=1){if(k+y[I].length>=S){w=I;break}k+=y[I].length+1}const M=((u=y[w].match(/^ */))==null?void 0:u[0])||"",A=Math.min(M.length,n);if(A===0)return!0;let D=h;for(let I=0;I<w;I+=1)D+=y[I].length+1;return c.delete(D,D+A),f-D<=A&&c.setSelection(De.create(c.doc,D)),!0}):t.commands.command(({tr:c})=>{const{from:u,to:f}=s,x=r.doc.textBetween(u,f,`
`,`
`).split(`
`).map(y=>{var w;const k=((w=y.match(/^ */))==null?void 0:w[0])||"",S=Math.min(k.length,n);return y.slice(S)}).join(`
`);return c.replaceWith(u,f,r.schema.text(x)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!i||!a?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:r.nodeAt(c)?t.commands.command(({tr:f})=>(f.setSelection(ze.near(r.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[Wg({find:W_,type:this.type,getAttributes:t=>({language:t[1]})}),Wg({find:U_,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new it({key:new Et("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,i=s==null?void 0:s.mode;if(!n||!i)return!1;const{tr:a,schema:c}=t.state,u=c.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:i},u)),a.selection.$from.parent.type!==this.type&&a.setSelection(De.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),G_=jn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),q_=jn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",vt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,u=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:h})=>{if(h&&u&&a){const m=u.filter(x=>c.includes(x.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Y_=jn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,vt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(r);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Wg({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),J_=jn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",vt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!k7(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return uE(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:a,dispatch:c})=>{if(c){const{$to:u}=a.selection,f=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(De.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(Ee.create(a.doc,u.pos)):a.setSelection(De.create(a.doc,u.pos));else{const h=i.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,m=h==null?void 0:h.create();m&&(a.insert(f,m),a.setSelection(De.create(a.doc,f+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[b7({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),X_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Q_=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Z_=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,e9=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,t9=co.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",vt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ha({find:X_,type:this.type}),ha({find:Z_,type:this.type})]},addPasteRules(){return[so({find:Q_,type:this.type}),so({find:e9,type:this.type})]}});const n9="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",r9="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Gg="numeric",qg="ascii",Yg="alpha",Dl="asciinumeric",bl="alphanumeric",Jg="domain",jE="emoji",s9="scheme",i9="slashscheme",jm="whitespace";function o9(t,e){return t in e||(e[t]=[]),e[t]}function Gi(t,e,n){e[Gg]&&(e[Dl]=!0,e[bl]=!0),e[qg]&&(e[Dl]=!0,e[Yg]=!0),e[Dl]&&(e[bl]=!0),e[Yg]&&(e[bl]=!0),e[bl]&&(e[Jg]=!0),e[jE]&&(e[Jg]=!0);for(const r in e){const s=o9(r,n);s.indexOf(t)<0&&s.push(t)}}function a9(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function yn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}yn.groups={};yn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||yn.groups;let s;return e&&e.j?s=e:(s=new yn(e),n&&r&&Gi(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let a=0;a<i-1;a++)s=s.tt(t[a]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||yn.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let a,c=s.go(t);if(c?(a=new yn,Object.assign(a.j,c.j),a.jr.push.apply(a.jr,c.jr),a.jd=c.jd,a.t=c.t):a=new yn,i){if(r)if(a.t&&typeof a.t=="string"){const u=Object.assign(a9(a.t,r),n);Gi(i,u,r)}else n&&Gi(i,n,r);a.t=i}return s.j[t]=a,a}};const _e=(t,e,n,r,s)=>t.ta(e,n,r,s),ct=(t,e,n,r,s)=>t.tr(e,n,r,s),Ck=(t,e,n,r,s)=>t.ts(e,n,r,s),ne=(t,e,n,r,s)=>t.tt(e,n,r,s),qr="WORD",Xg="UWORD",RE="ASCIINUMERICAL",PE="ALPHANUMERICAL",Zl="LOCALHOST",Qg="TLD",Zg="UTLD",cd="SCHEME",qo="SLASH_SCHEME",C0="NUM",ex="WS",N0="NL",Il="OPENBRACE",Ol="CLOSEBRACE",Hd="OPENBRACKET",Wd="CLOSEBRACKET",Ud="OPENPAREN",Kd="CLOSEPAREN",Gd="OPENANGLEBRACKET",qd="CLOSEANGLEBRACKET",Yd="FULLWIDTHLEFTPAREN",Jd="FULLWIDTHRIGHTPAREN",Xd="LEFTCORNERBRACKET",Qd="RIGHTCORNERBRACKET",Zd="LEFTWHITECORNERBRACKET",ef="RIGHTWHITECORNERBRACKET",tf="FULLWIDTHLESSTHAN",nf="FULLWIDTHGREATERTHAN",rf="AMPERSAND",sf="APOSTROPHE",of="ASTERISK",zs="AT",af="BACKSLASH",lf="BACKTICK",cf="CARET",$s="COLON",E0="COMMA",uf="DOLLAR",vr="DOT",df="EQUALS",M0="EXCLAMATION",Vn="HYPHEN",Ll="PERCENT",ff="PIPE",pf="PLUS",hf="POUND",_l="QUERY",T0="QUOTE",DE="FULLWIDTHMIDDLEDOT",A0="SEMI",wr="SLASH",zl="TILDE",mf="UNDERSCORE",IE="EMOJI",gf="SYM";var OE=Object.freeze({__proto__:null,ALPHANUMERICAL:PE,AMPERSAND:rf,APOSTROPHE:sf,ASCIINUMERICAL:RE,ASTERISK:of,AT:zs,BACKSLASH:af,BACKTICK:lf,CARET:cf,CLOSEANGLEBRACKET:qd,CLOSEBRACE:Ol,CLOSEBRACKET:Wd,CLOSEPAREN:Kd,COLON:$s,COMMA:E0,DOLLAR:uf,DOT:vr,EMOJI:IE,EQUALS:df,EXCLAMATION:M0,FULLWIDTHGREATERTHAN:nf,FULLWIDTHLEFTPAREN:Yd,FULLWIDTHLESSTHAN:tf,FULLWIDTHMIDDLEDOT:DE,FULLWIDTHRIGHTPAREN:Jd,HYPHEN:Vn,LEFTCORNERBRACKET:Xd,LEFTWHITECORNERBRACKET:Zd,LOCALHOST:Zl,NL:N0,NUM:C0,OPENANGLEBRACKET:Gd,OPENBRACE:Il,OPENBRACKET:Hd,OPENPAREN:Ud,PERCENT:Ll,PIPE:ff,PLUS:pf,POUND:hf,QUERY:_l,QUOTE:T0,RIGHTCORNERBRACKET:Qd,RIGHTWHITECORNERBRACKET:ef,SCHEME:cd,SEMI:A0,SLASH:wr,SLASH_SCHEME:qo,SYM:gf,TILDE:zl,TLD:Qg,UNDERSCORE:mf,UTLD:Zg,UWORD:Xg,WORD:qr,WS:ex});const Ur=/[a-z]/,hl=new RegExp("\\p{L}","u"),Rm=new RegExp("\\p{Emoji}","u"),Kr=/\d/,Pm=/\s/,Nk="\r",Dm=`
`,l9="",c9="",Im="";let Wu=null,Uu=null;function u9(t=[]){const e={};yn.groups=e;const n=new yn;Wu==null&&(Wu=Ek(n9)),Uu==null&&(Uu=Ek(r9)),ne(n,"'",sf),ne(n,"{",Il),ne(n,"}",Ol),ne(n,"[",Hd),ne(n,"]",Wd),ne(n,"(",Ud),ne(n,")",Kd),ne(n,"<",Gd),ne(n,">",qd),ne(n,"",Yd),ne(n,"",Jd),ne(n,"",Xd),ne(n,"",Qd),ne(n,"",Zd),ne(n,"",ef),ne(n,"",tf),ne(n,"",nf),ne(n,"&",rf),ne(n,"*",of),ne(n,"@",zs),ne(n,"`",lf),ne(n,"^",cf),ne(n,":",$s),ne(n,",",E0),ne(n,"$",uf),ne(n,".",vr),ne(n,"=",df),ne(n,"!",M0),ne(n,"-",Vn),ne(n,"%",Ll),ne(n,"|",ff),ne(n,"+",pf),ne(n,"#",hf),ne(n,"?",_l),ne(n,'"',T0),ne(n,"/",wr),ne(n,";",A0),ne(n,"~",zl),ne(n,"_",mf),ne(n,"\\",af),ne(n,"",DE);const r=ct(n,Kr,C0,{[Gg]:!0});ct(r,Kr,r);const s=ct(r,Ur,RE,{[Dl]:!0}),i=ct(r,hl,PE,{[bl]:!0}),a=ct(n,Ur,qr,{[qg]:!0});ct(a,Kr,s),ct(a,Ur,a),ct(s,Kr,s),ct(s,Ur,s);const c=ct(n,hl,Xg,{[Yg]:!0});ct(c,Ur),ct(c,Kr,i),ct(c,hl,c),ct(i,Kr,i),ct(i,Ur),ct(i,hl,i);const u=ne(n,Dm,N0,{[jm]:!0}),f=ne(n,Nk,ex,{[jm]:!0}),h=ct(n,Pm,ex,{[jm]:!0});ne(n,Im,h),ne(f,Dm,u),ne(f,Im,h),ct(f,Pm,h),ne(h,Nk),ne(h,Dm),ct(h,Pm,h),ne(h,Im,h);const m=ct(n,Rm,IE,{[jE]:!0});ne(m,"#"),ct(m,Rm,m),ne(m,l9,m);const x=ne(m,c9);ne(x,"#"),ct(x,Rm,m);const y=[[Ur,a],[Kr,s]],w=[[Ur,null],[hl,c],[Kr,i]];for(let k=0;k<Wu.length;k++)Rs(n,Wu[k],Qg,qr,y);for(let k=0;k<Uu.length;k++)Rs(n,Uu[k],Zg,Xg,w);Gi(Qg,{tld:!0,ascii:!0},e),Gi(Zg,{utld:!0,alpha:!0},e),Rs(n,"file",cd,qr,y),Rs(n,"mailto",cd,qr,y),Rs(n,"http",qo,qr,y),Rs(n,"https",qo,qr,y),Rs(n,"ftp",qo,qr,y),Rs(n,"ftps",qo,qr,y),Gi(cd,{scheme:!0,ascii:!0},e),Gi(qo,{slashscheme:!0,ascii:!0},e),t=t.sort((k,S)=>k[0]>S[0]?1:-1);for(let k=0;k<t.length;k++){const S=t[k][0],M=t[k][1]?{[s9]:!0}:{[i9]:!0};S.indexOf("-")>=0?M[Jg]=!0:Ur.test(S)?Kr.test(S)?M[Dl]=!0:M[qg]=!0:M[Gg]=!0,Ck(n,S,S,M)}return Ck(n,"localhost",Zl,{ascii:!0}),n.jd=new yn(gf),{start:n,tokens:Object.assign({groups:e},OE)}}function LE(t,e){const n=d9(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,s=[];let i=0,a=0;for(;a<r;){let c=t,u=null,f=0,h=null,m=-1,x=-1;for(;a<r&&(u=c.go(n[a]));)c=u,c.accepts()?(m=0,x=0,h=c):m>=0&&(m+=n[a].length,x++),f+=n[a].length,i+=n[a].length,a++;i-=m,a-=x,f-=m,s.push({t:h.t,v:e.slice(i-f,i),s:i-f,e:i})}return s}function d9(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,a=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Rs(t,e,n,r,s){let i;const a=e.length;for(let c=0;c<a-1;c++){const u=e[c];t.j[u]?i=t.j[u]:(i=new yn(r),i.jr=s.slice(),t.j[u]=i),t=i}return i=new yn(n),i.jr=s.slice(),t.j[e[a-1]]=i,i}function Ek(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+i),10);a>0;a--)n.pop();r+=i}else n.push(t[r]),r++}return e}const ec={defaultProtocol:"http",events:null,format:Mk,formatHref:Mk,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function j0(t,e=null){let n=Object.assign({},ec);t&&(n=Object.assign(n,t instanceof j0?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}j0.prototype={o:ec,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:ec[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Mk(t){return t}function _E(t,e){this.t="token",this.v=t,this.tk=e}_E.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=ec.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),a={},c=t.get("className",n,e),u=t.get("target",n,e),f=t.get("rel",n,e),h=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return a.href=r,c&&(a.class=c),u&&(a.target=u),f&&(a.rel=f),h&&Object.assign(a,h),{tagName:s,attributes:a,content:i,eventListeners:m}}};function Hf(t,e){class n extends _E{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Tk=Hf("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Ak=Hf("text"),f9=Hf("nl"),Ku=Hf("url",{isLink:!0,toHref(t=ec.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Zl&&t[1].t===$s}}),Fn=t=>new yn(t);function p9({groups:t}){const e=t.domain.concat([rf,of,zs,af,lf,cf,uf,df,Vn,C0,Ll,ff,pf,hf,wr,gf,zl,mf]),n=[sf,$s,E0,vr,M0,Ll,_l,T0,A0,Gd,qd,Il,Ol,Wd,Hd,Ud,Kd,Yd,Jd,Xd,Qd,Zd,ef,tf,nf],r=[rf,sf,of,af,lf,cf,uf,df,Vn,Il,Ol,Ll,ff,pf,hf,_l,wr,gf,zl,mf],s=Fn(),i=ne(s,zl);_e(i,r,i),_e(i,t.domain,i);const a=Fn(),c=Fn(),u=Fn();_e(s,t.domain,a),_e(s,t.scheme,c),_e(s,t.slashscheme,u),_e(a,r,i),_e(a,t.domain,a);const f=ne(a,zs);ne(i,zs,f),ne(c,zs,f),ne(u,zs,f);const h=ne(i,vr);_e(h,r,i),_e(h,t.domain,i);const m=Fn();_e(f,t.domain,m),_e(m,t.domain,m);const x=ne(m,vr);_e(x,t.domain,m);const y=Fn(Tk);_e(x,t.tld,y),_e(x,t.utld,y),ne(f,Zl,y);const w=ne(m,Vn);ne(w,Vn,w),_e(w,t.domain,m),_e(y,t.domain,m),ne(y,vr,x),ne(y,Vn,w);const k=ne(y,$s);_e(k,t.numeric,Tk);const S=ne(a,Vn),C=ne(a,vr);ne(S,Vn,S),_e(S,t.domain,a),_e(C,r,i),_e(C,t.domain,a);const M=Fn(Ku);_e(C,t.tld,M),_e(C,t.utld,M),_e(M,t.domain,a),_e(M,r,i),ne(M,vr,C),ne(M,Vn,S),ne(M,zs,f);const A=ne(M,$s),D=Fn(Ku);_e(A,t.numeric,D);const j=Fn(Ku),I=Fn();_e(j,e,j),_e(j,n,I),_e(I,e,j),_e(I,n,I),ne(M,wr,j),ne(D,wr,j);const L=ne(c,$s),P=ne(u,$s),K=ne(P,wr),X=ne(K,wr);_e(c,t.domain,a),ne(c,vr,C),ne(c,Vn,S),_e(u,t.domain,a),ne(u,vr,C),ne(u,Vn,S),_e(L,t.domain,j),ne(L,wr,j),ne(L,_l,j),_e(X,t.domain,j),_e(X,e,j),ne(X,wr,j);const W=[[Il,Ol],[Hd,Wd],[Ud,Kd],[Gd,qd],[Yd,Jd],[Xd,Qd],[Zd,ef],[tf,nf]];for(let Y=0;Y<W.length;Y++){const[be,le]=W[Y],ye=ne(j,be);ne(I,be,ye),ne(ye,le,j);const re=Fn(Ku);_e(ye,e,re);const te=Fn();_e(ye,n),_e(re,e,re),_e(re,n,te),_e(te,e,re),_e(te,n,te),ne(re,le,j),ne(te,le,j)}return ne(s,Zl,M),ne(s,N0,f9),{start:s,tokens:OE}}function h9(t,e,n){let r=n.length,s=0,i=[],a=[];for(;s<r;){let c=t,u=null,f=null,h=0,m=null,x=-1;for(;s<r&&!(u=c.go(n[s].t));)a.push(n[s++]);for(;s<r&&(f=u||c.go(n[s].t));)u=null,c=f,c.accepts()?(x=0,m=c):x>=0&&x++,s++,h++;if(x<0)s-=h,s<r&&(a.push(n[s]),s++);else{a.length>0&&(i.push(Om(Ak,e,a)),a=[]),s-=x,h-=x;const y=m.t,w=n.slice(s-h,s);i.push(Om(y,e,w))}}return a.length>0&&i.push(Om(Ak,e,a)),i}function Om(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const m9=typeof console<"u"&&console&&console.warn||(()=>{}),g9="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Xe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function x9(){return yn.groups={},Xe.scanner=null,Xe.parser=null,Xe.tokenQueue=[],Xe.pluginQueue=[],Xe.customSchemes=[],Xe.initialized=!1,Xe}function jk(t,e=!1){if(Xe.initialized&&m9(`linkifyjs: already initialized - will not register custom scheme "${t}" ${g9}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Xe.customSchemes.push([t,e])}function y9(){Xe.scanner=u9(Xe.customSchemes);for(let t=0;t<Xe.tokenQueue.length;t++)Xe.tokenQueue[t][1]({scanner:Xe.scanner});Xe.parser=p9(Xe.scanner.tokens);for(let t=0;t<Xe.pluginQueue.length;t++)Xe.pluginQueue[t][1]({scanner:Xe.scanner,parser:Xe.parser});return Xe.initialized=!0,Xe}function R0(t){return Xe.initialized||y9(),h9(Xe.parser.start,t,LE(Xe.scanner.start,t))}R0.scan=LE;function zE(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new j0(n),s=R0(t),i=[];for(let a=0;a<s.length;a++){const c=s[a];c.isLink&&(!e||c.t===e)&&r.check(c)&&i.push(c.toFormattedObject(r))}return i}var P0="[\0- -\u2029]",v9=new RegExp(P0),w9=new RegExp(`${P0}$`),b9=new RegExp(P0,"g");function k9(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function S9(t){return new it({key:new Et("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),i=e.some(f=>f.getMeta("preventAutolink"));if(!s||i)return;const{tr:a}=r,c=nE(n.doc,[...e]);if(cE(c).forEach(({newRange:f})=>{const h=k8(r.doc,f,y=>y.isTextblock);let m,x;if(h.length>1)m=h[0],x=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(h.length){const y=r.doc.textBetween(f.from,f.to," "," ");if(!w9.test(y))return;m=h[0],x=r.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&x){const y=x.split(v9).filter(Boolean);if(y.length<=0)return!1;const w=y[y.length-1],k=m.pos+x.lastIndexOf(w);if(!w)return!1;const S=R0(w).map(C=>C.toObject(t.defaultProtocol));if(!k9(S))return!1;S.filter(C=>C.isLink).map(C=>({...C,from:k+C.start+1,to:k+C.end+1})).filter(C=>r.schema.marks.code?!r.doc.rangeHasMark(C.from,C.to,r.schema.marks.code):!0).filter(C=>t.validate(C.value)).filter(C=>t.shouldAutoLink(C.value)).forEach(C=>{v0(C.from,C.to,r.doc).some(M=>M.mark.type===t.type)||a.addMark(C.from,C.to,t.type.create({href:C.href}))})}}),!!a.steps.length)return a}})}function C9(t){return new it({key:new Et("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||!e.editable)return!1;let a=!1;if(t.enableClickSelection&&(a=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let c=null;if(r.target instanceof HTMLAnchorElement)c=r.target;else{let m=r.target;const x=[];for(;m.nodeName!=="DIV";)x.push(m),m=m.parentNode;c=x.find(y=>y.nodeName==="A")}if(!c)return a;const u=lE(e.state,t.type.name),f=(s=c==null?void 0:c.href)!=null?s:u.href,h=(i=c==null?void 0:c.target)!=null?i:u.target;c&&f&&(window.open(f,h),a=!0)}return a}}})}function N9(t){return new it({key:new Et("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:s}=t,{state:i}=e,{selection:a}=i,{empty:c}=a;if(c)return!1;let u="";r.content.forEach(h=>{u+=h.textContent});const f=zE(u,{defaultProtocol:t.defaultProtocol}).find(h=>h.isLink&&h.value===u);return!u||!f||s!==void 0&&!s(f.value)?!1:t.editor.commands.setMark(t.type,{href:f.href})}}})}function Li(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(b9,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var FE=co.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){jk(t);return}jk(t.scheme,t.optionalSlashes)})},onDestroy(){x9()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Li(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const s=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(s)||!/\./.test(s))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Li(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Li(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",vt(this.options.HTMLAttributes,t),0]:["a",vt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Li(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Li(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[so({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=zE(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:a=>!!Li(a,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(i=>{this.options.shouldAutoLink(i.value)&&e.push({text:i.value,data:{href:i.href},index:i.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(S9({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Li(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(C9({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(N9({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),E9=FE,M9=Object.defineProperty,T9=(t,e)=>{for(var n in e)M9(t,n,{get:e[n],enumerable:!0})},A9="listItem",Rk="textStyle",Pk=/^\s*([-+*])\s$/,BE=jn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",vt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(A9,this.editor.getAttributes(Rk)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ma({find:Pk,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ma({find:Pk,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Rk),editor:this.editor})),[t]}}),VE=jn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",vt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),c=e.parseChildren(a);n.push(...c)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>S0(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),j9={};T9(j9,{findListItemPos:()=>pc,getNextListDepth:()=>D0,handleBackspace:()=>tx,handleDelete:()=>nx,hasListBefore:()=>$E,hasListItemAfter:()=>R9,hasListItemBefore:()=>HE,listItemHasSubList:()=>WE,nextListIsDeeper:()=>UE,nextListIsHigher:()=>KE});var pc=(t,e)=>{const{$from:n}=e.selection,r=yt(t,e.schema);let s=null,i=n.depth,a=n.pos,c=null;for(;i>0&&c===null;)s=n.node(i),s.type===r?c=i:(i-=1,a-=1);return c===null?null:{$pos:e.doc.resolve(a),depth:c}},D0=(t,e)=>{const n=pc(t,e);if(!n)return!1;const[,r]=P8(e,t,n.$pos.pos+4);return r},$E=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),i=t.doc.resolve(s).node();return!(!i||!n.includes(i.type.name))},HE=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},WE=(t,e,n)=>{if(!n)return!1;const r=yt(t,e.schema);let s=!1;return n.descendants(i=>{i.type===r&&(s=!0)}),s},tx=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!ti(t.state,e)&&$E(t.state,e,n)){const{$anchor:c}=t.state.selection,u=t.state.doc.resolve(c.before()-1),f=[];u.node().descendants((x,y)=>{x.type.name===e&&f.push({node:x,pos:y})});const h=f.at(-1);if(!h)return!1;const m=t.state.doc.resolve(u.start()+h.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},m.end()).joinForward().run()}if(!ti(t.state,e)||!L8(t.state))return!1;const r=pc(e,t.state);if(!r)return!1;const i=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=WE(e,t.state,i);return HE(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},UE=(t,e)=>{const n=D0(t,e),r=pc(t,e);return!r||!n?!1:n>r.depth},KE=(t,e)=>{const n=D0(t,e),r=pc(t,e);return!r||!n?!1:n<r.depth},nx=(t,e)=>{if(!ti(t.state,e)||!O8(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:UE(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():KE(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},R9=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},GE=ft.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&nx(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&nx(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&tx(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&tx(t,n,r)&&(e=!0)}),e}}}}),Dk=/^(\s*)(\d+)\.\s+(.*)$/,P9=/^\s/;function D9(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n],i=s.match(Dk);if(!i)break;const[,a,c,u]=i,f=a.length;let h=u,m=n+1;const x=[s];for(;m<t.length;){const y=t[m];if(y.match(Dk))break;if(y.trim()==="")x.push(y),h+=`
`,m+=1;else if(y.match(P9))x.push(y),h+=`
${y.slice(f+2)}`,m+=1;else break}e.push({indent:f,number:parseInt(c,10),content:h.trim(),raw:x.join(`
`)}),r=m,n=m}return[e,r]}function qE(t,e,n){var r;const s=[];let i=0;for(;i<t.length;){const a=t[i];if(a.indent===e){const c=a.content.split(`
`),u=((r=c[0])==null?void 0:r.trim())||"",f=[];u&&f.push({type:"paragraph",raw:u,tokens:n.inlineTokens(u)});const h=c.slice(1).join(`
`).trim();if(h){const y=n.blockTokens(h);f.push(...y)}let m=i+1;const x=[];for(;m<t.length&&t[m].indent>e;)x.push(t[m]),m+=1;if(x.length>0){const y=Math.min(...x.map(k=>k.indent)),w=qE(x,y,n);f.push({type:"list",ordered:!0,start:x[0].number,items:w,raw:x.map(k=>k.raw).join(`
`)})}s.push({type:"list_item",raw:a.raw,tokens:f}),i=m}else i+=1}return s}function I9(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const i=e.parseChildren([s]);r.push({type:"paragraph",content:i})}else{const i=e.parseChildren([s]);i.length>0&&r.push(...i)}}),{type:"listItem",content:r}})}var O9="listItem",Ik="textStyle",Ok=/^(\d+)\.\s$/,YE=jn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",vt(this.options.HTMLAttributes,n),0]:["ol",vt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?I9(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const s=t.split(`
`),[i,a]=D9(s);if(i.length===0)return;const c=qE(i,0,n);return c.length===0?void 0:{type:"list",ordered:!0,start:((r=i[0])==null?void 0:r.number)||1,items:c,raw:s.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(O9,this.editor.getAttributes(Ik)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ma({find:Ok,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ma({find:Ok,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Ik)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),L9=/^\s*(\[([( |x])?\])\s$/,_9=jn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",vt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return S0(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),a=document.createElement("span"),c=document.createElement("input"),u=document.createElement("div"),f=m=>{var x,y;c.ariaLabel=((y=(x=this.options.a11y)==null?void 0:x.checkboxLabel)==null?void 0:y.call(x,m,c.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};f(t),i.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",m=>m.preventDefault()),c.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:x}=m.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const w=n();if(typeof w!="number")return!1;const k=y.doc.nodeAt(w);return y.setNodeMarkup(w,void 0,{...k==null?void 0:k.attrs,checked:x}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,x)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,x])=>{s.setAttribute(m,x)}),s.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,i.append(c,a),s.append(i,u),Object.entries(e).forEach(([m,x])=>{s.setAttribute(m,x)});let h=new Set(Object.keys(e));return{dom:s,contentDOM:u,update:m=>{if(m.type!==this.type)return!1;s.dataset.checked=m.attrs.checked,c.checked=m.attrs.checked,f(m);const x=r.extensionManager.attributes,y=Ql(m,x),w=new Set(Object.keys(y)),k=this.options.HTMLAttributes;return h.forEach(S=>{w.has(S)||(S in k?s.setAttribute(S,k[S]):s.removeAttribute(S))}),Object.entries(y).forEach(([S,C])=>{C==null?S in k?s.setAttribute(S,k[S]):s.removeAttribute(S):s.setAttribute(S,C)}),h=w,!0}}}},addInputRules(){return[ma({find:L9,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),z9=jn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",vt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=i=>{const a=Ug(i,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:c=>({indentLevel:c[1].length,mainContent:c[4],checked:c[3].toLowerCase()==="x"}),createToken:(c,u)=>({type:"taskItem",raw:"",mainContent:c.mainContent,indentLevel:c.indentLevel,checked:c.checked,text:c.mainContent,tokens:n.inlineTokens(c.mainContent),nestedTokens:u}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(i)},s=Ug(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:i=>({indentLevel:i[1].length,mainContent:i[4],checked:i[3].toLowerCase()==="x"}),createToken:(i,a)=>({type:"taskItem",raw:"",mainContent:i.mainContent,indentLevel:i.indentLevel,checked:i.checked,text:i.mainContent,tokens:n.inlineTokens(i.mainContent),nestedTokens:a}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ft.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(BE.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(VE.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(GE.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(YE.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(_9.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(z9.configure(this.options.taskList)),t}});var F9=jn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",vt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),B9=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,V9=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,$9=co.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",vt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ha({find:B9,type:this.type})]},addPasteRules(){return[so({find:V9,type:this.type})]}}),H9=jn.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),JE=co.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",vt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const i=s[2].trim();return{type:"underline",raw:s[0],text:i,tokens:n.inlineTokens(i)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),W9=JE;function U9(t={}){return new it({view(e){return new K9(e,t)}})}class K9{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=a=>{this[s](a)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,i=s.getBoundingClientRect(),a=i.width/s.offsetWidth,c=i.height/s.offsetHeight;if(n){let m=e.nodeBefore,x=e.nodeAfter;if(m||x){let y=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(y){let w=y.getBoundingClientRect(),k=m?w.bottom:w.top;m&&x&&(k=(k+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let S=this.width/2*c;r={left:w.left,right:w.right,top:k-S,bottom:k+S}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*a;r={left:m.left-x,right:m.left+x,top:m.top,bottom:m.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,h;if(!u||u==document.body&&getComputedStyle(u).position=="static")f=-pageXOffset,h=-pageYOffset;else{let m=u.getBoundingClientRect(),x=m.width/u.offsetWidth,y=m.height/u.offsetHeight;f=m.left-u.scrollLeft*x,h=m.top-u.scrollTop*y}this.element.style.left=(r.left-f)/a+"px",this.element.style.top=(r.top-h)/c+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=GC(this.editorView.state.doc,a,this.editorView.dragging.slice);c!=null&&(a=c)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class dt extends ze{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return dt.valid(r)?new dt(r):ze.near(r)}content(){return ue.empty}eq(e){return e instanceof dt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new dt(e.resolve(n.pos))}getBookmark(){return new I0(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!G9(e)||!q9(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&dt.valid(e))return e;let s=e.pos,i=null;for(let a=e.depth;;a--){let c=e.node(a);if(n>0?e.indexAfter(a)<c.childCount:e.index(a)>0){i=c.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=n;let u=e.doc.resolve(s);if(dt.valid(u))return u}for(;;){let a=n>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!Ee.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*n),r=!1;continue e}break}i=a,s+=n;let c=e.doc.resolve(s);if(dt.valid(c))return c}return null}}}dt.prototype.visible=!1;dt.findFrom=dt.findGapCursorFrom;ze.jsonID("gapcursor",dt);class I0{constructor(e){this.pos=e}map(e){return new I0(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return dt.valid(n)?new dt(n):ze.near(n)}}function XE(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function G9(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||XE(s.type))return!0;if(s.inlineContent)return!1}}return!0}function q9(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||XE(s.type))return!0;if(s.inlineContent)return!1}}return!0}function Y9(){return new it({props:{decorations:Z9,createSelectionBetween(t,e,n){return e.pos==n.pos&&dt.valid(n)?new dt(n):null},handleClick:X9,handleKeyDown:J9,handleDOMEvents:{beforeinput:Q9}}})}const J9=qN({ArrowLeft:Gu("horiz",-1),ArrowRight:Gu("horiz",1),ArrowUp:Gu("vert",-1),ArrowDown:Gu("vert",1)});function Gu(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,i){let a=r.selection,c=e>0?a.$to:a.$from,u=a.empty;if(a instanceof De){if(!i.endOfTextblock(n)||c.depth==0)return!1;u=!1,c=r.doc.resolve(e>0?c.after():c.before())}let f=dt.findGapCursorFrom(c,e,u);return f?(s&&s(r.tr.setSelection(new dt(f))),!0):!1}}function X9(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!dt.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&Ee.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new dt(r))),!0)}function Q9(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof dt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=Z.empty;for(let a=r.length-1;a>=0;a--)s=Z.from(r[a].createAndFill(null,s));let i=t.state.tr.replace(n.pos,n.pos,new ue(s,0,0));return i.setSelection(De.near(i.doc.resolve(n.pos+1))),t.dispatch(i),!1}function Z9(t){if(!(t.selection instanceof dt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",rt.create(t.doc,[on.widget(t.selection.head,e,{key:"gapcursor"})])}var xf=200,Lt=function(){};Lt.prototype.append=function(e){return e.length?(e=Lt.from(e),!this.length&&e||e.length<xf&&this.leafAppend(e)||this.length<xf&&e.leafPrepend(this)||this.appendInner(e)):this};Lt.prototype.prepend=function(e){return e.length?Lt.from(e).append(this):this};Lt.prototype.appendInner=function(e){return new ez(this,e)};Lt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Lt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Lt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Lt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Lt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,a){return s.push(e(i,a))},n,r),s};Lt.from=function(e){return e instanceof Lt?e:e&&e.length?new QE(e):Lt.empty};var QE=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,a,c){for(var u=i;u<a;u++)if(s(this.values[u],c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,a,c){for(var u=i-1;u>=a;u--)if(s(this.values[u],c+u)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=xf)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=xf)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Lt);Lt.empty=new QE([]);var ez=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,a){var c=this.left.length;if(s<c&&this.left.forEachInner(r,s,Math.min(i,c),a)===!1||i>c&&this.right.forEachInner(r,Math.max(s-c,0),Math.min(this.length,i)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,a){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(r,s-c,Math.max(i,c)-c,a+c)===!1||i<c&&this.left.forEachInvertedInner(r,Math.min(s,c),i,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Lt);const tz=500;class ir{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let a=e.tr,c,u,f=[],h=[];return this.items.forEach((m,x)=>{if(!m.step){s||(s=this.remapping(r,x+1),i=s.maps.length),i--,h.push(m);return}if(s){h.push(new Ps(m.map));let y=m.step.map(s.slice(i)),w;y&&a.maybeStep(y).doc&&(w=a.mapping.maps[a.mapping.maps.length-1],f.push(new Ps(w,void 0,void 0,f.length+h.length))),i--,w&&s.appendMap(w,i)}else a.maybeStep(m.step);if(m.selection)return c=s?m.selection.map(s.slice(i)):m.selection,u=new ir(this.items.slice(0,r).append(h.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:a,selection:c}}addTransform(e,n,r,s){let i=[],a=this.eventCount,c=this.items,u=!s&&c.length?c.get(c.length-1):null;for(let h=0;h<e.steps.length;h++){let m=e.steps[h].invert(e.docs[h]),x=new Ps(e.mapping.maps[h],m,n),y;(y=u&&u.merge(x))&&(x=y,h?i.pop():c=c.slice(0,c.length-1)),i.push(x),n&&(a++,n=void 0),s||(u=x)}let f=a-r.depth;return f>rz&&(c=nz(c,f),a-=f),new ir(c.append(i),a)}remapping(e,n){let r=new Kl;return this.items.forEach((s,i)=>{let a=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new ir(this.items.append(e.map(n=>new Ps(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(x=>{x.selection&&c--},s);let u=n;this.items.forEach(x=>{let y=i.getMirror(--u);if(y==null)return;a=Math.min(a,y);let w=i.maps[y];if(x.step){let k=e.steps[y].invert(e.docs[y]),S=x.selection&&x.selection.map(i.slice(u+1,y));S&&c++,r.push(new Ps(w,k,S))}else r.push(new Ps(w))},s);let f=[];for(let x=n;x<a;x++)f.push(new Ps(i.maps[x]));let h=this.items.slice(0,s).append(f).append(r),m=new ir(h,c);return m.emptyItemCount()>tz&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((a,c)=>{if(c>=e)s.push(a),a.selection&&i++;else if(a.step){let u=a.step.map(n.slice(r)),f=u&&u.getMap();if(r--,f&&n.appendMap(f,r),u){let h=a.selection&&a.selection.map(n.slice(r));h&&i++;let m=new Ps(f.invert(),u,h),x,y=s.length-1;(x=s.length&&s[y].merge(m))?s[y]=x:s.push(m)}}else a.map&&r--},this.items.length,0),new ir(Lt.from(s.reverse()),i)}}ir.empty=new ir(Lt.empty,0);function nz(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}let Ps=class ZE{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ZE(n.getMap().invert(),n,this.selection)}}};class Fs{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const rz=20;function sz(t,e,n,r){let s=n.getMeta(Zi),i;if(s)return s.historyState;n.getMeta(az)&&(t=new Fs(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(Zi))return a.getMeta(Zi).redo?new Fs(t.done.addTransform(n,void 0,r,ud(e)),t.undone,Lk(n.mapping.maps),t.prevTime,t.prevComposition):new Fs(t.done,t.undone.addTransform(n,void 0,r,ud(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),u=t.prevTime==0||!a&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!iz(n,t.prevRanges)),f=a?Lm(t.prevRanges,n.mapping):Lk(n.mapping.maps);return new Fs(t.done.addTransform(n,u?e.selection.getBookmark():void 0,r,ud(e)),ir.empty,f,n.time,c??t.prevComposition)}else return(i=n.getMeta("rebased"))?new Fs(t.done.rebased(n,i),t.undone.rebased(n,i),Lm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Fs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Lm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function iz(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function Lk(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,i,a)=>e.push(i,a));return e}function Lm(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function oz(t,e,n){let r=ud(e),s=Zi.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),c=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),u=new Fs(n?c:i.remaining,n?i.remaining:c,null,0,-1);return i.transform.setSelection(a).setMeta(Zi,{redo:n,historyState:u})}let _m=!1,_k=null;function ud(t){let e=t.plugins;if(_k!=e){_m=!1,_k=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){_m=!0;break}}return _m}const Zi=new Et("history"),az=new Et("closeHistory");function lz(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new it({key:Zi,state:{init(){return new Fs(ir.empty,ir.empty,null,0,-1)},apply(e,n,r){return sz(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?tM:r=="historyRedo"?nM:null;return!s||!e.editable?!1:(n.preventDefault(),s(e.state,e.dispatch))}}}})}function eM(t,e){return(n,r)=>{let s=Zi.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=oz(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const tM=eM(!1,!0),nM=eM(!0,!0);ft.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new it({key:new Et("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:r.doc});if(i>s){const a=i-s,c=0,u=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(c,u);return t=!0,f}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),i=this.storage.characters({node:e.doc});if(i<=r||s>r&&i>r&&i<=s)return!0;if(s>r&&i>r&&i>s||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,u=i-r,f=c-u,h=c;return e.deleteRange(f,h),!(this.storage.characters({node:e.doc})>r)}})]}});var cz=ft.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[U9(this.options)]}});ft.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new it({key:new Et("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,i=[];if(!n||!r)return rt.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((u,f)=>{if(u.isText)return;if(!(s>=f&&s<=f+u.nodeSize-1))return!1;a+=1});let c=0;return t.descendants((u,f)=>{if(u.isText||!(s>=f&&s<=f+u.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&a-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";i.push(on.node(f,f+u.nodeSize,{class:this.options.className}))}),rt.create(t,i)}}})]}});var uz=ft.create({name:"gapCursor",addProseMirrorPlugins(){return[Y9()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ke(Ne(t,"allowGapCursor",n)))!=null?e:null}}});ft.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new it({key:new Et("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const i=this.editor.isEmpty;return t.descendants((a,c)=>{const u=r>=c&&r<=c+a.nodeSize,f=!a.isLeaf&&Bf(a);if((u||!this.options.showOnlyCurrent)&&f){const h=[this.options.emptyNodeClass];i&&h.push(this.options.emptyEditorClass);const m=on.node(c,c+a.nodeSize,{class:h.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:c,hasAnchor:u}):this.options.placeholder});s.push(m)}return this.options.includeChildren}),rt.create(t,s)}}})]}});ft.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new it({key:new Et("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||uE(n.selection)||t.view.dragging?null:rt.create(n.doc,[on.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function zk({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var dz=ft.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new Et(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new it({key:e,appendTransaction:(s,i,a)=>{const{doc:c,tr:u,schema:f}=a,h=e.getState(a),m=c.content.size,x=f.nodes[n];if(h)return u.insert(m,x.create())},state:{init:(s,i)=>{const a=i.tr.doc.lastChild;return!zk({node:a,types:r})},apply:(s,i)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return i;const a=s.doc.lastChild;return!zk({node:a,types:r})}}})]}}),fz=ft.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>tM(t,e),redo:()=>({state:t,dispatch:e})=>nM(t,e)}},addProseMirrorPlugins(){return[lz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),pz=ft.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(B_.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(O_.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(BE.configure(this.options.bulletList)),this.options.code!==!1&&s.push(H_.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(K_.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(G_.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(cz.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(uz.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(q_.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(Y_.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(fz.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(J_.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(t9.configure(this.options.italic)),this.options.listItem!==!1&&s.push(VE.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(GE.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(FE.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(YE.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(F9.configure(this.options.paragraph)),this.options.strike!==!1&&s.push($9.configure(this.options.strike)),this.options.text!==!1&&s.push(H9.configure(this.options.text)),this.options.underline!==!1&&s.push(JE.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(dz.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),hz=pz,mz=ft.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),gz=mz;const Fk=[{id:"1",name:"New claim | Guidewire 2",type:"Workflow"},{id:"2",name:"New claim | Guidewire 3",type:"Workflow"},{id:"3",name:"Refund request | Billing system",type:"Workflow"},{id:"4",name:"Return label | Shipping portal",type:"Workflow"},{id:"5",name:"Cancel order | Order system",type:"Workflow"},{id:"6",name:"Change address | Order system",type:"Workflow"},{id:"7",name:"Update payment | Billing system",type:"Workflow"}];function xz({onBack:t,onAttachWorkflow:e,scenarioData:n}){const[r,s]=N.useState("scenario"),[i,a]=N.useState("voice"),c=R=>R?`${R.customerName} - ${R.emotion} customer scenario`:"Dealing with angry customer for refund scenario",[u,f]=N.useState(c(n)),[h,m]=N.useState(!1),x=R=>{if(!R)return`
      <h2>Scenario</h2>
      <p>You are <strong>Alex</strong>, a customer who is <strong>frustrated</strong> and contacting customer support because you want a full refund for a product you recently bought. You expect a quick resolution and are feeling upset about the situation.</p>
      
      <p>Your emotional state is <strong>frustrated</strong>, which means you may express your concerns with some intensity. You should communicate your need for a full refund clearly and firmly, while also expressing your dissatisfaction with the product or service you received.</p>
    `;const G=R.modality==="Audio"?"phone call":"chat conversation",Se=R.difficulty==="High"?"challenging":R.difficulty==="Medium"?"moderate":"straightforward",Ie=R.emotion.toLowerCase(),Tt=Yn=>{const at=Yn.toLowerCase();return at.includes("angry")||at.includes("frustrated")?"You may express your concerns with intensity and may be less patient with responses. You should communicate firmly and may show signs of irritation if the conversation doesn't progress quickly.":at.includes("confused")?"You may ask clarifying questions frequently and need more explanation. You should express uncertainty and seek reassurance about the process.":at.includes("disappointed")||at.includes("sad")?"You may express your concerns with a more subdued tone, showing disappointment. You should communicate your needs clearly but may sound less energetic or enthusiastic.":at.includes("anxious")?"You may express urgency and concern about the situation. You should communicate your needs clearly while potentially showing signs of worry or stress.":"You should communicate your needs clearly and express your emotional state authentically throughout the conversation."};return`
      <h2>Scenario</h2>
      <p>You are <strong>${R.customerName}</strong>, a customer who is <strong>${Ie}</strong> and contacting a <strong>${R.trainee}</strong> via ${G} because ${R.scenario}. You expect a quick resolution and are feeling ${Ie} about the situation.</p>
      
      <p>Your emotional state is <strong>${Ie}</strong>, which means ${Tt(R.emotion)} Throughout the ${G}, you should maintain this emotional tone and respond authentically to the support representative's attempts to help you.</p>
      
      <p>This is a ${Se} scenario, which means the interaction may involve ${R.difficulty==="High"?"complex issues that require multiple steps to resolve, potential pushback, or situations where you may need to advocate strongly for your position":R.difficulty==="Medium"?"moderate complexity where some negotiation or clarification may be needed":"relatively straightforward issues that should be resolvable with clear communication"}. The interaction will take place via ${G}, so you should communicate in a manner appropriate for this ${R.modality.toLowerCase()} format.</p>
      
      <p>Your primary goal is to ${R.scenario}. You should express this need clearly and persistently, while also responding naturally to the support representative's questions and attempts to resolve your issue. Remember to stay in character as someone who is ${Ie} and maintain that emotional state throughout the conversation.</p>
      
      <p>As the AI playing ${R.customerName}, your role is to provide a realistic, ${Ie} customer experience. The ${R.difficulty.toLowerCase()} difficulty level means you should ${R.difficulty==="High"?"present more complex challenges, potentially escalate if not handled well, and require the learner to work harder to resolve the situation":R.difficulty==="Medium"?"present moderate challenges that require some skill to navigate":"present straightforward challenges that allow the learner to demonstrate basic competency"}.</p>
    `},[y,w]=N.useState(!1),[k,S]=N.useState("ready"),[C,M]=N.useState("1"),[A,D]=N.useState(""),j=["Empathy","Active Listening","Problem-Solving","Resolution","Communication","Knowledge","Patience","Professionalism","Conflict Resolution","Time Management","Documentation","Product Knowledge","Customer Service","De-escalation","Policy Adherence"],[I,L]=N.useState([{id:"1",title:"Empathy and Active Listening",criteria:["0-2: Fails to acknowledge user feelings, interrupts frequently, and dismisses concerns.","3-4: Shows limited empathy; listens but lacks understanding; responses often miss the mark.","5-6: Generally empathetic, listens actively; addresses some concerns but could improve.","7-8: Demonstrates strong empathy, listens attentively; addresses user's feelings effectively.","9-10: Exceptional empathy, fully engaged listening; validates feelings and addresses all concerns thoroughly."],mappedCompetency:"Empathy"},{id:"2",title:"Problem-Solving and Resolution Skills",criteria:["0-2: Offers no relevant solutions; escalates without assessing user's needs.","3-4: Suggests limited solutions that may not address the core issue; slow to act.","5-6: Provides reasonable solutions with some effectiveness; may require guidance.","7-8: Efficiently identifies issues and suggests effective solutions; user feels supported.","9-10: Proactively resolves issues with innovative solutions; user feels fully satisfied and valued."],mappedCompetency:"Resolution"},{id:"3",title:"Product Knowledge and Expertise",criteria:["0-2: Lacks basic knowledge of the product; unable to answer user inquiries.","3-4: Has some product knowledge but misses key features; provides vague information.","5-6: Understands most product features; can answer standard questions with some detail.","7-8: Well-versed in product details; answers questions clearly and accurately.","9-10: Comprehensive knowledge of the product; provides insightful information and anticipates further queries."],mappedCompetency:"Knowledge"}]),[P,K]=N.useState(null),[X,W]=N.useState(""),[Y,be]=N.useState(null),[le,ye]=N.useState([{id:"et1",name:"Customer support basics",description:"Essential evaluation criteria for customer support",parameters:[{title:"Empathy and Active Listening",criteria:["0-2: Fails to acknowledge user feelings, interrupts frequently, and dismisses concerns.","3-4: Shows limited empathy; listens but lacks understanding; responses often miss the mark.","5-6: Generally empathetic, listens actively; addresses some concerns but could improve.","7-8: Demonstrates strong empathy, listens attentively; addresses user's feelings effectively.","9-10: Exceptional empathy, fully engaged listening; validates feelings and addresses all concerns thoroughly."],mappedCompetency:"Empathy"},{title:"Problem-Solving and Resolution Skills",criteria:["0-2: Offers no relevant solutions; escalates without assessing user's needs.","3-4: Suggests limited solutions that may not address the core issue; slow to act.","5-6: Provides reasonable solutions with some effectiveness; may require guidance.","7-8: Efficiently identifies issues and suggests effective solutions; user feels supported.","9-10: Proactively resolves issues with innovative solutions; user feels fully satisfied and valued."],mappedCompetency:"Resolution"}]},{id:"et2",name:"Sales performance",description:"Evaluation metrics for sales conversations",parameters:[{title:"Product Knowledge",criteria:["0-2: Cannot explain product features; lacks basic understanding.","3-4: Knows basic features but struggles with details; may provide inaccurate information.","5-6: Good understanding of product features; can handle most questions.","7-8: Strong product knowledge; explains features confidently and accurately.","9-10: Expert-level knowledge; anticipates questions and provides comprehensive information."],mappedCompetency:"Knowledge"},{title:"Objection Handling",criteria:["0-2: Cannot address objections; becomes defensive or dismissive.","3-4: Attempts to address objections but lacks persuasion; may give up easily.","5-6: Handles common objections adequately; uses some persuasion techniques.","7-8: Skilled at addressing objections; turns concerns into opportunities.","9-10: Expert objection handler; uses advanced techniques to build trust and close deals."],mappedCompetency:"Communication"}]},{id:"et3",name:"Technical support",description:"Evaluation for technical troubleshooting scenarios",parameters:[{title:"Technical Expertise",criteria:["0-2: Unable to diagnose issues; lacks technical understanding.","3-4: Can identify simple issues but struggles with complex problems.","5-6: Solid technical knowledge; resolves most common issues.","7-8: Strong technical skills; efficiently diagnoses and resolves complex issues.","9-10: Expert technician; handles advanced issues and provides thorough explanations."],mappedCompetency:"Product Knowledge"},{title:"Clear Communication",criteria:["0-2: Uses jargon; confuses customers; cannot simplify explanations.","3-4: Sometimes unclear; inconsistent in explaining technical concepts.","5-6: Generally clear communication; adapts language to customer level.","7-8: Excellent at explaining technical concepts in simple terms.","9-10: Outstanding communicator; makes complex topics accessible to anyone."],mappedCompetency:"Communication"}]}]),[re,te]=N.useState(!1),[F,H]=N.useState("main"),[q,_]=N.useState(""),[U,ae]=N.useState(""),[ie,Me]=N.useState([]),[he,ve]=N.useState(I),[Oe,Re]=N.useState(!1),oe=JSON.stringify(I)!==JSON.stringify(he),Ve=()=>{Re(!0),setTimeout(()=>{ve([...I]),Re(!1)},500)},Ze=()=>{L([...he])},Ht=R=>{const G=R.parameters.map((Se,Ie)=>({id:String(Date.now()+Ie),...Se}));L([...G,...I]),te(!1),H("main")},as=()=>{if(!q.trim())return;const R={id:String(Date.now()),name:q.trim(),description:U.trim()||`Template with ${I.length} parameters`,parameters:I.map(({title:G,criteria:Se,mappedCompetency:Ie})=>({title:G,criteria:Se,mappedCompetency:Ie}))};ye([...le,R]),_(""),ae(""),te(!1),H("main")};N.useEffect(()=>{const R=G=>{!G.target.closest("[data-competency-dropdown]")&&Y&&be(null)};if(Y)return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[Y]);const[Rn,Rr]=N.useState([{id:"1",trigger:"Customer receives a resolution",action:"End scenario with success",icon:"resolution"},{id:"2",trigger:"Conversation reaches 10 minutes",action:"End scenario with timeout",icon:"time"},{id:"3",trigger:"Customer escalates to supervisor",action:"End scenario with escalation",icon:"escalate"},{id:"4",trigger:"Customer ends the call/chat",action:"End scenario immediately",icon:"end"}]),[Mt,wn]=N.useState(null),[bt,Wt]=N.useState(""),ls=R=>{switch(R){case"resolution":return rm;case"time":return fI;case"escalate":return xI;case"end":return tI;default:return ob}},Ea=R=>{switch(R){case"resolution":return{bg:"linear-gradient(135deg, #10b981 0%, #059669 100%)",iconBg:"#dcfce7",iconColor:"#16a34a"};case"time":return{bg:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",iconBg:"#fef3c7",iconColor:"#d97706"};case"escalate":return{bg:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",iconBg:"#ede9fe",iconColor:"#7c3aed"};case"end":return{bg:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",iconBg:"#fee2e2",iconColor:"#dc2626"};default:return{bg:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",iconBg:"#f3f4f6",iconColor:"#6b7280"}}},xc=()=>{const R=String(Date.now()),G=["resolution","time","escalate","end"],Se={id:R,trigger:"New condition",action:"End scenario",icon:G[Rn.length%G.length]};Rr([Se,...Rn])},yc=R=>{Rr(Rn.filter(G=>G.id!==R))},ui=(R,G,Se)=>{Rr(Rn.map(Ie=>Ie.id===R?{...Ie,[G]:Se}:Ie))},vc=R=>{const G=["resolution","time","escalate","end"];Rr(Rn.map(Se=>{if(Se.id===R){const Tt=(G.indexOf(Se.icon)+1)%G.length;return{...Se,icon:G[Tt]}}return Se}))},[dr,cs]=N.useState([{id:"1",name:"Alex",gender:"Male",age:25,location:"Minnesota",avatar:xC,emotionalStates:["Frustrated","Angry"],behavioralTraits:["Short-tempered","Impatient"],additionalRemarks:"A dissatisfied customer who wants a full refund for a product they bought. May escalate if not handled properly and expects immediate resolution. Has been a customer for 2 years."},{id:"2",name:"Jordan",gender:"Non-binary",age:30,location:"California",avatar:null,emotionalStates:["Neutral","Calm"],behavioralTraits:["Patient","Polite"],additionalRemarks:"Inquiring about product features and pricing. Will ask detailed questions and compare options before making a decision. Values transparency and good service."},{id:"3",name:"Sam",gender:"Female",age:28,location:"Texas",avatar:null,emotionalStates:["Happy","Excited"],behavioralTraits:["Enthusiastic","Eager"],additionalRemarks:"Wants to upgrade to a premium plan. Will be receptive to upsells and recommendations. Loves the product and has referred friends."},{id:"4",name:"Taylor",gender:"Male",age:35,location:"New York",avatar:null,emotionalStates:["Confused","Anxious"],behavioralTraits:["Uncertain","Needs reassurance"],additionalRemarks:"Technical issue with the product. Will need step-by-step guidance and patience. First-time user who is not tech-savvy."},{id:"5",name:"Morgan",gender:"Female",age:22,location:"Florida",avatar:null,emotionalStates:["Disappointed","Sad"],behavioralTraits:["Loyal","Expects better"],additionalRemarks:"Had a bad experience after years of being a customer. Will reference past positive experiences and expects acknowledgment of loyalty. Long-term customer since 2019."}]),[us,Pr]=N.useState("1"),[Dr,fr]=N.useState(!1),[di,un]=N.useState("main"),[ho,Pn]=N.useState(null),[fi,pi]=N.useState(!1),[hi,mi]=N.useState(!1),Ir=["Frustrated","Angry","Confused","Anxious","Disappointed","Sad","Happy","Excited","Neutral","Calm","Impatient","Worried"],Or=["Short-tempered","Impatient","Patient","Polite","Aggressive","Enthusiastic","Eager","Uncertain","Needs reassurance","Loyal","Expects better","Demanding","Cooperative","Reserved"],[Ma,wc]=N.useState([{id:"t1",name:"Angry refund seeker",description:"A frustrated customer demanding a refund",persona:{name:"Alex",gender:"Male",age:25,location:"Minnesota",avatar:null,emotionalStates:["Frustrated","Angry"],behavioralTraits:["Short-tempered","Impatient"],additionalRemarks:"Wants a full refund for a product they bought. May escalate if not handled properly, expects immediate resolution."}},{id:"t2",name:"Confused first-timer",description:"A new customer needing guidance",persona:{name:"Jamie",gender:"Non-binary",age:24,location:"Seattle",avatar:null,emotionalStates:["Confused","Anxious"],behavioralTraits:["Uncertain","Needs reassurance"],additionalRemarks:"First time using the product and needs help getting started. Will ask many questions, needs patient explanations."}},{id:"t3",name:"Disappointed loyalist",description:"A long-time customer who feels let down",persona:{name:"Morgan",gender:"Female",age:45,location:"Chicago",avatar:null,emotionalStates:["Disappointed","Sad"],behavioralTraits:["Loyal","Expects better"],additionalRemarks:"Had a bad experience after years of being a customer. Will reference past positive experiences, expects acknowledgment."}},{id:"t4",name:"Happy upgrader",description:"An enthusiastic customer wanting to upgrade",persona:{name:"Taylor",gender:"Male",age:32,location:"Austin",avatar:null,emotionalStates:["Happy","Excited"],behavioralTraits:["Enthusiastic","Eager"],additionalRemarks:"Wants to upgrade to a premium plan. Will be receptive to upsells and recommendations."}}]),[gi,mo]=N.useState(""),[Ta,xi]=N.useState(""),Ce=dr.find(R=>R.id===us)||dr[0],yi=R=>{const G=String(Date.now()),Se={id:G,...R.persona};cs([...dr,Se]),Pr(G),fr(!1)},Aa=()=>{if(!gi.trim())return;const R={id:String(Date.now()),name:gi.trim(),description:Ta.trim()||`Template based on ${Ce.name}`,persona:{name:Ce.name,gender:Ce.gender,age:Ce.age,location:Ce.location,avatar:null,emotionalStates:Ce.emotionalStates,behavioralTraits:Ce.behavioralTraits,additionalRemarks:Ce.additionalRemarks}};wc([...Ma,R]),mo(""),xi(""),fr(!1)},dn=R=>{cs(dr.map(G=>G.id===us?{...G,...R}:G))},ep=R=>dn({name:R}),vi=R=>dn({avatar:R}),wi=R=>dn({emotionalStates:R}),bi=R=>dn({behavioralTraits:R}),ja=R=>dn({additionalRemarks:R}),bc=R=>{const G=R.toLowerCase();return G.includes("angry")||G.includes("frustrated")||G.includes("irritated")?Cg:G.includes("sad")||G.includes("upset")||G.includes("disappointed")?pC:G.includes("happy")||G.includes("joyful")||G.includes("pleased")?JD:(G.includes("neutral")||G.includes("calm"),Ml)},kc=R=>{const G=R.toLowerCase();return G.includes("angry")||G.includes("frustrated")||G.includes("irritated")?{bg:"#fee2e2",text:"#991b1b",icon:"#dc2626"}:G.includes("sad")||G.includes("upset")||G.includes("disappointed")?{bg:"#dbeafe",text:"#1e40af",icon:"#3b82f6"}:G.includes("happy")||G.includes("joyful")||G.includes("pleased")?{bg:"#dcfce7",text:"#166534",icon:"#22c55e"}:G.includes("neutral")||G.includes("calm")?{bg:"#f3f4f6",text:"#374151",icon:"#6b7280"}:{bg:"#fef3c7",text:"#92400e",icon:"#f59e0b"}},Sc=R=>{const G=R.toLowerCase();return G.includes("short")||G.includes("temper")||G.includes("impatient")?OD:G.includes("angry")||G.includes("aggressive")?Cg:G.includes("alert")||G.includes("cautious")?kg:G.includes("time")||G.includes("urgent")||G.includes("rushed")?ND:om},pr=R=>{const G=R.toLowerCase();return G.includes("short")||G.includes("temper")||G.includes("impatient")||G.includes("angry")?{bg:"#fee2e2",text:"#991b1b",icon:"#dc2626"}:G.includes("alert")||G.includes("cautious")?{bg:"#fef3c7",text:"#92400e",icon:"#f59e0b"}:G.includes("time")||G.includes("urgent")||G.includes("rushed")?{bg:"#ddd6fe",text:"#6b21a8",icon:"#8b5cf6"}:{bg:"#e0e7ff",text:"#3730a3",icon:"#6366f1"}},de=j_({extensions:[hz.configure({heading:{levels:[1,2,3]}}),W9,gz.configure({types:["heading","paragraph"]}),E9.configure({openOnClick:!1,HTMLAttributes:{class:"text-[#0975d7] underline"}})],content:x(n),editorProps:{attributes:{class:"focus:outline-none prose prose-sm max-w-none"}}});return N.useEffect(()=>{de&&n&&(de.commands.setContent(x(n)),f(c(n)))},[n,de]),N.useEffect(()=>{if(de&&Ce){const R={trainee:(n==null?void 0:n.trainee)||"Customer support executives",customerName:Ce.name,emotion:Ce.emotionalStates[0]||(n==null?void 0:n.emotion)||"Frustrated",scenario:(n==null?void 0:n.scenario)||"they want a full refund for a product they bought",objective:(n==null?void 0:n.objective)||"De-escalate the situation",criteria1:(n==null?void 0:n.criteria1)||"Empathy",criteria2:(n==null?void 0:n.criteria2)||"De-escalation",criteria3:(n==null?void 0:n.criteria3)||"Policy adherence",modality:(n==null?void 0:n.modality)||"Audio",difficulty:(n==null?void 0:n.difficulty)||"High"};de.commands.setContent(x(R)),f(`${Ce.name} - ${Ce.emotionalStates[0]||"Customer"} scenario`)}},[Ce==null?void 0:Ce.name,Ce==null?void 0:Ce.emotionalStates,Ce==null?void 0:Ce.gender,Ce==null?void 0:Ce.age,Ce==null?void 0:Ce.location]),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-h-0",children:[p.jsxs("div",{className:"flex-1 flex flex-col bg-white min-h-0 overflow-hidden",children:[p.jsxs("div",{className:"border-b border-[#eee] px-6 py-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[h?p.jsx("input",{type:"text",value:u,onChange:R=>f(R.target.value),onBlur:()=>m(!1),onKeyDown:R=>{(R.key==="Enter"||R.key==="Escape")&&m(!1)},className:"text-[20px] font-semibold text-[#2b2b40] border-b border-[#0975d7] focus:outline-none bg-transparent",autoFocus:!0}):p.jsx("h1",{className:"text-[20px] font-semibold text-[#2b2b40]",children:u}),p.jsx("button",{onClick:()=>m(!0),className:"p-2 hover:bg-gray-100 rounded",children:p.jsx(Fi,{className:"w-4 h-4 text-[#8d8ba7]",stroke:2.5})}),p.jsx("button",{className:"p-2 hover:bg-gray-100 rounded",children:p.jsx(RD,{className:"w-4 h-4 text-[#8d8ba7]",stroke:2.5})})]}),p.jsx("div",{className:"flex items-center gap-3",children:p.jsxs("button",{className:"bg-[#d0450b] hover:bg-[#b83d0a] text-white px-4 py-2 rounded text-sm font-medium transition-colors flex items-center gap-2",onClick:()=>w(!0),children:["Attach to workflow",p.jsx(Yr,{className:"size-4",stroke:2})]})})]}),p.jsx("p",{className:"text-sm text-[#8d8ba7] mt-2",children:"By Sarah Johnson"})]}),p.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[p.jsxs("div",{className:"w-[240px] border-r border-[#eee] bg-white flex flex-col relative",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-xs font-semibold text-[#8d8ba7] px-4 pt-4 pb-3",children:"CONTEXT"}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("button",{onClick:()=>s("scenario"),className:`w-full text-left px-4 py-2 text-sm font-medium transition-colors flex items-center gap-2 relative ${r==="scenario"?"bg-[#f0f0f5] text-[#0975d7]":"text-[#8d8ba7] hover:bg-gray-50"}`,children:[r==="scenario"&&p.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#0975d7] rounded-r"}),p.jsx(DD,{className:`w-4 h-4 ${r==="scenario"?"text-[#0975d7]":"text-[#8d8ba7]"}`,stroke:2}),"Scenario"]}),p.jsxs("button",{onClick:()=>s("persona"),className:`w-full text-left px-4 py-2 text-sm font-medium transition-colors flex items-center gap-2 relative ${r==="persona"?"bg-[#f0f0f5] text-[#0975d7]":"text-[#8d8ba7] hover:bg-gray-50"}`,children:[r==="persona"&&p.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#0975d7] rounded-r"}),p.jsx(om,{className:`w-4 h-4 ${r==="persona"?"text-[#0975d7]":"text-[#8d8ba7]"}`,stroke:2}),"Customer persona"]}),p.jsxs("button",{onClick:()=>s("evaluation"),className:`w-full text-left px-4 py-2 text-sm font-medium transition-colors flex items-center gap-2 relative ${r==="evaluation"?"bg-[#f0f0f5] text-[#0975d7]":"text-[#8d8ba7] hover:bg-gray-50"}`,children:[r==="evaluation"&&p.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#0975d7] rounded-r"}),p.jsx(sm,{className:`w-4 h-4 ${r==="evaluation"?"text-[#0975d7]":"text-[#8d8ba7]"}`,stroke:2}),"Evaluation"]}),p.jsxs("button",{onClick:()=>s("exit"),className:`w-full text-left px-4 py-2 text-sm font-medium transition-colors flex items-center gap-2 relative ${r==="exit"?"bg-[#f0f0f5] text-[#0975d7]":"text-[#8d8ba7] hover:bg-gray-50"}`,children:[r==="exit"&&p.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#0975d7] rounded-r"}),p.jsx(TD,{className:`w-4 h-4 ${r==="exit"?"text-[#0975d7]":"text-[#8d8ba7]"}`,stroke:2}),"Exit conditions"]})]})]}),p.jsx("div",{className:"border-t border-[#eee]",children:p.jsxs("button",{onClick:()=>s("settings"),className:`w-full text-left px-4 py-2 text-sm font-medium transition-colors flex items-center gap-2 relative ${r==="settings"?"bg-[#f0f0f5] text-[#0975d7]":"text-[#8d8ba7] hover:bg-gray-50"}`,children:[r==="settings"&&p.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#0975d7] rounded-r"}),p.jsx(gC,{className:`w-4 h-4 ${r==="settings"?"text-[#0975d7]":"text-[#8d8ba7]"}`,stroke:2}),"Settings"]})})]}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r==="scenario"&&p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[p.jsx("div",{className:"border-b border-[#eee] py-4 shrink-0",children:p.jsxs("div",{className:"px-6",children:[p.jsx("h2",{className:"text-lg font-semibold text-[#2b2b40] mb-1",children:"Scenario"}),p.jsx("p",{className:"text-sm text-[#8d8ba7]",children:"Define the situation learners will practice"})]})}),p.jsx("div",{className:"bg-white border-b border-[#eee] py-2 shrink-0",children:p.jsxs("div",{className:"px-6 flex items-center gap-2",children:[p.jsx("button",{onClick:()=>de==null?void 0:de.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-100 ${de!=null&&de.isActive("bold")?"bg-gray-200":""}`,title:"Bold",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:p.jsx("path",{d:"M8.21 13c2.106 0 3.412-1.087 3.412-2.823 0-1.306-.984-2.283-2.324-2.386v-.055a2.176 2.176 0 0 0 1.852-2.14c0-1.51-1.162-2.46-3.014-2.46H3.843V13H8.21zM5.908 4.674h1.696c.963 0 1.517.451 1.517 1.244 0 .834-.629 1.32-1.73 1.32H5.908V4.673zm0 6.788V8.598h1.73c1.217 0 1.88.492 1.88 1.415 0 .943-.643 1.449-1.832 1.449H5.907z"})})}),p.jsx("button",{onClick:()=>de==null?void 0:de.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-100 ${de!=null&&de.isActive("italic")?"bg-gray-200":""}`,title:"Italic",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:p.jsx("path",{d:"M7.991 11.674 9.53 4.455c.123-.595.246-.71 1.347-.807l.11-.52H7.211l-.11.52c1.06.096 1.128.212 1.005.807L6.57 11.674c-.123.595-.246.71-1.346.806l-.11.52h3.774l.11-.52c-1.06-.095-1.129-.211-1.006-.806z"})})}),p.jsx("button",{onClick:()=>de==null?void 0:de.chain().focus().toggleUnderline().run(),className:`p-2 rounded hover:bg-gray-100 ${de!=null&&de.isActive("underline")?"bg-gray-200":""}`,title:"Underline",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:p.jsx("path",{d:"M5.313 3.136h-1.23V9.54c0 2.105 1.47 3.623 3.917 3.623s3.917-1.518 3.917-3.623V3.136h-1.23v6.323c0 1.49-.978 2.57-2.687 2.57-1.709 0-2.687-1.08-2.687-2.57V3.136zM12.5 15h-9v-1h9v1z"})})}),p.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),p.jsx("button",{onClick:()=>de==null?void 0:de.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-100 ${de!=null&&de.isActive("bulletList")?"bg-gray-200":""}`,title:"Bullet List",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:p.jsx("path",{fillRule:"evenodd",d:"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})})}),p.jsx("button",{onClick:()=>de==null?void 0:de.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-100 ${de!=null&&de.isActive("orderedList")?"bg-gray-200":""}`,title:"Numbered List",children:p.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:[p.jsx("path",{fillRule:"evenodd",d:"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5z"}),p.jsx("path",{d:"M1.713 11.865v-.474H2c.217 0 .363-.137.363-.317 0-.185-.158-.31-.361-.31-.223 0-.367.152-.373.31h-.59c.016-.467.373-.787.986-.787.588-.002.954.291.957.703a.595.595 0 0 1-.492.594v.033a.615.615 0 0 1 .569.631c.003.533-.502.8-1.051.8-.656 0-1-.37-1.008-.794h.582c.008.178.186.306.422.309.254 0 .424-.145.422-.35-.002-.195-.155-.348-.414-.348h-.3zm-.004-4.699h-.604v-.035c0-.408.295-.844.958-.844.583 0 .96.326.96.756 0 .389-.257.617-.476.848l-.537.572v.03h1.054V9H1.143v-.395l.957-.99c.138-.142.293-.304.293-.508 0-.18-.147-.32-.342-.32a.33.33 0 0 0-.342.338v.041zM2.564 5h-.635V2.924h-.031l-.598.42v-.567l.629-.443h.635V5z"})]})}),p.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),p.jsx("button",{onClick:()=>de==null?void 0:de.chain().focus().setTextAlign("left").run(),className:`p-2 rounded hover:bg-gray-100 ${de!=null&&de.isActive({textAlign:"left"})?"bg-gray-200":""}`,title:"Align Left",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:p.jsx("path",{fillRule:"evenodd",d:"M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})})}),p.jsx("button",{onClick:()=>de==null?void 0:de.chain().focus().setTextAlign("center").run(),className:`p-2 rounded hover:bg-gray-100 ${de!=null&&de.isActive({textAlign:"center"})?"bg-gray-200":""}`,title:"Align Center",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:p.jsx("path",{fillRule:"evenodd",d:"M4 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})})}),p.jsx("button",{onClick:()=>de==null?void 0:de.chain().focus().setTextAlign("right").run(),className:`p-2 rounded hover:bg-gray-100 ${de!=null&&de.isActive({textAlign:"right"})?"bg-gray-200":""}`,title:"Align Right",children:p.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:p.jsx("path",{fillRule:"evenodd",d:"M6 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm4-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})})}),p.jsx("div",{className:"flex-1"}),p.jsxs("select",{className:"text-sm border border-gray-300 rounded px-2 py-1",onChange:R=>{const G=R.target.value;G==="paragraph"?de==null||de.chain().focus().setParagraph().run():G==="h1"?de==null||de.chain().focus().toggleHeading({level:1}).run():G==="h2"?de==null||de.chain().focus().toggleHeading({level:2}).run():G==="h3"&&(de==null||de.chain().focus().toggleHeading({level:3}).run())},children:[p.jsx("option",{value:"paragraph",children:"Normal text"}),p.jsx("option",{value:"h1",children:"Heading 1"}),p.jsx("option",{value:"h2",children:"Heading 2"}),p.jsx("option",{value:"h3",children:"Heading 3"})]}),p.jsx("button",{className:"p-2 rounded hover:bg-gray-100",title:"More options",children:p.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:[p.jsx("circle",{cx:"3",cy:"8",r:"1.5"}),p.jsx("circle",{cx:"8",cy:"8",r:"1.5"}),p.jsx("circle",{cx:"13",cy:"8",r:"1.5"})]})})]})}),p.jsx("div",{className:"bg-white flex-1 overflow-y-auto",children:p.jsx("div",{className:"px-6 py-4 h-full",children:p.jsx("div",{className:"prose prose-sm max-w-none",children:p.jsx(S_,{editor:de})})})})]}),r==="persona"&&p.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[p.jsx("div",{className:"border-b border-[#eee] py-4 shrink-0",children:p.jsxs("div",{className:"px-6 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold text-[#2b2b40] mb-1",children:"Customer persona"}),p.jsx("p",{className:"text-sm text-[#8d8ba7]",children:"Define who the learner is interacting with"})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>{fr(!Dr),un("main")},className:"flex items-center gap-2 px-3 py-2 border border-[#ececf3] rounded-lg hover:border-[#0975d7] hover:bg-[#f8fafc] transition-colors bg-white",children:[p.jsx(om,{className:"w-4 h-4 text-[#0975d7]",stroke:2}),p.jsx("span",{className:"text-sm font-medium text-[#2b2b40]",children:"Manage persona"}),p.jsx(Wo,{className:`w-4 h-4 text-[#8d8ba7] transition-transform ${Dr?"rotate-180":""}`,stroke:2})]}),Dr&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{fr(!1),un("main")}}),p.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white border border-[#ececf3] rounded-xl shadow-xl z-20 overflow-hidden",children:[di==="main"&&p.jsxs("div",{className:"py-2",children:[p.jsxs("button",{onClick:()=>un("switch"),className:"w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-[#f5f7fa] transition-colors",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#f0f4ff] flex items-center justify-center",children:p.jsx(qx,{className:"w-4 h-4 text-[#0975d7]",stroke:2})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-[#2b2b40]",children:"Switch persona"}),p.jsx("p",{className:"text-xs text-[#8d8ba7]",children:"Change to another persona"})]}),p.jsx(Yr,{className:"w-4 h-4 text-[#8d8ba7]",stroke:2})]}),p.jsxs("button",{onClick:()=>un("load"),className:"w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-[#f5f7fa] transition-colors",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#f0fff4] flex items-center justify-center",children:p.jsx(rb,{className:"w-4 h-4 text-[#10b981]",stroke:2})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-[#2b2b40]",children:"Load template"}),p.jsx("p",{className:"text-xs text-[#8d8ba7]",children:"Use a saved template"})]}),p.jsx(Yr,{className:"w-4 h-4 text-[#8d8ba7]",stroke:2})]}),p.jsxs("button",{onClick:()=>{un("save"),mo(Ce.name+" template"),xi("")},className:"w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-[#f5f7fa] transition-colors",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#fef3c7] flex items-center justify-center",children:p.jsx(im,{className:"w-4 h-4 text-[#d97706]",stroke:2})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-[#2b2b40]",children:"Save as template"}),p.jsx("p",{className:"text-xs text-[#8d8ba7]",children:"Save current persona"})]}),p.jsx(Yr,{className:"w-4 h-4 text-[#8d8ba7]",stroke:2})]}),p.jsx("div",{className:"border-t border-[#ececf3] mt-2 pt-2",children:p.jsxs("button",{onClick:()=>{const R=String(Date.now()),G={id:R,name:"New Persona",gender:"Not specified",age:30,location:"Unknown",avatar:null,emotionalStates:[],behavioralTraits:[],additionalRemarks:""};cs([...dr,G]),Pr(R),fr(!1)},className:"w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-[#f5f7fa] transition-colors",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#f0f0f5] flex items-center justify-center",children:p.jsx(mI,{className:"w-4 h-4 text-[#6b697b]",stroke:2})}),p.jsx("p",{className:"text-sm font-medium text-[#2b2b40]",children:"Create new persona"})]})})]}),di==="switch"&&p.jsxs("div",{children:[p.jsxs("div",{className:"px-4 py-3 border-b border-[#ececf3] flex items-center gap-2",children:[p.jsx("button",{onClick:()=>un("main"),className:"p-1 hover:bg-[#f0f0f5] rounded",children:p.jsx(Bi,{className:"w-4 h-4 text-[#6b697b]",stroke:2})}),p.jsx("span",{className:"text-sm font-medium text-[#2b2b40]",children:"Switch persona"})]}),p.jsx("div",{className:"max-h-64 overflow-y-auto",children:dr.map(R=>p.jsxs("button",{onClick:()=>{Pr(R.id),fr(!1),un("main")},className:`w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-[#f5f7fa] transition-colors ${us===R.id?"bg-[#f0f4ff]":""}`,children:[R.avatar?p.jsx("img",{src:R.avatar,alt:R.name,className:"w-10 h-10 rounded-lg object-cover ring-2 ring-white shadow-sm"}):p.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-[#667eea] to-[#764ba2] flex items-center justify-center shadow-sm",children:p.jsx("span",{className:"text-sm font-bold text-white",children:R.name.split(" ").map(G=>G[0]).join("").toUpperCase()})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:`text-sm font-medium ${us===R.id?"text-[#0975d7]":"text-[#2b2b40]"}`,children:R.name}),p.jsxs("p",{className:"text-xs text-[#8d8ba7]",children:[R.gender,", ",R.age," yrs, ",R.location]})]}),us===R.id&&p.jsx(rm,{className:"w-4 h-4 text-[#0975d7]",stroke:2})]},R.id))})]}),di==="load"&&p.jsxs("div",{children:[p.jsxs("div",{className:"px-4 py-3 border-b border-[#ececf3] flex items-center gap-2",children:[p.jsx("button",{onClick:()=>un("main"),className:"p-1 hover:bg-[#f0f0f5] rounded",children:p.jsx(Bi,{className:"w-4 h-4 text-[#6b697b]",stroke:2})}),p.jsx("span",{className:"text-sm font-medium text-[#2b2b40]",children:"Load template"})]}),p.jsx("div",{className:"max-h-64 overflow-y-auto",children:Ma.map(R=>p.jsxs("button",{onClick:()=>{yi(R),fr(!1),un("main")},className:"w-full text-left px-4 py-3 hover:bg-[#f5f7fa] transition-colors border-b border-[#f5f5f5] last:border-b-0",children:[p.jsx("p",{className:"text-sm font-medium text-[#2b2b40]",children:R.name}),p.jsx("p",{className:"text-xs text-[#8d8ba7] mt-0.5",children:R.description}),p.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:R.persona.emotionalStates.slice(0,2).map((G,Se)=>p.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[#fee2e2] text-[#991b1b]",children:G},Se))})]},R.id))})]}),di==="save"&&p.jsxs("div",{children:[p.jsxs("div",{className:"px-4 py-3 border-b border-[#ececf3] flex items-center gap-2",children:[p.jsx("button",{onClick:()=>un("main"),className:"p-1 hover:bg-[#f0f0f5] rounded",children:p.jsx(Bi,{className:"w-4 h-4 text-[#6b697b]",stroke:2})}),p.jsx("span",{className:"text-sm font-medium text-[#2b2b40]",children:"Save as template"})]}),p.jsxs("div",{className:"p-4 space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-[#6b697b] mb-1",children:"Template name"}),p.jsx("input",{type:"text",value:gi,onChange:R=>mo(R.target.value),placeholder:"E.g., Angry refund seeker",className:"w-full px-3 py-2 text-sm border border-[#d7d6d1] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0975d7]/20 focus:border-[#0975d7]"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-[#6b697b] mb-1",children:"Description"}),p.jsx("input",{type:"text",value:Ta,onChange:R=>xi(R.target.value),placeholder:"Brief description...",className:"w-full px-3 py-2 text-sm border border-[#d7d6d1] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0975d7]/20 focus:border-[#0975d7]"})]}),p.jsx("button",{onClick:()=>{Aa(),fr(!1),un("main")},disabled:!gi.trim(),className:"w-full py-2 text-sm font-medium text-white bg-[#0975d7] rounded-lg hover:bg-[#0861b8] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save template"})]})]})]})]})]})]})}),p.jsx("div",{className:"bg-gradient-to-br from-[#fafbfc] to-white border-b border-[#eee] py-6",children:p.jsxs("div",{className:"px-6",children:[p.jsxs("div",{className:"flex items-center gap-5 mb-5",children:[p.jsx("div",{className:"shrink-0",children:p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden shadow-md ring-2 ring-white bg-gradient-to-br from-[#667eea] to-[#764ba2]",children:Ce.avatar?p.jsx("img",{src:Ce.avatar,alt:Ce.name,className:"w-full h-full object-cover",style:{objectPosition:"center top"}}):p.jsx("div",{className:"w-full h-full flex items-center justify-center",children:p.jsx("span",{className:"text-xl font-bold text-white",children:Ce.name.split(" ").map(R=>R[0]).join("").toUpperCase()})})}),p.jsx("button",{onClick:()=>{const R=document.createElement("input");R.type="file",R.accept="image/*",R.onchange=G=>{var Ie;const Se=(Ie=G.target.files)==null?void 0:Ie[0];if(Se){const Tt=new FileReader;Tt.onload=Zt=>{var Yn;vi((Yn=Zt.target)==null?void 0:Yn.result)},Tt.readAsDataURL(Se)}},R.click()},className:"absolute inset-0 bg-black/0 group-hover:bg-black/50 rounded-xl flex items-center justify-center transition-all cursor-pointer",children:p.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center gap-0.5",children:[p.jsx(rI,{className:"w-4 h-4 text-white",stroke:2}),p.jsx("span",{className:"text-[9px] text-white font-medium",children:"Change"})]})})]})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[ho==="name"?p.jsx("input",{type:"text",value:Ce.name,onChange:R=>ep(R.target.value),onBlur:()=>Pn(null),onKeyDown:R=>{R.key==="Enter"&&Pn(null)},className:"text-xl font-semibold text-[#2b2b40] border-b-2 border-[#0975d7] focus:outline-none bg-transparent w-full max-w-[200px] mb-2",autoFocus:!0}):p.jsxs("div",{className:"flex items-center gap-2 group cursor-pointer mb-2",onClick:()=>Pn("name"),children:[p.jsx("h3",{className:"text-xl font-semibold text-[#2b2b40]",children:Ce.name}),p.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-white/80 rounded",children:p.jsx(Fi,{className:"w-3.5 h-3.5 text-[#8d8ba7]",stroke:2})})]}),ho==="demographics"?p.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xs text-[#8d8ba7]",children:"Gender:"}),p.jsx("input",{type:"text",value:Ce.gender,onChange:R=>dn({gender:R.target.value}),className:"text-sm px-2 py-1 border border-[#0975d7] rounded-md focus:outline-none bg-white w-24"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xs text-[#8d8ba7]",children:"Age:"}),p.jsx("input",{type:"number",value:Ce.age,onChange:R=>dn({age:parseInt(R.target.value)||0}),className:"text-sm px-2 py-1 border border-[#0975d7] rounded-md focus:outline-none bg-white w-16"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xs text-[#8d8ba7]",children:"Location:"}),p.jsx("input",{type:"text",value:Ce.location,onChange:R=>dn({location:R.target.value}),className:"text-sm px-2 py-1 border border-[#0975d7] rounded-md focus:outline-none bg-white w-28"})]}),p.jsx("button",{onClick:()=>Pn(null),className:"text-xs text-white bg-[#0975d7] hover:bg-[#0861b8] px-3 py-1 rounded-md transition-colors",children:"Done"})]}):p.jsxs("div",{className:"flex flex-wrap items-center gap-2 group cursor-pointer",onClick:()=>Pn("demographics"),children:[p.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-white border border-[#e5e7eb] rounded-full text-xs text-[#4b5563]",children:[p.jsx("svg",{className:"w-3 h-3 text-[#9ca3af]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),Ce.gender]}),p.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-white border border-[#e5e7eb] rounded-full text-xs text-[#4b5563]",children:[p.jsx("svg",{className:"w-3 h-3 text-[#9ca3af]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),Ce.age," years old"]}),p.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-white border border-[#e5e7eb] rounded-full text-xs text-[#4b5563]",children:[p.jsxs("svg",{className:"w-3 h-3 text-[#9ca3af]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Ce.location]}),p.jsx("button",{className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-white rounded",children:p.jsx(Fi,{className:"w-3 h-3 text-[#8d8ba7]",stroke:2})})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-medium text-[#6b697b] uppercase tracking-wide mb-2",children:"Emotional state"}),p.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[Ce.emotionalStates.map((R,G)=>{const Se=bc(R),Ie=kc(R);return p.jsxs("span",{className:"px-3 py-1.5 text-sm rounded-full flex items-center gap-1.5 font-medium bg-[#f3f4f6] text-[#374151]",children:[p.jsx(Se,{className:"w-3.5 h-3.5",stroke:2,style:{color:Ie.icon}}),R,p.jsx("button",{onClick:()=>wi(Ce.emotionalStates.filter((Tt,Zt)=>Zt!==G)),className:"hover:opacity-70 transition-opacity ml-0.5 text-[#6b7280]",children:p.jsx(Tl,{className:"w-3 h-3",stroke:2})})]},G)}),p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>pi(!fi),className:"px-3 py-1.5 border border-dashed border-[#d0d0d0] rounded-full text-sm text-[#8d8ba7] hover:border-[#0975d7] hover:text-[#0975d7] transition-colors flex items-center gap-1.5",children:[p.jsx(kr,{className:"w-3.5 h-3.5",stroke:2}),"Add",p.jsx(Wo,{className:`w-3 h-3 transition-transform ${fi?"rotate-180":""}`,stroke:2})]}),fi&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>pi(!1)}),p.jsxs("div",{className:"absolute left-0 top-full mt-1 w-48 bg-white border border-[#ececf3] rounded-lg shadow-lg z-20 max-h-56 overflow-y-auto py-1",children:[Ir.filter(R=>!Ce.emotionalStates.includes(R)).map(R=>{const G=bc(R),Se=kc(R);return p.jsxs("button",{onClick:()=>{wi([...Ce.emotionalStates,R]),pi(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-[#f5f7fa] transition-colors flex items-center gap-2",children:[p.jsx(G,{className:"w-4 h-4",stroke:2,style:{color:Se.icon}}),p.jsx("span",{style:{color:Se.text},children:R})]},R)}),Ir.filter(R=>!Ce.emotionalStates.includes(R)).length===0&&p.jsx("p",{className:"px-3 py-2 text-sm text-[#8d8ba7] italic",children:"All options selected"})]})]})]})]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-medium text-[#6b697b] uppercase tracking-wide mb-2",children:"Behavioral traits"}),p.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[Ce.behavioralTraits.map((R,G)=>{const Se=Sc(R),Ie=pr(R);return p.jsxs("span",{className:"px-3 py-1.5 text-sm rounded-full flex items-center gap-1.5 font-medium bg-[#f3f4f6] text-[#374151]",children:[p.jsx(Se,{className:"w-3.5 h-3.5",stroke:2,style:{color:Ie.icon}}),R,p.jsx("button",{onClick:()=>bi(Ce.behavioralTraits.filter((Tt,Zt)=>Zt!==G)),className:"hover:opacity-70 transition-opacity ml-0.5 text-[#6b7280]",children:p.jsx(Tl,{className:"w-3 h-3",stroke:2})})]},G)}),p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>mi(!hi),className:"px-3 py-1.5 border border-dashed border-[#d0d0d0] rounded-full text-sm text-[#8d8ba7] hover:border-[#0975d7] hover:text-[#0975d7] transition-colors flex items-center gap-1.5",children:[p.jsx(kr,{className:"w-3.5 h-3.5",stroke:2}),"Add",p.jsx(Wo,{className:`w-3 h-3 transition-transform ${hi?"rotate-180":""}`,stroke:2})]}),hi&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>mi(!1)}),p.jsxs("div",{className:"absolute left-0 top-full mt-1 w-48 bg-white border border-[#ececf3] rounded-lg shadow-lg z-20 max-h-56 overflow-y-auto py-1",children:[Or.filter(R=>!Ce.behavioralTraits.includes(R)).map(R=>{const G=Sc(R),Se=pr(R);return p.jsxs("button",{onClick:()=>{bi([...Ce.behavioralTraits,R]),mi(!1)},className:"w-full text-left px-3 py-2 text-sm hover:bg-[#f5f7fa] transition-colors flex items-center gap-2",children:[p.jsx(G,{className:"w-4 h-4",stroke:2,style:{color:Se.icon}}),p.jsx("span",{style:{color:Se.text},children:R})]},R)}),Or.filter(R=>!Ce.behavioralTraits.includes(R)).length===0&&p.jsx("p",{className:"px-3 py-2 text-sm text-[#8d8ba7] italic",children:"All options selected"})]})]})]})]})]})]})]})}),p.jsx("div",{className:"border-b border-[#eee] py-5",children:p.jsxs("div",{className:"px-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-semibold text-[#2b2b40]",children:"Additional remarks"}),p.jsx("p",{className:"text-xs text-[#8d8ba7] mt-0.5",children:"Describe context, behaviour patterns, and other details about this persona"})]}),ho!=="remarks"&&p.jsx("button",{onClick:()=>Pn("remarks"),className:"text-[#0975d7] hover:text-[#0861b8] p-1",children:p.jsx(Fi,{className:"w-4 h-4",stroke:2})})]}),ho==="remarks"?p.jsx("textarea",{value:Ce.additionalRemarks,onChange:R=>ja(R.target.value),onBlur:()=>Pn(null),className:"bg-white border border-[#0975d7] rounded-lg p-4 min-h-[120px] w-full text-sm text-[#525066] focus:outline-none focus:ring-2 focus:ring-[#0975d7]/20 resize-none",placeholder:"E.g., Customer is frustrated because their order was delayed for the third time. They have been a loyal customer for 5 years and expect better service...",autoFocus:!0}):p.jsx("div",{onClick:()=>Pn("remarks"),className:"bg-[#fafafa] border border-[#e8e8e8] rounded-lg p-4 min-h-[120px] cursor-text hover:border-[#0975d7] transition-colors",children:p.jsx("p",{className:"text-sm text-[#525066] whitespace-pre-wrap leading-relaxed",children:Ce.additionalRemarks||"Click to add additional context and remarks about this persona..."})})]})})]}),r==="evaluation"&&p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[p.jsx("div",{className:"border-b border-[#eee] py-4 shrink-0",children:p.jsxs("div",{className:"px-6 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold text-[#2b2b40] mb-1",children:"Evaluation"}),p.jsx("p",{className:"text-sm text-[#8d8ba7]",children:"Select competencies to assess"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[oe?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:Ze,className:"px-3 py-2 text-sm text-[#6b7280] hover:text-[#374151] hover:bg-[#f3f4f6] rounded-lg transition-colors",children:"Discard"}),p.jsx("button",{onClick:Ve,disabled:Oe,className:"flex items-center gap-2 px-4 py-2 bg-[#059669] text-white rounded-lg hover:bg-[#047857] transition-colors text-sm font-medium disabled:opacity-70",children:Oe?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):p.jsxs(p.Fragment,{children:[p.jsx(rm,{className:"w-4 h-4",stroke:2}),"Save changes"]})})]}):p.jsx(p.Fragment,{children:p.jsxs("div",{className:"relative","data-evaluation-template-menu":!0,children:[p.jsxs("button",{onClick:()=>{te(!re),H("main")},className:"flex items-center gap-2 px-3 py-2 border border-[#d7d6d1] text-[#525066] rounded-lg hover:bg-[#f5f5f5] transition-colors text-sm font-medium",children:[p.jsx(im,{className:"w-4 h-4",stroke:2}),"Templates",p.jsx(Wo,{className:`w-3 h-3 transition-transform ${re?"rotate-180":""}`,stroke:2})]}),re&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{te(!1),H("main")}}),p.jsxs("div",{className:"absolute right-0 top-[calc(100%+4px)] bg-white rounded-xl shadow-xl border border-[#e4e4e7] w-80 z-50 overflow-hidden",children:[F==="main"&&p.jsxs("div",{className:"py-2",children:[p.jsxs("button",{onClick:()=>H("load"),className:"w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-[#f5f7fa] transition-colors",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#f0fff4] flex items-center justify-center",children:p.jsx(rb,{className:"w-4 h-4 text-[#10b981]",stroke:2})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-[#2b2b40]",children:"Load template"}),p.jsx("p",{className:"text-xs text-[#8d8ba7]",children:"Use a saved template"})]}),p.jsx(Yr,{className:"w-4 h-4 text-[#8d8ba7]",stroke:2})]}),p.jsxs("button",{onClick:()=>{H("save"),_(""),ae("")},className:"w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-[#f5f7fa] transition-colors",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#fef3c7] flex items-center justify-center",children:p.jsx(im,{className:"w-4 h-4 text-[#d97706]",stroke:2})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-sm font-medium text-[#2b2b40]",children:"Save as template"}),p.jsx("p",{className:"text-xs text-[#8d8ba7]",children:"Save current parameters"})]}),p.jsx(Yr,{className:"w-4 h-4 text-[#8d8ba7]",stroke:2})]})]}),F==="load"&&p.jsxs("div",{children:[p.jsxs("div",{className:"px-4 py-3 border-b border-[#ececf3] flex items-center gap-2",children:[p.jsx("button",{onClick:()=>H("main"),className:"p-1 hover:bg-[#f0f0f5] rounded",children:p.jsx(Bi,{className:"w-4 h-4 text-[#6b697b]",stroke:2})}),p.jsx("span",{className:"text-sm font-medium text-[#2b2b40]",children:"Load template"})]}),p.jsx("div",{className:"max-h-64 overflow-y-auto",children:le.length===0?p.jsx("div",{className:"px-4 py-6 text-center",children:p.jsx("p",{className:"text-sm text-[#8d8ba7]",children:"No templates saved yet"})}):le.map(R=>p.jsxs("button",{onClick:()=>Ht(R),className:"w-full text-left px-4 py-3 hover:bg-[#f5f7fa] transition-colors border-b border-[#f5f5f5] last:border-b-0",children:[p.jsx("p",{className:"text-sm font-medium text-[#2b2b40]",children:R.name}),p.jsx("p",{className:"text-xs text-[#8d8ba7] mt-0.5",children:R.description}),p.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[R.parameters.slice(0,2).map((G,Se)=>p.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[#e0f2fe] text-[#0369a1]",children:G.title.length>25?G.title.substring(0,25)+"...":G.title},Se)),R.parameters.length>2&&p.jsxs("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-[#f0f0f5] text-[#6b697b]",children:["+",R.parameters.length-2," more"]})]})]},R.id))})]}),F==="save"&&p.jsxs("div",{children:[p.jsxs("div",{className:"px-4 py-3 border-b border-[#ececf3] flex items-center gap-2",children:[p.jsx("button",{onClick:()=>H("main"),className:"p-1 hover:bg-[#f0f0f5] rounded",children:p.jsx(Bi,{className:"w-4 h-4 text-[#6b697b]",stroke:2})}),p.jsx("span",{className:"text-sm font-medium text-[#2b2b40]",children:"Save as template"})]}),p.jsxs("div",{className:"p-4 space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-[#6b697b] mb-1",children:"Template name"}),p.jsx("input",{type:"text",value:q,onChange:R=>_(R.target.value),placeholder:"E.g., Customer support basics",className:"w-full px-3 py-2 text-sm border border-[#d7d6d1] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0975d7]/20 focus:border-[#0975d7]"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-[#6b697b] mb-1",children:"Description"}),p.jsx("input",{type:"text",value:U,onChange:R=>ae(R.target.value),placeholder:"Brief description...",className:"w-full px-3 py-2 text-sm border border-[#d7d6d1] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#0975d7]/20 focus:border-[#0975d7]"})]}),p.jsxs("div",{className:"flex items-center gap-2 text-xs text-[#8d8ba7] bg-[#f5f7fa] rounded-lg px-3 py-2",children:[p.jsx(sm,{className:"w-4 h-4",stroke:2}),p.jsxs("span",{children:[I.length," parameter",I.length!==1?"s":""," will be saved"]})]}),p.jsx("button",{onClick:as,disabled:!q.trim()||I.length===0,className:"w-full py-2 text-sm font-medium text-white bg-[#0975d7] rounded-lg hover:bg-[#0861b8] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save template"})]})]})]})]})]})}),p.jsxs("button",{onClick:()=>{const G={id:String(I.length+1),title:"New evaluation parameter",criteria:["0-2: [Enter description]","3-4: [Enter description]","5-6: [Enter description]","7-8: [Enter description]","9-10: [Enter description]"],mappedCompetency:"Empathy"};L([G,...I])},className:"flex items-center gap-2 px-4 py-2 bg-[#0975d7] text-white rounded-lg hover:bg-[#0861b8] transition-colors text-sm font-medium",children:[p.jsx(kr,{className:"w-4 h-4",stroke:2}),"Add evaluation parameter"]})]})]})}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:I.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[p.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#f3f4f6] flex items-center justify-center mb-3",children:p.jsx(sm,{className:"w-6 h-6 text-[#9ca3af]",stroke:1.5})}),p.jsx("h3",{className:"text-sm font-medium text-[#374151] mb-1",children:"No evaluation parameters"}),p.jsx("p",{className:"text-xs text-[#9ca3af] max-w-xs",children:"Add parameters to define assessment criteria"})]}):I.map(R=>{const G=["0-2","3-4","5-6","7-8","9-10"];return p.jsxs("div",{className:"border-b border-[#e5e7eb]",children:[p.jsxs("div",{className:"px-6 py-4 flex items-center gap-4",children:[p.jsx("div",{className:"flex-1 min-w-0",children:(P==null?void 0:P.type)==="title"&&P.parameterId===R.id?p.jsx("input",{type:"text",value:X,onChange:Se=>W(Se.target.value),onBlur:()=>{X.trim()&&L(I.map(Se=>Se.id===R.id?{...Se,title:X.trim()}:Se)),K(null),W("")},onKeyDown:Se=>{Se.key==="Enter"&&X.trim()?(L(I.map(Ie=>Ie.id===R.id?{...Ie,title:X.trim()}:Ie)),K(null),W("")):Se.key==="Escape"&&(K(null),W(""))},className:"w-full text-sm font-medium text-[#1f2937] border-b border-[#0975d7] focus:outline-none bg-transparent",autoFocus:!0}):p.jsxs("div",{className:"flex items-center gap-2 group/title",children:[p.jsx("span",{className:"text-sm font-medium text-[#1f2937]",children:R.title}),p.jsx("button",{onClick:()=>{K({type:"title",parameterId:R.id}),W(R.title)},className:"opacity-0 group-hover/title:opacity-100 p-0.5 rounded hover:bg-[#f0f0f0] transition-all",children:p.jsx(Fi,{className:"w-3 h-3 text-[#9ca3af]",stroke:2})})]})}),p.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[p.jsx("span",{className:"text-sm text-[#9ca3af]",children:"Mapped competency"}),p.jsxs("div",{className:"relative","data-competency-dropdown":!0,children:[p.jsxs("button",{onClick:()=>{be(Y===R.id?null:R.id)},className:"flex items-center gap-1.5 text-sm px-2.5 py-1 rounded-md border border-dashed border-[#d1d5db] hover:border-[#059669] hover:bg-[#ecfdf5] transition-colors",children:[p.jsx("span",{className:"text-[#059669] font-medium",children:R.mappedCompetency}),p.jsx(Wo,{className:`w-3 h-3 text-[#059669] transition-transform ${Y===R.id?"rotate-180":""}`,stroke:2})]}),Y===R.id&&p.jsx("div",{className:"absolute right-0 top-[calc(100%+8px)] bg-white rounded-lg shadow-lg border border-[#e5e7eb] py-1 min-w-[180px] z-50 max-h-[280px] overflow-y-auto",children:j.map(Se=>p.jsx("button",{onClick:()=>{L(I.map(Ie=>Ie.id===R.id?{...Ie,mappedCompetency:Se}:Ie)),be(null)},className:`w-full text-left px-3 py-2 text-sm hover:bg-[#f5f5f5] transition-colors ${R.mappedCompetency===Se?"bg-[#ecfdf5] text-[#059669] font-medium":"text-[#374151]"}`,children:Se},Se))})]})]}),p.jsx("button",{onClick:()=>{L(I.filter(Se=>Se.id!==R.id))},className:"p-1.5 rounded hover:bg-[#fef2f2] transition-colors group/del shrink-0",title:"Delete parameter",children:p.jsx(Ng,{className:"w-4 h-4 text-[#d1d5db] group-hover/del:text-[#ef4444]",stroke:1.5})})]}),p.jsx("div",{className:"px-6 pb-5 pt-1",children:p.jsx("div",{className:"space-y-0",children:R.criteria.map((Se,Ie)=>{const Tt=Se.match(/^(\d+-\d+):\s*(.*)$/),Zt=Tt?Tt[1]:G[Ie]||"",Yn=Tt?Tt[2]:Se,at=(P==null?void 0:P.type)==="criteria"&&P.parameterId===R.id&&P.criteriaIndex===Ie;return p.jsxs("div",{className:`flex items-start gap-3 py-2.5 px-2 -mx-2 rounded-md group/row transition-all ${at?"bg-[#f0f7ff]":"hover:bg-[#f9fafb] cursor-pointer"}`,onClick:()=>{at||(K({type:"criteria",parameterId:R.id,criteriaIndex:Ie}),W(Yn))},children:[p.jsx("span",{className:"text-xs font-medium text-[#6b7280] bg-[#f3f4f6] px-2 py-0.5 rounded w-12 text-center shrink-0 mt-0.5",children:Zt}),at?p.jsx("textarea",{value:X,onChange:$e=>W($e.target.value),onBlur:()=>{if(X.trim()){const $e=[...R.criteria];$e[Ie]=`${Zt}: ${X.trim()}`,L(I.map(ds=>ds.id===R.id?{...ds,criteria:$e}:ds))}K(null),W("")},onKeyDown:$e=>{if($e.key==="Enter"&&!$e.shiftKey&&X.trim()){$e.preventDefault();const ds=[...R.criteria];ds[Ie]=`${Zt}: ${X.trim()}`,L(I.map(ki=>ki.id===R.id?{...ki,criteria:ds}:ki)),K(null),W("")}else $e.key==="Escape"&&(K(null),W(""))},onClick:$e=>$e.stopPropagation(),className:"flex-1 text-sm text-[#374151] bg-white rounded-md px-3 py-2 border border-[#0975d7] focus:outline-none focus:ring-2 focus:ring-[#0975d7]/20 resize-none",autoFocus:!0,rows:2}):p.jsxs("div",{className:"flex-1 flex items-start gap-2 group/text",children:[p.jsx("p",{className:"flex-1 text-sm text-[#4b5563] leading-relaxed",children:Yn}),p.jsx(Fi,{className:"w-3.5 h-3.5 text-[#d1d5db] opacity-0 group-hover/row:opacity-100 transition-opacity shrink-0 mt-0.5",stroke:2})]})]},Ie)})})})]},R.id)})})]}),r==="exit"&&p.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden bg-gradient-to-br from-[#fafafa] to-[#f0f4f8]",children:[p.jsx("div",{className:"border-b border-[#eee] py-4 shrink-0 bg-white",children:p.jsxs("div",{className:"px-6 flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold text-[#2b2b40] mb-1",children:"Exit conditions"}),p.jsx("p",{className:"text-sm text-[#8d8ba7]",children:"Define when the scenario should end"})]}),p.jsxs("button",{onClick:xc,className:"flex items-center gap-2 px-4 py-2 bg-[#0975d7] text-white rounded-lg hover:bg-[#0861b8] transition-colors text-sm font-medium",children:[p.jsx(kr,{className:"w-4 h-4",stroke:2}),"Add exit condition"]})]})}),p.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto py-8 px-6",children:p.jsxs("div",{className:"max-w-3xl mx-auto",children:[p.jsx("div",{className:"relative",children:Rn.map((R,G)=>{const Se=ls(R.icon),Ie=Ea(R.icon),Tt=(Mt==null?void 0:Mt.id)===R.id&&(Mt==null?void 0:Mt.field)==="trigger",Zt=(Mt==null?void 0:Mt.id)===R.id&&(Mt==null?void 0:Mt.field)==="action",Yn=G===Rn.length-1;return p.jsxs("div",{className:"relative group",children:[!Yn&&p.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 z-10",style:{top:"100%"},children:[p.jsx("div",{className:"w-0.5 h-6 bg-gradient-to-b from-[#d1d5db] to-[#9ca3af] mx-auto"}),p.jsx("div",{className:"flex items-center justify-center",children:p.jsx("span",{className:"text-[10px] font-bold tracking-wider text-[#9ca3af] bg-white border border-[#e5e7eb] px-3 py-1 rounded-full shadow-sm",children:"OR"})}),p.jsx("div",{className:"w-0.5 h-6 bg-gradient-to-b from-[#9ca3af] to-[#d1d5db] mx-auto"})]}),G>0&&p.jsx("div",{className:"h-16"}),p.jsxs("div",{className:"relative bg-white rounded-2xl shadow-[0_4px_20px_rgba(0,0,0,0.08)] border border-[#e5e7eb] overflow-hidden transition-all duration-300 hover:shadow-[0_8px_30px_rgba(0,0,0,0.12)] hover:border-[#d1d5db]",children:[p.jsx("div",{className:"h-1.5",style:{background:Ie.bg}}),p.jsx("div",{className:"p-5",children:p.jsxs("div",{className:"flex items-stretch gap-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"flex items-center gap-2 mb-3",children:p.jsx("span",{className:"text-[10px] font-bold tracking-wider text-[#6b7280] uppercase bg-[#f3f4f6] px-2 py-1 rounded",children:"If"})}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("button",{onClick:()=>vc(R.id),className:"shrink-0 w-10 h-10 rounded-xl flex items-center justify-center transition-transform hover:scale-110 cursor-pointer",style:{backgroundColor:Ie.iconBg},title:"Click to change icon",children:p.jsx(Se,{className:"w-5 h-5",stroke:2,style:{color:Ie.iconColor}})}),Tt?p.jsx("input",{type:"text",value:bt,onChange:at=>Wt(at.target.value),onBlur:()=>{bt.trim()&&ui(R.id,"trigger",bt.trim()),wn(null),Wt("")},onKeyDown:at=>{at.key==="Enter"&&bt.trim()?(ui(R.id,"trigger",bt.trim()),wn(null),Wt("")):at.key==="Escape"&&(wn(null),Wt(""))},className:"flex-1 text-sm text-[#374151] font-medium border-b-2 border-[#0975d7] focus:outline-none bg-transparent py-1",autoFocus:!0}):p.jsx("div",{onClick:()=>{wn({id:R.id,field:"trigger"}),Wt(R.trigger)},className:"flex-1 text-sm text-[#374151] font-medium cursor-text hover:text-[#0975d7] transition-colors py-1",children:R.trigger})]})]}),p.jsx("div",{className:"flex items-center px-2",children:p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:"w-8 h-0.5 bg-gradient-to-r from-[#d1d5db] to-[#9ca3af] rounded"}),p.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center shadow-md",style:{background:Ie.bg},children:p.jsx(Yr,{className:"w-4 h-4 text-white",stroke:2.5})}),p.jsx("div",{className:"w-8 h-0.5 bg-gradient-to-r from-[#9ca3af] to-[#d1d5db] rounded"})]})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"flex items-center gap-2 mb-3",children:p.jsx("span",{className:"text-[10px] font-bold tracking-wider text-[#6b7280] uppercase bg-[#f3f4f6] px-2 py-1 rounded",children:"Then"})}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"#fee2e2"},children:p.jsx(ob,{className:"w-5 h-5",stroke:2,style:{color:"#dc2626"}})}),Zt?p.jsx("input",{type:"text",value:bt,onChange:at=>Wt(at.target.value),onBlur:()=>{bt.trim()&&ui(R.id,"action",bt.trim()),wn(null),Wt("")},onKeyDown:at=>{at.key==="Enter"&&bt.trim()?(ui(R.id,"action",bt.trim()),wn(null),Wt("")):at.key==="Escape"&&(wn(null),Wt(""))},className:"flex-1 text-sm text-[#374151] font-medium border-b-2 border-[#0975d7] focus:outline-none bg-transparent py-1",autoFocus:!0}):p.jsx("div",{onClick:()=>{wn({id:R.id,field:"action"}),Wt(R.action)},className:"flex-1 text-sm text-[#374151] font-medium cursor-text hover:text-[#0975d7] transition-colors py-1",children:R.action})]})]}),p.jsx("button",{onClick:()=>yc(R.id),className:"shrink-0 opacity-0 group-hover:opacity-100 transition-opacity p-2 hover:bg-[#fee2e2] rounded-lg self-start",title:"Delete condition",children:p.jsx(Ng,{className:"w-4 h-4 text-[#dc2626]",stroke:2})})]})})]})]},R.id)})}),p.jsx("p",{className:"mt-6 text-center text-xs text-[#9ca3af]",children:"Click on any text to edit  Click icons to change type  Hover to delete"})]})})]})]})]})]}),y&&p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-[600px] max-h-[80vh] flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-[#eee]",children:[p.jsx("h2",{className:"text-xl font-semibold text-[#2b2b40]",children:"Select Workflow"}),p.jsx("button",{onClick:()=>w(!1),className:"p-1 hover:bg-[#f5f5f5] rounded transition-colors",children:p.jsx(Tl,{className:"w-5 h-5 text-[#6b697b]",stroke:2})})]}),p.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[#eee]",children:[p.jsxs("div",{className:"flex gap-6",children:[p.jsx("button",{onClick:()=>S("draft"),className:`text-sm font-medium pb-1 border-b-2 transition-colors ${k==="draft"?"text-[#0975d7] border-[#0975d7]":"text-[#6b697b] border-transparent hover:text-[#3d3c52]"}`,children:"Draft"}),p.jsx("button",{onClick:()=>S("ready"),className:`text-sm font-medium pb-1 border-b-2 transition-colors ${k==="ready"?"text-[#0975d7] border-[#0975d7]":"text-[#6b697b] border-transparent hover:text-[#3d3c52]"}`,children:"Ready"})]}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",placeholder:"Search for the workflow",value:A,onChange:R=>D(R.target.value),className:"w-[220px] pl-3 pr-10 py-2 text-sm border border-[#d7d6d1] rounded-md focus:outline-none focus:ring-2 focus:ring-[#0975d7]/20 focus:border-[#0975d7]"}),p.jsx(mC,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#6b697b]",stroke:2})]})]}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:Fk.filter(R=>R.name.toLowerCase().includes(A.toLowerCase())).map(R=>p.jsxs("label",{className:"flex items-center justify-between px-6 py-4 border-b border-[#f0f0f0] cursor-pointer hover:bg-[#fafafa] transition-colors",children:[p.jsx("span",{className:"text-sm text-[#2b2b40]",children:R.name}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"radio",name:"workflow",value:R.id,checked:C===R.id,onChange:()=>M(R.id),className:"sr-only"}),p.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${C===R.id?"border-[#0975d7] bg-[#0975d7]":"border-[#d7d6d1]"}`,children:C===R.id&&p.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})})]})]},R.id))})]}),p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-[#eee] bg-[#fafafa]",children:[p.jsx("button",{className:"text-sm text-[#0975d7] hover:underline",children:"Don't have a workflow, create one"}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("button",{onClick:()=>w(!1),className:"px-5 py-2.5 text-sm font-medium text-[#3d3c52] bg-white border border-[#d7d6d1] rounded-md hover:bg-[#f5f5f5] transition-colors",children:"Cancel"}),p.jsx("button",{onClick:()=>{const R=Fk.find(G=>G.id===C);R&&e&&e(R.id,R.name),w(!1)},className:"px-5 py-2.5 text-sm font-medium text-white bg-[#0975d7] rounded-md hover:bg-[#0861b8] transition-colors",children:"Attach"})]})]})]})})]})}const Nn={p1df9e300:"M31.6062 10.1538L28.92 16.1815H28.8185L28.2646 10.1538H25.92L23.2892 16.1815H23.1877L22.5323 10.1538H20.1046L21.36 19.3846H23.9077L26.4462 13.7262L27 19.3846H29.6862L34.0892 10.1538H31.6062Z",p1e734d80:"M5.5 22H7.21238e-07V16.5H5.5V22Z",p1f8d54f0:"M39.6923 9.97846C39.1728 9.96384 38.6563 10.0619 38.1782 10.2658C37.7002 10.4698 37.272 10.7748 36.9231 11.16L37.7815 6.40615H35.2892L32.9908 19.3846H35.4738L36.3969 14.0585C36.4524 13.4897 36.7194 12.9626 37.1451 12.5814C37.5707 12.2002 38.124 11.9927 38.6954 12C39.8123 12 40.1077 12.6831 40.1077 13.4677C40.0941 13.8372 40.0478 14.2048 39.9692 14.5662L39.1108 19.3846H41.5385L42.4615 14.5108C42.5771 13.9358 42.645 13.3523 42.6646 12.7662C42.6863 12.3783 42.6227 11.9904 42.4783 11.6298C42.3339 11.2691 42.1123 10.9445 41.8289 10.6788C41.5456 10.413 41.2074 10.2126 40.8383 10.0916C40.4692 9.97062 40.078 9.932 39.6923 9.97846Z",p32703c00:"M64.9662 9.23077C65.0862 8.55692 65.1969 8.05846 66.1015 8.05846C66.355 8.06279 66.6079 8.08438 66.8585 8.12308L67.1539 6.46154C66.6741 6.33988 66.1811 6.27788 65.6862 6.27692C63.3969 6.27692 62.7785 7.95692 62.5108 9.39692L62.3723 10.2092H60.8585L60.6092 12.0554H62.0308L60.7385 19.5415C60.7252 19.8172 60.6104 20.0783 60.4161 20.2743C60.2217 20.4703 59.9617 20.5874 59.6862 20.6031L59.3446 22.4492C62.1139 22.6062 62.7877 21.5262 63.1292 19.5877L64.4769 12H66.1662L66.4615 10.1538H64.8L64.9662 9.23077Z",p3d4d0800:"M22 5.5H16.5V1.44248e-06H22V5.5Z",p5f73d00:"M51.1015 11.5385C50.7786 11.0178 50.318 10.5965 49.7707 10.3212C49.2233 10.0459 48.6105 9.9273 48 9.97846C47.3305 9.9599 46.6644 10.0798 46.0433 10.3306C45.4223 10.5815 44.8598 10.9579 44.391 11.4362C43.9222 11.9145 43.5572 12.4845 43.3189 13.1105C43.0806 13.7364 42.9741 14.4048 43.0062 15.0738C43.0062 17.6862 44.6308 19.5323 47.2154 19.5323C47.7134 19.567 48.2129 19.4887 48.6764 19.3033C49.1399 19.1179 49.5556 18.8301 49.8923 18.4615L49.7262 19.3385H51.9415L52.2646 17.3631L53.5385 10.1538H51.3415L51.1015 11.5385ZM47.7785 17.6123C47.4454 17.6253 47.1134 17.5659 46.8055 17.4383C46.4975 17.3107 46.2209 17.1179 45.9945 16.8731C45.7682 16.6284 45.5976 16.3375 45.4944 16.0205C45.3913 15.7036 45.358 15.368 45.3969 15.0369C45.3969 13.5046 46.2462 11.9077 48.1662 11.9077C48.5005 11.8914 48.8344 11.9474 49.1451 12.072C49.4557 12.1965 49.7359 12.3867 49.9664 12.6294C50.1968 12.8722 50.3722 13.1618 50.4805 13.4785C50.5888 13.7952 50.6275 14.1316 50.5938 14.4646C50.6253 14.8582 50.5765 15.2541 50.4504 15.6283C50.3243 16.0025 50.1236 16.3472 49.8603 16.6415C49.5971 16.9358 49.2768 17.1736 48.919 17.3404C48.5611 17.5073 48.1731 17.5998 47.7785 17.6123Z",p86d36f0:"M67.0431 10.1538L66.7108 12H67.8092L66.5077 19.3846H68.9446L70.5785 10.1538H67.0431Z",pbd1d800:"M56.5754 16.5046L57.3692 12H59.7508L60.0554 10.1538H57.6738L58.1538 7.50462H56.1231L55.2554 10.1538H53.9631L53.6215 12H54.9231L54.1754 16.2462C53.8523 18.0923 54.12 19.5692 56.4277 19.5692C57.1194 19.611 57.8107 19.481 58.44 19.1908L58.7446 17.4369C58.3068 17.5881 57.8502 17.6782 57.3877 17.7046C56.6215 17.6677 56.4462 17.2154 56.5754 16.5046Z",pcb8800:"M69.4154 8.91692C69.6823 8.91692 69.9433 8.83764 70.1651 8.68914C70.3869 8.54064 70.5596 8.32961 70.6614 8.08282C70.7631 7.83602 70.7892 7.56457 70.7365 7.3029C70.6837 7.04122 70.5544 6.8011 70.365 6.613C70.1756 6.42489 69.9346 6.29727 69.6726 6.24632C69.4106 6.19536 69.1393 6.22337 68.8932 6.32679C68.6471 6.43022 68.4373 6.60439 68.2903 6.82723C68.1434 7.05006 68.0659 7.31153 68.0677 7.57846C68.0701 7.93429 68.2132 8.27471 68.4657 8.52546C68.7182 8.77621 69.0596 8.91693 69.4154 8.91692Z",pd482700:"M23.8431 1.59692L17.4646 16.1908H17.3538L16.6615 10.1538L13.3385 17.5385L13.5785 19.3846H20.3077L28.2831 1.59692H23.8431Z",pd8fa900:"M16.6615 10.1538H12.3323L13.3385 17.6123L16.6615 10.2277V10.1538Z",pf911b40:"M16.0708 1.59692L9.69231 16.1908H9.58154L8.88923 10.1538H4.56L5.79692 19.3846H12.5538L13.3385 17.64L12.3323 10.1538H16.6615L20.5108 1.56923L16.0708 1.59692Z",pfa49600:"M80.3631 10.1538H77.4646L75.3415 12.9877L73.9292 10.1538H71.2892L73.6985 14.5938L69.6369 19.3846H72.5539L74.8154 16.3938L76.2831 19.3846H78.8769L76.4862 14.7692L80.3631 10.1538Z"},yz="/assets/9fd108fffcc9a09175ecdd31b797649bb5abc594-Di3pCWCL.png",vz="/assets/3c37e63c6742aa8bdee80dfefd60ca99840641a4-D_dDp54q.png";function wz({onNavigateToDashboard:t,onSettingsClick:e,isSettingsActive:n,isWorkflowsActive:r=!0}){return p.jsxs("div",{className:"bg-[#1f1f32] flex flex-col h-screen items-start px-0 py-[8px] shrink-0 w-[240px] overflow-y-auto",children:[p.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:p.jsx("div",{className:"flex flex-row items-center size-full",children:p.jsx("div",{className:"content-stretch flex items-center px-[12px] py-[8px] relative w-full",children:p.jsxs("div",{className:"basis-0 bg-[#1f1f32] content-stretch flex grow items-center justify-between min-h-px min-w-px relative rounded-[8px] shrink-0 cursor-pointer hover:bg-[#2a2a3f] transition-colors",onClick:t,children:[p.jsxs("div",{className:"content-stretch flex items-center relative shrink-0",children:[p.jsx("div",{className:"content-stretch flex flex-col items-center justify-center relative shrink-0 size-[44px]",children:p.jsx("div",{className:"relative shrink-0 size-[22px]",children:p.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 22 22",children:p.jsxs("g",{children:[p.jsx("rect",{fill:"#F55800",height:"5.5",width:"16.5",x:"0",y:"16.5"}),p.jsx("rect",{fill:"#F55800",height:"5.5",transform:"rotate(-90 0 22)",width:"16.5",x:"0",y:"22"}),p.jsx("path",{d:Nn.p1e734d80,fill:"#C63D22"}),p.jsx("rect",{fill:"#FBA450",height:"5.5",transform:"rotate(-180 22 5.5)",width:"16.5",x:"22",y:"5.5"}),p.jsx("rect",{fill:"#FBA450",height:"5.5",transform:"rotate(90 22 0)",width:"16.5",x:"22",y:"0"}),p.jsx("path",{d:Nn.p3d4d0800,fill:"#FA8A1F"})]})})})}),p.jsx("p",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[24px] not-italic relative shrink-0 text-[16px] text-nowrap text-white",children:"Mirror"})]}),p.jsx("div",{className:"content-stretch flex items-center justify-center overflow-clip p-[12px] relative rounded-[24px] shrink-0",children:p.jsx(Sg,{className:"size-[20px] text-white",stroke:2})})]})})})}),p.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:p.jsx("div",{className:"content-stretch flex flex-col items-start px-[12px] py-[8px] relative w-full",children:p.jsx("div",{className:"bg-white h-px opacity-[0.16] shrink-0 w-full"})})}),p.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:p.jsx("div",{className:"content-stretch flex flex-col items-start px-[12px] py-[8px] relative w-full",children:p.jsxs("div",{className:"content-stretch flex items-center relative rounded-[8px] shrink-0 w-full",children:[p.jsx("div",{className:"overflow-clip relative rounded-[8px] shrink-0 size-[44px]",children:p.jsx("div",{className:"absolute left-1/2 size-[24px] top-1/2 translate-x-[-50%] translate-y-[-50%]",children:p.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:p.jsx("img",{alt:"",className:"absolute h-[70%] left-0 max-w-none top-[16.55%] w-full",src:yz})})})}),p.jsx("p",{className:"basis-0 font-['Inter:Medium',sans-serif] font-medium grow leading-[20px] min-h-px min-w-px not-italic relative shrink-0 text-[#ececf3] text-[14px]",children:"JnJ Salesforce"}),p.jsx("div",{className:"overflow-clip relative shrink-0 size-[44px]",children:p.jsx("div",{className:"absolute left-1/2 size-[20px] top-1/2 translate-x-[-50%] translate-y-[-50%]",children:p.jsx(Wo,{className:"size-[20px] text-[#ECECF3]",stroke:2})})})]})})}),p.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:p.jsxs("div",{className:"content-stretch flex flex-col gap-[4px] items-start px-[12px] py-[8px] relative w-full",children:[p.jsxs("div",{className:`relative shrink-0 w-full ${r?"bg-[#3d3c52] rounded-[8px]":""}`,onClick:t,children:[p.jsx("div",{className:"flex flex-row items-center overflow-clip rounded-[inherit] size-full cursor-pointer hover:bg-[#2a2a3f] transition-colors",children:p.jsxs("div",{className:"content-stretch flex items-center pl-0 pr-[12px] py-0 relative w-full",children:[p.jsx("div",{className:"content-stretch flex gap-[8px] items-center justify-center p-[10px] relative rounded-[8px] shrink-0",children:p.jsx(Sg,{className:`size-[24px] ${r?"text-[#F58857]":"text-[#DFDDE7]"}`,stroke:2})}),p.jsx("p",{className:`font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[14px] text-nowrap ${r?"text-[#fff8f5]":"text-[#ececf3]"}`,children:"Workflows"})]})}),r&&p.jsx("div",{"aria-hidden":"true",className:"absolute border border-[#525066] border-solid inset-0 pointer-events-none rounded-[8px]"})]}),p.jsx("div",{className:"relative shrink-0 w-full",children:p.jsx("div",{className:"flex flex-row items-center overflow-clip rounded-[inherit] size-full",children:p.jsxs("div",{className:"content-stretch flex items-center pl-0 pr-[12px] py-0 relative w-full",children:[p.jsx("div",{className:"content-stretch flex gap-[8px] items-center justify-center p-[10px] relative rounded-[8px] shrink-0",children:p.jsx(dC,{className:"size-[24px] text-[#DFDDE7]",stroke:2})}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[#ececf3] text-[14px] text-nowrap",children:"Analytics"})]})})}),p.jsxs("div",{className:`relative shrink-0 w-full ${n?"bg-[#3d3c52] rounded-[8px]":""}`,onClick:e,children:[p.jsx("div",{className:"flex flex-row items-center overflow-clip rounded-[inherit] size-full cursor-pointer hover:bg-[#2a2a3f] transition-colors",children:p.jsxs("div",{className:"content-stretch flex items-center pl-0 pr-[12px] py-0 relative w-full",children:[p.jsx("div",{className:"content-stretch flex gap-[8px] items-center justify-center p-[10px] relative rounded-[8px] shrink-0",children:p.jsx(gC,{className:`size-[24px] ${n?"text-[#F58857]":"text-[#DFDDE7]"}`,stroke:2})}),p.jsx("p",{className:`font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[14px] text-nowrap ${n?"text-[#fff8f5]":"text-[#ececf3]"}`,children:"Settings"})]})}),n&&p.jsx("div",{"aria-hidden":"true",className:"absolute border border-[#525066] border-solid inset-0 pointer-events-none rounded-[8px]"})]})]})}),p.jsx("div",{className:"basis-0 grow min-h-px min-w-px shrink-0 w-full"}),p.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:p.jsx("div",{className:"content-stretch flex flex-col items-start px-[12px] py-[8px] relative w-full",children:p.jsx("div",{className:"bg-white h-px opacity-[0.16] shrink-0 w-full"})})}),p.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:p.jsxs("div",{className:"content-stretch flex flex-col gap-[4px] items-start px-[12px] py-[8px] relative w-full",children:[p.jsxs("div",{className:"content-stretch flex items-center relative rounded-[8px] shrink-0 w-full",children:[p.jsx("div",{className:"overflow-clip relative shrink-0 size-[44px]",children:p.jsxs("div",{className:"absolute left-1/2 pointer-events-none rounded-[16px] size-[32px] top-1/2 translate-x-[-50%] translate-y-[-50%]",children:[p.jsx("img",{alt:"",className:"absolute inset-0 max-w-none object-50%-50% object-cover rounded-[16px] size-full",src:vz}),p.jsx("div",{"aria-hidden":"true",className:"absolute border-2 border-[#872345] border-solid inset-0 rounded-[16px]"})]})}),p.jsx("p",{className:"basis-0 font-['Inter:Medium',sans-serif] font-medium grow leading-[20px] min-h-px min-w-px not-italic relative shrink-0 text-[#ececf3] text-[14px]",children:"John Doe"})]}),p.jsx("div",{className:"relative shrink-0 w-full",children:p.jsx("div",{className:"flex flex-row items-center overflow-clip rounded-[inherit] size-full",children:p.jsxs("div",{className:"content-stretch flex items-center pl-0 pr-[12px] py-0 relative w-full",children:[p.jsxs("div",{className:"content-stretch flex gap-[8px] items-center justify-center p-[10px] relative rounded-[8px] shrink-0",children:[p.jsx(fD,{className:"size-[24px] text-[#DFDDE7]",stroke:2}),p.jsx("div",{className:"absolute left-[24px] size-[8px] top-[12px]",children:p.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 8 8",children:p.jsx("circle",{cx:"4",cy:"4",fill:"#2E9EFA",r:"4"})})})]}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[#ececf3] text-[14px] text-nowrap",children:"Notifications"})]})})}),p.jsx("div",{className:"relative shrink-0 w-full",children:p.jsx("div",{className:"flex flex-row items-center overflow-clip rounded-[inherit] size-full",children:p.jsxs("div",{className:"content-stretch flex items-center pl-0 pr-[12px] py-0 relative w-full",children:[p.jsx("div",{className:"content-stretch flex gap-[8px] items-center justify-center p-[10px] relative rounded-[8px] shrink-0",children:p.jsx(hD,{className:"size-[24px] text-[#DFDDE7]",stroke:2})}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[#ececf3] text-[14px] text-nowrap",children:"Resources"})]})})}),p.jsx("div",{className:"relative shrink-0 w-full",children:p.jsx("div",{className:"flex flex-row items-center overflow-clip rounded-[inherit] size-full",children:p.jsxs("div",{className:"content-stretch flex items-center pl-0 pr-[12px] py-0 relative w-full",children:[p.jsx("div",{className:"content-stretch flex gap-[8px] items-center justify-center p-[10px] relative rounded-[8px] shrink-0",children:p.jsx(UD,{className:"size-[24px] text-[#DFDDE7]",stroke:2})}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[#ececf3] text-[14px] text-nowrap",children:"Chat"})]})})})]})}),p.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:p.jsx("div",{className:"content-stretch flex flex-col items-start px-[12px] py-[8px] relative w-full",children:p.jsx("div",{className:"bg-white h-px opacity-[0.16] shrink-0 w-full"})})}),p.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:p.jsx("div",{className:"content-stretch flex flex-col items-start px-[12px] py-[8px] relative w-full",children:p.jsx("div",{className:"content-stretch flex items-center justify-center overflow-clip pl-0 pr-[12px] py-0 relative shrink-0 w-[216px]",children:p.jsx("div",{className:"content-stretch flex items-center justify-center px-0 py-[10px] relative rounded-[8px] shrink-0",children:p.jsx("div",{className:"h-[24px] relative shrink-0 w-[84.923px]",children:p.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 84.9231 24",children:[p.jsx("path",{d:Nn.pd482700,fill:"#F05B22"}),p.jsx("path",{d:Nn.pf911b40,fill:"#F8A352"}),p.jsx("path",{d:Nn.pd8fa900,fill:"#C43F27"}),p.jsx("path",{d:Nn.p1df9e300,fill:"white"}),p.jsx("path",{d:Nn.p1f8d54f0,fill:"white"}),p.jsx("path",{d:Nn.p5f73d00,fill:"white"}),p.jsx("path",{d:Nn.pbd1d800,fill:"white"}),p.jsx("path",{d:Nn.pcb8800,fill:"white"}),p.jsx("path",{d:Nn.p86d36f0,fill:"white"}),p.jsx("path",{d:Nn.pfa49600,fill:"white"}),p.jsx("path",{d:Nn.p32703c00,fill:"white"})]})})})})})})]})}function bz({onClose:t,onCompetenciesClick:e}){return p.jsxs("div",{className:"absolute left-[240px] top-0 bg-white flex flex-col h-full items-start px-0 py-[16px] shrink-0 w-[240px] overflow-y-auto border-r border-[#eee] z-40 shadow-lg",children:[p.jsx("div",{className:"bg-white relative shrink-0 w-full px-[16px] mb-[8px]",children:p.jsx("div",{className:"flex flex-row items-center justify-between",children:p.jsx("h2",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[24px] not-italic relative shrink-0 text-[16px] text-[#1f1f32]",children:"Settings"})})}),p.jsx("div",{className:"bg-white relative shrink-0 w-full px-[16px]",children:p.jsxs("div",{className:"content-stretch flex flex-col gap-[4px] items-start relative w-full",children:[p.jsx("div",{className:"relative shrink-0 w-full",children:p.jsxs("div",{className:"flex flex-col items-start relative w-full",children:[p.jsx("div",{className:"flex flex-row items-center justify-between w-full py-[8px] px-[12px] cursor-pointer hover:bg-[#f5f5f5] rounded-[8px] transition-colors",children:p.jsxs("div",{className:"flex items-center gap-[8px]",children:[p.jsx(qx,{className:"size-[16px] text-[#6b697b]",stroke:2}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[14px] text-[#1f1f32]",children:"Team"})]})}),p.jsxs("div",{className:"flex flex-col items-start w-full pl-[28px] pt-[4px]",children:[p.jsx("div",{className:"w-full py-[8px] px-[12px] cursor-pointer hover:bg-[#f5f5f5] rounded-[8px] transition-colors",children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] font-normal leading-[20px] not-italic relative shrink-0 text-[14px] text-[#6b697b]",children:"Teammates"})}),p.jsx("div",{className:"w-full py-[8px] px-[12px] cursor-pointer hover:bg-[#f5f5f5] rounded-[8px] transition-colors",children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] font-normal leading-[20px] not-italic relative shrink-0 text-[14px] text-[#6b697b]",children:"Team audit logs"})})]})]})}),p.jsx("div",{className:"relative shrink-0 w-full",children:p.jsxs("div",{className:"flex flex-col items-start relative w-full",children:[p.jsx("div",{className:"flex flex-row items-center justify-between w-full py-[8px] px-[12px] cursor-pointer hover:bg-[#f5f5f5] rounded-[8px] transition-colors",children:p.jsxs("div",{className:"flex items-center gap-[8px]",children:[p.jsx(FD,{className:"size-[16px] text-[#6b697b]",stroke:2}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[14px] text-[#1f1f32]",children:"Setup"})]})}),p.jsx("div",{className:"flex flex-col items-start w-full pl-[28px] pt-[4px]",children:p.jsx("div",{className:"w-full py-[8px] px-[12px] cursor-pointer hover:bg-[#f5f5f5] rounded-[8px] transition-colors",children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] font-normal leading-[20px] not-italic relative shrink-0 text-[14px] text-[#6b697b]",children:"API token"})})})]})}),p.jsx("div",{className:"relative shrink-0 w-full",children:p.jsxs("div",{className:"flex flex-col items-start relative w-full",children:[p.jsx("div",{className:"flex flex-row items-center justify-between w-full py-[8px] px-[12px] cursor-pointer hover:bg-[#f5f5f5] rounded-[8px] transition-colors",children:p.jsxs("div",{className:"flex items-center gap-[8px]",children:[p.jsx(dC,{className:"size-[16px] text-[#6b697b]",stroke:2}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[14px] text-[#1f1f32]",children:"Analytics"})]})}),p.jsx("div",{className:"flex flex-col items-start w-full pl-[28px] pt-[4px]",children:p.jsx("div",{className:"w-full py-[8px] px-[12px] cursor-pointer hover:bg-[#f5f5f5] rounded-[8px] transition-colors",onClick:e,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] font-normal leading-[20px] not-italic relative shrink-0 text-[14px] text-[#6b697b]",children:"Competencies"})})})]})})]})})]})}function rM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=rM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sM(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=rM(t))&&(r&&(r+=" "),r+=e);return r}const O0="-",kz=t=>{const e=Cz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const c=a.split(O0);return c[0]===""&&c.length!==1&&c.shift(),iM(c,e)||Sz(a)},getConflictingClassGroupIds:(a,c)=>{const u=n[a]||[];return c&&r[a]?[...u,...r[a]]:u}}},iM=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?iM(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(O0);return(a=e.validators.find(({validator:c})=>c(i)))==null?void 0:a.classGroupId},Bk=/^\[(.+)\]$/,Sz=t=>{if(Bk.test(t)){const e=Bk.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Cz=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)rx(n[s],r,s,e);return r},rx=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Vk(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Nz(s)){rx(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,a])=>{rx(a,Vk(e,i),n,r)})})},Vk=(t,e)=>{let n=t;return e.split(O0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Nz=t=>t.isThemeGetter,Ez=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=r.get(i))!==void 0)return s(i,a),a},set(i,a){n.has(i)?n.set(i,a):s(i,a)}}},sx="!",ix=":",Mz=ix.length,Tz=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const i=[];let a=0,c=0,u=0,f;for(let w=0;w<s.length;w++){let k=s[w];if(a===0&&c===0){if(k===ix){i.push(s.slice(u,w)),u=w+Mz;continue}if(k==="/"){f=w;continue}}k==="["?a++:k==="]"?a--:k==="("?c++:k===")"&&c--}const h=i.length===0?s:s.substring(u),m=Az(h),x=m!==h,y=f&&f>u?f-u:void 0;return{modifiers:i,hasImportantModifier:x,baseClassName:m,maybePostfixModifierPosition:y}};if(e){const s=e+ix,i=r;r=a=>a.startsWith(s)?i(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},Az=t=>t.endsWith(sx)?t.substring(0,t.length-1):t.startsWith(sx)?t.substring(1):t,jz=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let i=[];return r.forEach(a=>{a[0]==="["||e[a]?(s.push(...i.sort(),a),i=[]):i.push(a)}),s.push(...i.sort()),s}},Rz=t=>({cache:Ez(t.cacheSize),parseClassName:Tz(t),sortModifiers:jz(t),...kz(t)}),Pz=/\s+/,Dz=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=e,a=[],c=t.trim().split(Pz);let u="";for(let f=c.length-1;f>=0;f-=1){const h=c[f],{isExternal:m,modifiers:x,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:k}=n(h);if(m){u=h+(u.length>0?" "+u:u);continue}let S=!!k,C=r(S?w.substring(0,k):w);if(!C){if(!S){u=h+(u.length>0?" "+u:u);continue}if(C=r(w),!C){u=h+(u.length>0?" "+u:u);continue}S=!1}const M=i(x).join(":"),A=y?M+sx:M,D=A+C;if(a.includes(D))continue;a.push(D);const j=s(C,S);for(let I=0;I<j.length;++I){const L=j[I];a.push(A+L)}u=h+(u.length>0?" "+u:u)}return u};function Iz(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=oM(e))&&(r&&(r+=" "),r+=n);return r}const oM=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=oM(t[r]))&&(n&&(n+=" "),n+=e);return n};function Oz(t,...e){let n,r,s,i=a;function a(u){const f=e.reduce((h,m)=>m(h),t());return n=Rz(f),r=n.cache.get,s=n.cache.set,i=c,c(u)}function c(u){const f=r(u);if(f)return f;const h=Dz(u,n);return s(u,h),h}return function(){return i(Iz.apply(null,arguments))}}const Ct=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},aM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Lz=/^\d+\/\d+$/,_z=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fz=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Bz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Vz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bo=t=>Lz.test(t),Fe=t=>!!t&&!Number.isNaN(Number(t)),Ds=t=>!!t&&Number.isInteger(Number(t)),zm=t=>t.endsWith("%")&&Fe(t.slice(0,-1)),Gr=t=>_z.test(t),$z=()=>!0,Hz=t=>zz.test(t)&&!Fz.test(t),cM=()=>!1,Wz=t=>Bz.test(t),Uz=t=>Vz.test(t),Kz=t=>!ge(t)&&!xe(t),Gz=t=>ka(t,fM,cM),ge=t=>aM.test(t),_i=t=>ka(t,pM,Hz),Fm=t=>ka(t,Qz,Fe),$k=t=>ka(t,uM,cM),qz=t=>ka(t,dM,Uz),qu=t=>ka(t,hM,Wz),xe=t=>lM.test(t),ml=t=>Sa(t,pM),Yz=t=>Sa(t,Zz),Hk=t=>Sa(t,uM),Jz=t=>Sa(t,fM),Xz=t=>Sa(t,dM),Yu=t=>Sa(t,hM,!0),ka=(t,e,n)=>{const r=aM.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Sa=(t,e,n=!1)=>{const r=lM.exec(t);return r?r[1]?e(r[1]):n:!1},uM=t=>t==="position"||t==="percentage",dM=t=>t==="image"||t==="url",fM=t=>t==="length"||t==="size"||t==="bg-size",pM=t=>t==="length",Qz=t=>t==="number",Zz=t=>t==="family-name",hM=t=>t==="shadow",eF=()=>{const t=Ct("color"),e=Ct("font"),n=Ct("text"),r=Ct("font-weight"),s=Ct("tracking"),i=Ct("leading"),a=Ct("breakpoint"),c=Ct("container"),u=Ct("spacing"),f=Ct("radius"),h=Ct("shadow"),m=Ct("inset-shadow"),x=Ct("text-shadow"),y=Ct("drop-shadow"),w=Ct("blur"),k=Ct("perspective"),S=Ct("aspect"),C=Ct("ease"),M=Ct("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],j=()=>[...D(),xe,ge],I=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],P=()=>[xe,ge,u],K=()=>[Bo,"full","auto",...P()],X=()=>[Ds,"none","subgrid",xe,ge],W=()=>["auto",{span:["full",Ds,xe,ge]},Ds,xe,ge],Y=()=>[Ds,"auto",xe,ge],be=()=>["auto","min","max","fr",xe,ge],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ye=()=>["start","end","center","stretch","center-safe","end-safe"],re=()=>["auto",...P()],te=()=>[Bo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],F=()=>[t,xe,ge],H=()=>[...D(),Hk,$k,{position:[xe,ge]}],q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],_=()=>["auto","cover","contain",Jz,Gz,{size:[xe,ge]}],U=()=>[zm,ml,_i],ae=()=>["","none","full",f,xe,ge],ie=()=>["",Fe,ml,_i],Me=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>[Fe,zm,Hk,$k],Oe=()=>["","none",w,xe,ge],Re=()=>["none",Fe,xe,ge],oe=()=>["none",Fe,xe,ge],Ve=()=>[Fe,xe,ge],Ze=()=>[Bo,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gr],breakpoint:[Gr],color:[$z],container:[Gr],"drop-shadow":[Gr],ease:["in","out","in-out"],font:[Kz],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gr],shadow:[Gr],spacing:["px",Fe],text:[Gr],"text-shadow":[Gr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Bo,ge,xe,S]}],container:["container"],columns:[{columns:[Fe,ge,xe,c]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:j()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:K()}],"inset-x":[{"inset-x":K()}],"inset-y":[{"inset-y":K()}],start:[{start:K()}],end:[{end:K()}],top:[{top:K()}],right:[{right:K()}],bottom:[{bottom:K()}],left:[{left:K()}],visibility:["visible","invisible","collapse"],z:[{z:[Ds,"auto",xe,ge]}],basis:[{basis:[Bo,"full","auto",c,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fe,Bo,"auto","initial","none",ge]}],grow:[{grow:["",Fe,xe,ge]}],shrink:[{shrink:["",Fe,xe,ge]}],order:[{order:[Ds,"first","last","none",xe,ge]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":be()}],"auto-rows":[{"auto-rows":be()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...ye()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...ye(),"baseline"]}],"place-self":[{"place-self":["auto",...ye()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:re()}],mx:[{mx:re()}],my:[{my:re()}],ms:[{ms:re()}],me:[{me:re()}],mt:[{mt:re()}],mr:[{mr:re()}],mb:[{mb:re()}],ml:[{ml:re()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[c,"screen",...te()]}],"min-w":[{"min-w":[c,"screen","none",...te()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[a]},...te()]}],h:[{h:["screen",...te()]}],"min-h":[{"min-h":["screen","none",...te()]}],"max-h":[{"max-h":["screen",...te()]}],"font-size":[{text:["base",n,ml,_i]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,xe,Fm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zm,ge]}],"font-family":[{font:[Yz,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,xe,ge]}],"line-clamp":[{"line-clamp":[Fe,"none",xe,Fm]}],leading:[{leading:[i,...P()]}],"list-image":[{"list-image":["none",xe,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",xe,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fe,"from-font","auto",xe,_i]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Fe,"auto",xe,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:q()}],"bg-size":[{bg:_()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ds,xe,ge],radial:["",xe,ge],conic:[Ds,xe,ge]},Xz,qz]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Me(),"hidden","none"]}],"divide-style":[{divide:[...Me(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...Me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fe,xe,ge]}],"outline-w":[{outline:["",Fe,ml,_i]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",h,Yu,qu]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",m,Yu,qu]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Fe,_i]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",x,Yu,qu]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Fe,xe,ge]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ve()}],"mask-image-linear-to-pos":[{"mask-linear-to":ve()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ve()}],"mask-image-t-to-pos":[{"mask-t-to":ve()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ve()}],"mask-image-r-to-pos":[{"mask-r-to":ve()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ve()}],"mask-image-b-to-pos":[{"mask-b-to":ve()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ve()}],"mask-image-l-to-pos":[{"mask-l-to":ve()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ve()}],"mask-image-x-to-pos":[{"mask-x-to":ve()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ve()}],"mask-image-y-to-pos":[{"mask-y-to":ve()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[xe,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":ve()}],"mask-image-radial-to-pos":[{"mask-radial-to":ve()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Fe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ve()}],"mask-image-conic-to-pos":[{"mask-conic-to":ve()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:q()}],"mask-size":[{mask:_()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",xe,ge]}],filter:[{filter:["","none",xe,ge]}],blur:[{blur:Oe()}],brightness:[{brightness:[Fe,xe,ge]}],contrast:[{contrast:[Fe,xe,ge]}],"drop-shadow":[{"drop-shadow":["","none",y,Yu,qu]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Fe,xe,ge]}],"hue-rotate":[{"hue-rotate":[Fe,xe,ge]}],invert:[{invert:["",Fe,xe,ge]}],saturate:[{saturate:[Fe,xe,ge]}],sepia:[{sepia:["",Fe,xe,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",xe,ge]}],"backdrop-blur":[{"backdrop-blur":Oe()}],"backdrop-brightness":[{"backdrop-brightness":[Fe,xe,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Fe,xe,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fe,xe,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fe,xe,ge]}],"backdrop-invert":[{"backdrop-invert":["",Fe,xe,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Fe,xe,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Fe,xe,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Fe,xe,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",xe,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fe,"initial",xe,ge]}],ease:[{ease:["linear","initial",C,xe,ge]}],delay:[{delay:[Fe,xe,ge]}],animate:[{animate:["none",M,xe,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,xe,ge]}],"perspective-origin":[{"perspective-origin":j()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:oe()}],"scale-x":[{"scale-x":oe()}],"scale-y":[{"scale-y":oe()}],"scale-z":[{"scale-z":oe()}],"scale-3d":["scale-3d"],skew:[{skew:Ve()}],"skew-x":[{"skew-x":Ve()}],"skew-y":[{"skew-y":Ve()}],transform:[{transform:[xe,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:j()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ze()}],"translate-x":[{"translate-x":Ze()}],"translate-y":[{"translate-y":Ze()}],"translate-z":[{"translate-z":Ze()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe,ge]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Fe,ml,_i,Fm]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},tF=Oz(eF);function ht(...t){return tF(sM(t))}function ox({className:t,type:e,...n}){return p.jsx("input",{type:e,"data-slot":"input",className:ht("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function ax({className:t,...e}){return p.jsx("textarea",{"data-slot":"textarea",className:ht("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function Le(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Wk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Wf(...t){return e=>{let n=!1;const r=t.map(s=>{const i=Wk(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Wk(t[s],null)}}}}function wt(...t){return N.useCallback(Wf(...t),t)}function nF(t,e){const n=N.createContext(e),r=i=>{const{children:a,...c}=i,u=N.useMemo(()=>c,Object.values(c));return p.jsx(n.Provider,{value:u,children:a})};r.displayName=t+"Provider";function s(i){const a=N.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function li(t,e=[]){let n=[];function r(i,a){const c=N.createContext(a),u=n.length;n=[...n,a];const f=m=>{var C;const{scope:x,children:y,...w}=m,k=((C=x==null?void 0:x[t])==null?void 0:C[u])||c,S=N.useMemo(()=>w,Object.values(w));return p.jsx(k.Provider,{value:S,children:y})};f.displayName=i+"Provider";function h(m,x){var k;const y=((k=x==null?void 0:x[t])==null?void 0:k[u])||c,w=N.useContext(y);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[f,h]}const s=()=>{const i=n.map(a=>N.createContext(a));return function(c){const u=(c==null?void 0:c[t])||i;return N.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return s.scopeName=t,[r,rF(s,...e)]}function rF(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const a=r.reduce((c,{useScope:u,scopeName:f})=>{const m=u(i)[`__scope${f}`];return{...c,...m}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function ar(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Uf({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=sF({defaultProp:e,onChange:n}),i=t!==void 0,a=i?t:r,c=ar(n),u=N.useCallback(f=>{if(i){const m=typeof f=="function"?f(t):f;m!==t&&c(m)}else s(f)},[i,t,s,c]);return[a,u]}function sF({defaultProp:t,onChange:e}){const n=N.useState(t),[r]=n,s=N.useRef(r),i=ar(e);return N.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function iF(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var io=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{};function mM(t){const[e,n]=N.useState(void 0);return io(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let a,c;if("borderBoxSize"in i){const u=i.borderBoxSize,f=Array.isArray(u)?u[0]:u;a=f.inlineSize,c=f.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var ga=N.forwardRef((t,e)=>{const{children:n,...r}=t,s=N.Children.toArray(n),i=s.find(oF);if(i){const a=i.props.children,c=s.map(u=>u===i?N.Children.count(a)>1?N.Children.only(null):N.isValidElement(a)?a.props.children:null:u);return p.jsx(lx,{...r,ref:e,children:N.isValidElement(a)?N.cloneElement(a,void 0,c):null})}return p.jsx(lx,{...r,ref:e,children:n})});ga.displayName="Slot";var lx=N.forwardRef((t,e)=>{const{children:n,...r}=t;if(N.isValidElement(n)){const s=lF(n),i=aF(r,n.props);return n.type!==N.Fragment&&(i.ref=e?Wf(e,s):s),N.cloneElement(n,i)}return N.Children.count(n)>1?N.Children.only(null):null});lx.displayName="SlotClone";var gM=({children:t})=>p.jsx(p.Fragment,{children:t});function oF(t){return N.isValidElement(t)&&t.type===gM}function aF(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...c)=>{i(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function lF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ot=cF.reduce((t,e)=>{const n=N.forwardRef((r,s)=>{const{asChild:i,...a}=r,c=i?ga:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(c,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function xM(t,e){t&&Yx.flushSync(()=>t.dispatchEvent(e))}var L0="Switch",[uF]=li(L0),[dF,fF]=uF(L0),yM=N.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:a,disabled:c,value:u="on",onCheckedChange:f,form:h,...m}=t,[x,y]=N.useState(null),w=wt(e,A=>y(A)),k=N.useRef(!1),S=x?h||!!x.closest("form"):!0,[C=!1,M]=Uf({prop:s,defaultProp:i,onChange:f});return p.jsxs(dF,{scope:n,checked:C,disabled:c,children:[p.jsx(ot.button,{type:"button",role:"switch","aria-checked":C,"aria-required":a,"data-state":bM(C),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:w,onClick:Le(t.onClick,A=>{M(D=>!D),S&&(k.current=A.isPropagationStopped(),k.current||A.stopPropagation())})}),S&&p.jsx(pF,{control:x,bubbles:!k.current,name:r,value:u,checked:C,required:a,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});yM.displayName=L0;var vM="SwitchThumb",wM=N.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=fF(vM,n);return p.jsx(ot.span,{"data-state":bM(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});wM.displayName=vM;var pF=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=N.useRef(null),a=iF(n),c=mM(e);return N.useEffect(()=>{const u=i.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(a!==n&&m){const x=new Event("click",{bubbles:r});m.call(u,n),u.dispatchEvent(x)}},[a,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bM(t){return t?"checked":"unchecked"}var hF=yM,mF=wM;function gF({className:t,...e}){return p.jsx(hF,{"data-slot":"switch",className:ht("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(mF,{"data-slot":"switch-thumb",className:ht("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function kM(t){const e=t+"CollectionProvider",[n,r]=li(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:w,children:k}=y,S=nn.useRef(null),C=nn.useRef(new Map).current;return p.jsx(s,{scope:w,itemMap:C,collectionRef:S,children:k})};a.displayName=e;const c=t+"CollectionSlot",u=nn.forwardRef((y,w)=>{const{scope:k,children:S}=y,C=i(c,k),M=wt(w,C.collectionRef);return p.jsx(ga,{ref:M,children:S})});u.displayName=c;const f=t+"CollectionItemSlot",h="data-radix-collection-item",m=nn.forwardRef((y,w)=>{const{scope:k,children:S,...C}=y,M=nn.useRef(null),A=wt(w,M),D=i(f,k);return nn.useEffect(()=>(D.itemMap.set(M,{ref:M,...C}),()=>void D.itemMap.delete(M))),p.jsx(ga,{[h]:"",ref:A,children:S})});m.displayName=f;function x(y){const w=i(t+"CollectionConsumer",y);return nn.useCallback(()=>{const S=w.collectionRef.current;if(!S)return[];const C=Array.from(S.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((D,j)=>C.indexOf(D.ref.current)-C.indexOf(j.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:m},x,r]}var xF=N.createContext(void 0);function SM(t){const e=N.useContext(xF);return t||e||"ltr"}function yF(t,e=globalThis==null?void 0:globalThis.document){const n=ar(t);N.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var vF="DismissableLayer",cx="dismissableLayer.update",wF="dismissableLayer.pointerDownOutside",bF="dismissableLayer.focusOutside",Uk,CM=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_0=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:a,onDismiss:c,...u}=t,f=N.useContext(CM),[h,m]=N.useState(null),x=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=N.useState({}),w=wt(e,L=>m(L)),k=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=k.indexOf(S),M=h?k.indexOf(h):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,D=M>=C,j=CF(L=>{const P=L.target,K=[...f.branches].some(X=>X.contains(P));!D||K||(s==null||s(L),a==null||a(L),L.defaultPrevented||c==null||c())},x),I=NF(L=>{const P=L.target;[...f.branches].some(X=>X.contains(P))||(i==null||i(L),a==null||a(L),L.defaultPrevented||c==null||c())},x);return yF(L=>{M===f.layers.size-1&&(r==null||r(L),!L.defaultPrevented&&c&&(L.preventDefault(),c()))},x),N.useEffect(()=>{if(h)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Uk=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),Kk(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Uk)}},[h,x,n,f]),N.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),Kk())},[h,f]),N.useEffect(()=>{const L=()=>y({});return document.addEventListener(cx,L),()=>document.removeEventListener(cx,L)},[]),p.jsx(ot.div,{...u,ref:w,style:{pointerEvents:A?D?"auto":"none":void 0,...t.style},onFocusCapture:Le(t.onFocusCapture,I.onFocusCapture),onBlurCapture:Le(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Le(t.onPointerDownCapture,j.onPointerDownCapture)})});_0.displayName=vF;var kF="DismissableLayerBranch",SF=N.forwardRef((t,e)=>{const n=N.useContext(CM),r=N.useRef(null),s=wt(e,r);return N.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),p.jsx(ot.div,{...t,ref:s})});SF.displayName=kF;function CF(t,e=globalThis==null?void 0:globalThis.document){const n=ar(t),r=N.useRef(!1),s=N.useRef(()=>{});return N.useEffect(()=>{const i=c=>{if(c.target&&!r.current){let u=function(){NM(wF,n,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function NF(t,e=globalThis==null?void 0:globalThis.document){const n=ar(t),r=N.useRef(!1);return N.useEffect(()=>{const s=i=>{i.target&&!r.current&&NM(bF,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Kk(){const t=new CustomEvent(cx);document.dispatchEvent(t)}function NM(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?xM(s,i):s.dispatchEvent(i)}var Bm=0;function EM(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Gk()),document.body.insertAdjacentElement("beforeend",t[1]??Gk()),Bm++,()=>{Bm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Bm--}},[])}function Gk(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Vm="focusScope.autoFocusOnMount",$m="focusScope.autoFocusOnUnmount",qk={bubbles:!1,cancelable:!0},EF="FocusScope",z0=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...a}=t,[c,u]=N.useState(null),f=ar(s),h=ar(i),m=N.useRef(null),x=wt(e,k=>u(k)),y=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let k=function(A){if(y.paused||!c)return;const D=A.target;c.contains(D)?m.current=D:Ls(m.current,{select:!0})},S=function(A){if(y.paused||!c)return;const D=A.relatedTarget;D!==null&&(c.contains(D)||Ls(m.current,{select:!0}))},C=function(A){if(document.activeElement===document.body)for(const j of A)j.removedNodes.length>0&&Ls(c)};document.addEventListener("focusin",k),document.addEventListener("focusout",S);const M=new MutationObserver(C);return c&&M.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",S),M.disconnect()}}},[r,c,y.paused]),N.useEffect(()=>{if(c){Jk.add(y);const k=document.activeElement;if(!c.contains(k)){const C=new CustomEvent(Vm,qk);c.addEventListener(Vm,f),c.dispatchEvent(C),C.defaultPrevented||(MF(PF(MM(c)),{select:!0}),document.activeElement===k&&Ls(c))}return()=>{c.removeEventListener(Vm,f),setTimeout(()=>{const C=new CustomEvent($m,qk);c.addEventListener($m,h),c.dispatchEvent(C),C.defaultPrevented||Ls(k??document.body,{select:!0}),c.removeEventListener($m,h),Jk.remove(y)},0)}}},[c,f,h,y]);const w=N.useCallback(k=>{if(!n&&!r||y.paused)return;const S=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,C=document.activeElement;if(S&&C){const M=k.currentTarget,[A,D]=TF(M);A&&D?!k.shiftKey&&C===D?(k.preventDefault(),n&&Ls(A,{select:!0})):k.shiftKey&&C===A&&(k.preventDefault(),n&&Ls(D,{select:!0})):C===M&&k.preventDefault()}},[n,r,y.paused]);return p.jsx(ot.div,{tabIndex:-1,...a,ref:x,onKeyDown:w})});z0.displayName=EF;function MF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ls(r,{select:e}),document.activeElement!==n)return}function TF(t){const e=MM(t),n=Yk(e,t),r=Yk(e.reverse(),t);return[n,r]}function MM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Yk(t,e){for(const n of t)if(!AF(n,{upTo:e}))return n}function AF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function jF(t){return t instanceof HTMLInputElement&&"select"in t}function Ls(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&jF(t)&&e&&t.select()}}var Jk=RF();function RF(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Xk(t,e),t.unshift(e)},remove(e){var n;t=Xk(t,e),(n=t[0])==null||n.resume()}}}function Xk(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function PF(t){return t.filter(e=>e.tagName!=="A")}var DF=w3.useId||(()=>{}),IF=0;function sa(t){const[e,n]=N.useState(DF());return io(()=>{n(r=>r??String(IF++))},[t]),t||(e?`radix-${e}`:"")}const OF=["top","right","bottom","left"],ni=Math.min,En=Math.max,yf=Math.round,Ju=Math.floor,Nr=t=>({x:t,y:t}),LF={left:"right",right:"left",bottom:"top",top:"bottom"},_F={start:"end",end:"start"};function ux(t,e,n){return En(t,ni(e,n))}function ns(t,e){return typeof t=="function"?t(e):t}function rs(t){return t.split("-")[0]}function Ca(t){return t.split("-")[1]}function F0(t){return t==="x"?"y":"x"}function B0(t){return t==="y"?"height":"width"}const zF=new Set(["top","bottom"]);function Sr(t){return zF.has(rs(t))?"y":"x"}function V0(t){return F0(Sr(t))}function FF(t,e,n){n===void 0&&(n=!1);const r=Ca(t),s=V0(t),i=B0(s);let a=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=vf(a)),[a,vf(a)]}function BF(t){const e=vf(t);return[dx(t),e,dx(e)]}function dx(t){return t.replace(/start|end/g,e=>_F[e])}const Qk=["left","right"],Zk=["right","left"],VF=["top","bottom"],$F=["bottom","top"];function HF(t,e,n){switch(t){case"top":case"bottom":return n?e?Zk:Qk:e?Qk:Zk;case"left":case"right":return e?VF:$F;default:return[]}}function WF(t,e,n,r){const s=Ca(t);let i=HF(rs(t),n==="start",r);return s&&(i=i.map(a=>a+"-"+s),e&&(i=i.concat(i.map(dx)))),i}function vf(t){return t.replace(/left|right|bottom|top/g,e=>LF[e])}function UF(t){return{top:0,right:0,bottom:0,left:0,...t}}function TM(t){return typeof t!="number"?UF(t):{top:t,right:t,bottom:t,left:t}}function wf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function e2(t,e,n){let{reference:r,floating:s}=t;const i=Sr(e),a=V0(e),c=B0(a),u=rs(e),f=i==="y",h=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,x=r[c]/2-s[c]/2;let y;switch(u){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-s.width,y:m};break;default:y={x:r.x,y:r.y}}switch(Ca(e)){case"start":y[a]-=x*(n&&f?-1:1);break;case"end":y[a]+=x*(n&&f?-1:1);break}return y}const KF=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:a}=n,c=i.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:m}=e2(f,r,u),x=r,y={},w=0;for(let k=0;k<c.length;k++){const{name:S,fn:C}=c[k],{x:M,y:A,data:D,reset:j}=await C({x:h,y:m,initialPlacement:r,placement:x,strategy:s,middlewareData:y,rects:f,platform:a,elements:{reference:t,floating:e}});h=M??h,m=A??m,y={...y,[S]:{...y[S],...D}},j&&w<=50&&(w++,typeof j=="object"&&(j.placement&&(x=j.placement),j.rects&&(f=j.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:h,y:m}=e2(f,x,u)),k=-1)}return{x:h,y:m,placement:x,strategy:s,middlewareData:y}};async function tc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:a,elements:c,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:x=!1,padding:y=0}=ns(e,t),w=TM(y),S=c[x?m==="floating"?"reference":"floating":m],C=wf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:h,strategy:u})),M=m==="floating"?{x:r,y:s,width:a.floating.width,height:a.floating.height}:a.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),D=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},j=wf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:M,offsetParent:A,strategy:u}):M);return{top:(C.top-j.top+w.top)/D.y,bottom:(j.bottom-C.bottom+w.bottom)/D.y,left:(C.left-j.left+w.left)/D.x,right:(j.right-C.right+w.right)/D.x}}const GF=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:a,elements:c,middlewareData:u}=e,{element:f,padding:h=0}=ns(t,e)||{};if(f==null)return{};const m=TM(h),x={x:n,y:r},y=V0(s),w=B0(y),k=await a.getDimensions(f),S=y==="y",C=S?"top":"left",M=S?"bottom":"right",A=S?"clientHeight":"clientWidth",D=i.reference[w]+i.reference[y]-x[y]-i.floating[w],j=x[y]-i.reference[y],I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let L=I?I[A]:0;(!L||!await(a.isElement==null?void 0:a.isElement(I)))&&(L=c.floating[A]||i.floating[w]);const P=D/2-j/2,K=L/2-k[w]/2-1,X=ni(m[C],K),W=ni(m[M],K),Y=X,be=L-k[w]-W,le=L/2-k[w]/2+P,ye=ux(Y,le,be),re=!u.arrow&&Ca(s)!=null&&le!==ye&&i.reference[w]/2-(le<Y?X:W)-k[w]/2<0,te=re?le<Y?le-Y:le-be:0;return{[y]:x[y]+te,data:{[y]:ye,centerOffset:le-ye-te,...re&&{alignmentOffset:te}},reset:re}}}),qF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:a,initialPlacement:c,platform:u,elements:f}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:k=!0,...S}=ns(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=rs(s),M=Sr(c),A=rs(c)===c,D=await(u.isRTL==null?void 0:u.isRTL(f.floating)),j=x||(A||!k?[vf(c)]:BF(c)),I=w!=="none";!x&&I&&j.push(...WF(c,k,w,D));const L=[c,...j],P=await tc(e,S),K=[];let X=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&K.push(P[C]),m){const le=FF(s,a,D);K.push(P[le[0]],P[le[1]])}if(X=[...X,{placement:s,overflows:K}],!K.every(le=>le<=0)){var W,Y;const le=(((W=i.flip)==null?void 0:W.index)||0)+1,ye=L[le];if(ye&&(!(m==="alignment"?M!==Sr(ye):!1)||X.every(F=>Sr(F.placement)===M?F.overflows[0]>0:!0)))return{data:{index:le,overflows:X},reset:{placement:ye}};let re=(Y=X.filter(te=>te.overflows[0]<=0).sort((te,F)=>te.overflows[1]-F.overflows[1])[0])==null?void 0:Y.placement;if(!re)switch(y){case"bestFit":{var be;const te=(be=X.filter(F=>{if(I){const H=Sr(F.placement);return H===M||H==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(H=>H>0).reduce((H,q)=>H+q,0)]).sort((F,H)=>F[1]-H[1])[0])==null?void 0:be[0];te&&(re=te);break}case"initialPlacement":re=c;break}if(s!==re)return{reset:{placement:re}}}return{}}}};function t2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function n2(t){return OF.some(e=>t[e]>=0)}const YF=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ns(t,e);switch(r){case"referenceHidden":{const i=await tc(e,{...s,elementContext:"reference"}),a=t2(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:n2(a)}}}case"escaped":{const i=await tc(e,{...s,altBoundary:!0}),a=t2(i,n.floating);return{data:{escapedOffsets:a,escaped:n2(a)}}}default:return{}}}}},AM=new Set(["left","top"]);async function JF(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),a=rs(n),c=Ca(n),u=Sr(n)==="y",f=AM.has(a)?-1:1,h=i&&u?-1:1,m=ns(e,t);let{mainAxis:x,crossAxis:y,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof w=="number"&&(y=c==="end"?w*-1:w),u?{x:y*h,y:x*f}:{x:x*f,y:y*h}}const XF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:a,middlewareData:c}=e,u=await JF(e,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+u.x,y:i+u.y,data:{...u,placement:a}}}}},QF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:c={fn:S=>{let{x:C,y:M}=S;return{x:C,y:M}}},...u}=ns(t,e),f={x:n,y:r},h=await tc(e,u),m=Sr(rs(s)),x=F0(m);let y=f[x],w=f[m];if(i){const S=x==="y"?"top":"left",C=x==="y"?"bottom":"right",M=y+h[S],A=y-h[C];y=ux(M,y,A)}if(a){const S=m==="y"?"top":"left",C=m==="y"?"bottom":"right",M=w+h[S],A=w-h[C];w=ux(M,w,A)}const k=c.fn({...e,[x]:y,[m]:w});return{...k,data:{x:k.x-n,y:k.y-r,enabled:{[x]:i,[m]:a}}}}}},ZF=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:a}=e,{offset:c=0,mainAxis:u=!0,crossAxis:f=!0}=ns(t,e),h={x:n,y:r},m=Sr(s),x=F0(m);let y=h[x],w=h[m];const k=ns(c,e),S=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(u){const A=x==="y"?"height":"width",D=i.reference[x]-i.floating[A]+S.mainAxis,j=i.reference[x]+i.reference[A]-S.mainAxis;y<D?y=D:y>j&&(y=j)}if(f){var C,M;const A=x==="y"?"width":"height",D=AM.has(rs(s)),j=i.reference[m]-i.floating[A]+(D&&((C=a.offset)==null?void 0:C[m])||0)+(D?0:S.crossAxis),I=i.reference[m]+i.reference[A]+(D?0:((M=a.offset)==null?void 0:M[m])||0)-(D?S.crossAxis:0);w<j?w=j:w>I&&(w=I)}return{[x]:y,[m]:w}}}},eB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:a,elements:c}=e,{apply:u=()=>{},...f}=ns(t,e),h=await tc(e,f),m=rs(s),x=Ca(s),y=Sr(s)==="y",{width:w,height:k}=i.floating;let S,C;m==="top"||m==="bottom"?(S=m,C=x===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(C=m,S=x==="end"?"top":"bottom");const M=k-h.top-h.bottom,A=w-h.left-h.right,D=ni(k-h[S],M),j=ni(w-h[C],A),I=!e.middlewareData.shift;let L=D,P=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(L=M),I&&!x){const X=En(h.left,0),W=En(h.right,0),Y=En(h.top,0),be=En(h.bottom,0);y?P=w-2*(X!==0||W!==0?X+W:En(h.left,h.right)):L=k-2*(Y!==0||be!==0?Y+be:En(h.top,h.bottom))}await u({...e,availableWidth:P,availableHeight:L});const K=await a.getDimensions(c.floating);return w!==K.width||k!==K.height?{reset:{rects:!0}}:{}}}};function Kf(){return typeof window<"u"}function Na(t){return jM(t)?(t.nodeName||"").toLowerCase():"#document"}function An(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jr(t){var e;return(e=(jM(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jM(t){return Kf()?t instanceof Node||t instanceof An(t).Node:!1}function lr(t){return Kf()?t instanceof Element||t instanceof An(t).Element:!1}function Ar(t){return Kf()?t instanceof HTMLElement||t instanceof An(t).HTMLElement:!1}function r2(t){return!Kf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof An(t).ShadowRoot}const tB=new Set(["inline","contents"]);function hc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=cr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!tB.has(s)}const nB=new Set(["table","td","th"]);function rB(t){return nB.has(Na(t))}const sB=[":popover-open",":modal"];function Gf(t){return sB.some(e=>{try{return t.matches(e)}catch{return!1}})}const iB=["transform","translate","scale","rotate","perspective"],oB=["transform","translate","scale","rotate","perspective","filter"],aB=["paint","layout","strict","content"];function $0(t){const e=H0(),n=lr(t)?cr(t):t;return iB.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||oB.some(r=>(n.willChange||"").includes(r))||aB.some(r=>(n.contain||"").includes(r))}function lB(t){let e=ri(t);for(;Ar(e)&&!xa(e);){if($0(e))return e;if(Gf(e))return null;e=ri(e)}return null}function H0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cB=new Set(["html","body","#document"]);function xa(t){return cB.has(Na(t))}function cr(t){return An(t).getComputedStyle(t)}function qf(t){return lr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ri(t){if(Na(t)==="html")return t;const e=t.assignedSlot||t.parentNode||r2(t)&&t.host||jr(t);return r2(e)?e.host:e}function RM(t){const e=ri(t);return xa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ar(e)&&hc(e)?e:RM(e)}function nc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=RM(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),a=An(s);if(i){const c=fx(a);return e.concat(a,a.visualViewport||[],hc(s)?s:[],c&&n?nc(c):[])}return e.concat(s,nc(s,[],n))}function fx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function PM(t){const e=cr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ar(t),i=s?t.offsetWidth:n,a=s?t.offsetHeight:r,c=yf(n)!==i||yf(r)!==a;return c&&(n=i,r=a),{width:n,height:r,$:c}}function W0(t){return lr(t)?t:t.contextElement}function ia(t){const e=W0(t);if(!Ar(e))return Nr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=PM(e);let a=(i?yf(n.width):n.width)/r,c=(i?yf(n.height):n.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const uB=Nr(0);function DM(t){const e=An(t);return!H0()||!e.visualViewport?uB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==An(t)?!1:e}function oo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=W0(t);let a=Nr(1);e&&(r?lr(r)&&(a=ia(r)):a=ia(t));const c=dB(i,n,r)?DM(i):Nr(0);let u=(s.left+c.x)/a.x,f=(s.top+c.y)/a.y,h=s.width/a.x,m=s.height/a.y;if(i){const x=An(i),y=r&&lr(r)?An(r):r;let w=x,k=fx(w);for(;k&&r&&y!==w;){const S=ia(k),C=k.getBoundingClientRect(),M=cr(k),A=C.left+(k.clientLeft+parseFloat(M.paddingLeft))*S.x,D=C.top+(k.clientTop+parseFloat(M.paddingTop))*S.y;u*=S.x,f*=S.y,h*=S.x,m*=S.y,u+=A,f+=D,w=An(k),k=fx(w)}}return wf({width:h,height:m,x:u,y:f})}function Yf(t,e){const n=qf(t).scrollLeft;return e?e.left+n:oo(jr(t)).left+n}function IM(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Yf(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function fB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",a=jr(r),c=e?Gf(e.floating):!1;if(r===a||c&&i)return n;let u={scrollLeft:0,scrollTop:0},f=Nr(1);const h=Nr(0),m=Ar(r);if((m||!m&&!i)&&((Na(r)!=="body"||hc(a))&&(u=qf(r)),Ar(r))){const y=oo(r);f=ia(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const x=a&&!m&&!i?IM(a,u):Nr(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+h.x+x.x,y:n.y*f.y-u.scrollTop*f.y+h.y+x.y}}function pB(t){return Array.from(t.getClientRects())}function hB(t){const e=jr(t),n=qf(t),r=t.ownerDocument.body,s=En(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=En(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Yf(t);const c=-n.scrollTop;return cr(r).direction==="rtl"&&(a+=En(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:a,y:c}}const s2=25;function mB(t,e){const n=An(t),r=jr(t),s=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,c=0,u=0;if(s){i=s.width,a=s.height;const h=H0();(!h||h&&e==="fixed")&&(c=s.offsetLeft,u=s.offsetTop)}const f=Yf(r);if(f<=0){const h=r.ownerDocument,m=h.body,x=getComputedStyle(m),y=h.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,w=Math.abs(r.clientWidth-m.clientWidth-y);w<=s2&&(i-=w)}else f<=s2&&(i+=f);return{width:i,height:a,x:c,y:u}}const gB=new Set(["absolute","fixed"]);function xB(t,e){const n=oo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Ar(t)?ia(t):Nr(1),a=t.clientWidth*i.x,c=t.clientHeight*i.y,u=s*i.x,f=r*i.y;return{width:a,height:c,x:u,y:f}}function i2(t,e,n){let r;if(e==="viewport")r=mB(t,n);else if(e==="document")r=hB(jr(t));else if(lr(e))r=xB(e,n);else{const s=DM(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return wf(r)}function OM(t,e){const n=ri(t);return n===e||!lr(n)||xa(n)?!1:cr(n).position==="fixed"||OM(n,e)}function yB(t,e){const n=e.get(t);if(n)return n;let r=nc(t,[],!1).filter(c=>lr(c)&&Na(c)!=="body"),s=null;const i=cr(t).position==="fixed";let a=i?ri(t):t;for(;lr(a)&&!xa(a);){const c=cr(a),u=$0(a);!u&&c.position==="fixed"&&(s=null),(i?!u&&!s:!u&&c.position==="static"&&!!s&&gB.has(s.position)||hc(a)&&!u&&OM(t,a))?r=r.filter(h=>h!==a):s=c,a=ri(a)}return e.set(t,r),r}function vB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const a=[...n==="clippingAncestors"?Gf(e)?[]:yB(e,this._c):[].concat(n),r],c=a[0],u=a.reduce((f,h)=>{const m=i2(e,h,s);return f.top=En(m.top,f.top),f.right=ni(m.right,f.right),f.bottom=ni(m.bottom,f.bottom),f.left=En(m.left,f.left),f},i2(e,c,s));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function wB(t){const{width:e,height:n}=PM(t);return{width:e,height:n}}function bB(t,e,n){const r=Ar(e),s=jr(e),i=n==="fixed",a=oo(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const u=Nr(0);function f(){u.x=Yf(s)}if(r||!r&&!i)if((Na(e)!=="body"||hc(s))&&(c=qf(e)),r){const y=oo(e,!0,i,e);u.x=y.x+e.clientLeft,u.y=y.y+e.clientTop}else s&&f();i&&!r&&s&&f();const h=s&&!r&&!i?IM(s,c):Nr(0),m=a.left+c.scrollLeft-u.x-h.x,x=a.top+c.scrollTop-u.y-h.y;return{x:m,y:x,width:a.width,height:a.height}}function Hm(t){return cr(t).position==="static"}function o2(t,e){if(!Ar(t)||cr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return jr(t)===n&&(n=n.ownerDocument.body),n}function LM(t,e){const n=An(t);if(Gf(t))return n;if(!Ar(t)){let s=ri(t);for(;s&&!xa(s);){if(lr(s)&&!Hm(s))return s;s=ri(s)}return n}let r=o2(t,e);for(;r&&rB(r)&&Hm(r);)r=o2(r,e);return r&&xa(r)&&Hm(r)&&!$0(r)?n:r||lB(t)||n}const kB=async function(t){const e=this.getOffsetParent||LM,n=this.getDimensions,r=await n(t.floating);return{reference:bB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function SB(t){return cr(t).direction==="rtl"}const CB={convertOffsetParentRelativeRectToViewportRelativeRect:fB,getDocumentElement:jr,getClippingRect:vB,getOffsetParent:LM,getElementRects:kB,getClientRects:pB,getDimensions:wB,getScale:ia,isElement:lr,isRTL:SB};function _M(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function NB(t,e){let n=null,r;const s=jr(t);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const f=t.getBoundingClientRect(),{left:h,top:m,width:x,height:y}=f;if(c||e(),!x||!y)return;const w=Ju(m),k=Ju(s.clientWidth-(h+x)),S=Ju(s.clientHeight-(m+y)),C=Ju(h),A={rootMargin:-w+"px "+-k+"px "+-S+"px "+-C+"px",threshold:En(0,ni(1,u))||1};let D=!0;function j(I){const L=I[0].intersectionRatio;if(L!==u){if(!D)return a();L?a(!1,L):r=setTimeout(()=>{a(!1,1e-7)},1e3)}L===1&&!_M(f,t.getBoundingClientRect())&&a(),D=!1}try{n=new IntersectionObserver(j,{...A,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,A)}n.observe(t)}return a(!0),i}function EB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=W0(t),h=s||i?[...f?nc(f):[],...nc(e)]:[];h.forEach(C=>{s&&C.addEventListener("scroll",n,{passive:!0}),i&&C.addEventListener("resize",n)});const m=f&&c?NB(f,n):null;let x=-1,y=null;a&&(y=new ResizeObserver(C=>{let[M]=C;M&&M.target===f&&y&&(y.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(e)})),n()}),f&&!u&&y.observe(f),y.observe(e));let w,k=u?oo(t):null;u&&S();function S(){const C=oo(t);k&&!_M(k,C)&&n(),k=C,w=requestAnimationFrame(S)}return n(),()=>{var C;h.forEach(M=>{s&&M.removeEventListener("scroll",n),i&&M.removeEventListener("resize",n)}),m==null||m(),(C=y)==null||C.disconnect(),y=null,u&&cancelAnimationFrame(w)}}const MB=XF,TB=QF,AB=qF,jB=eB,RB=YF,a2=GF,PB=ZF,DB=(t,e,n)=>{const r=new Map,s={platform:CB,...n},i={...s.platform,_c:r};return KF(t,e,{...s,platform:i})};var IB=typeof document<"u",OB=function(){},dd=IB?N.useLayoutEffect:OB;function bf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!bf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!bf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function zM(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function l2(t,e){const n=zM(t);return Math.round(e*n)/n}function Wm(t){const e=N.useRef(t);return dd(()=>{e.current=t}),e}function LB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:a}={},transform:c=!0,whileElementsMounted:u,open:f}=t,[h,m]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,y]=N.useState(r);bf(x,r)||y(r);const[w,k]=N.useState(null),[S,C]=N.useState(null),M=N.useCallback(F=>{F!==I.current&&(I.current=F,k(F))},[]),A=N.useCallback(F=>{F!==L.current&&(L.current=F,C(F))},[]),D=i||w,j=a||S,I=N.useRef(null),L=N.useRef(null),P=N.useRef(h),K=u!=null,X=Wm(u),W=Wm(s),Y=Wm(f),be=N.useCallback(()=>{if(!I.current||!L.current)return;const F={placement:e,strategy:n,middleware:x};W.current&&(F.platform=W.current),DB(I.current,L.current,F).then(H=>{const q={...H,isPositioned:Y.current!==!1};le.current&&!bf(P.current,q)&&(P.current=q,Yx.flushSync(()=>{m(q)}))})},[x,e,n,W,Y]);dd(()=>{f===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,m(F=>({...F,isPositioned:!1})))},[f]);const le=N.useRef(!1);dd(()=>(le.current=!0,()=>{le.current=!1}),[]),dd(()=>{if(D&&(I.current=D),j&&(L.current=j),D&&j){if(X.current)return X.current(D,j,be);be()}},[D,j,be,X,K]);const ye=N.useMemo(()=>({reference:I,floating:L,setReference:M,setFloating:A}),[M,A]),re=N.useMemo(()=>({reference:D,floating:j}),[D,j]),te=N.useMemo(()=>{const F={position:n,left:0,top:0};if(!re.floating)return F;const H=l2(re.floating,h.x),q=l2(re.floating,h.y);return c?{...F,transform:"translate("+H+"px, "+q+"px)",...zM(re.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:q}},[n,c,re.floating,h.x,h.y]);return N.useMemo(()=>({...h,update:be,refs:ye,elements:re,floatingStyles:te}),[h,be,ye,re,te])}const _B=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?a2({element:r.current,padding:s}).fn(n):{}:r?a2({element:r,padding:s}).fn(n):{}}}},zB=(t,e)=>({...MB(t),options:[t,e]}),FB=(t,e)=>({...TB(t),options:[t,e]}),BB=(t,e)=>({...PB(t),options:[t,e]}),VB=(t,e)=>({...AB(t),options:[t,e]}),$B=(t,e)=>({...jB(t),options:[t,e]}),HB=(t,e)=>({...RB(t),options:[t,e]}),WB=(t,e)=>({..._B(t),options:[t,e]});var UB="Arrow",FM=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return p.jsx(ot.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});FM.displayName=UB;var KB=FM,U0="Popper",[BM,VM]=li(U0),[GB,$M]=BM(U0),HM=t=>{const{__scopePopper:e,children:n}=t,[r,s]=N.useState(null);return p.jsx(GB,{scope:e,anchor:r,onAnchorChange:s,children:n})};HM.displayName=U0;var WM="PopperAnchor",UM=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=$M(WM,n),a=N.useRef(null),c=wt(e,a);return N.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:p.jsx(ot.div,{...s,ref:c})});UM.displayName=WM;var K0="PopperContent",[qB,YB]=BM(K0),KM=N.forwardRef((t,e)=>{var ve,Oe,Re,oe,Ve,Ze;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:w,...k}=t,S=$M(K0,n),[C,M]=N.useState(null),A=wt(e,Ht=>M(Ht)),[D,j]=N.useState(null),I=mM(D),L=(I==null?void 0:I.width)??0,P=(I==null?void 0:I.height)??0,K=r+(i!=="center"?"-"+i:""),X=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},W=Array.isArray(f)?f:[f],Y=W.length>0,be={padding:X,boundary:W.filter(XB),altBoundary:Y},{refs:le,floatingStyles:ye,placement:re,isPositioned:te,middlewareData:F}=LB({strategy:"fixed",placement:K,whileElementsMounted:(...Ht)=>EB(...Ht,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[zB({mainAxis:s+P,alignmentAxis:a}),u&&FB({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?BB():void 0,...be}),u&&VB({...be}),$B({...be,apply:({elements:Ht,rects:as,availableWidth:Rn,availableHeight:Rr})=>{const{width:Mt,height:wn}=as.reference,bt=Ht.floating.style;bt.setProperty("--radix-popper-available-width",`${Rn}px`),bt.setProperty("--radix-popper-available-height",`${Rr}px`),bt.setProperty("--radix-popper-anchor-width",`${Mt}px`),bt.setProperty("--radix-popper-anchor-height",`${wn}px`)}}),D&&WB({element:D,padding:c}),QB({arrowWidth:L,arrowHeight:P}),x&&HB({strategy:"referenceHidden",...be})]}),[H,q]=YM(re),_=ar(w);io(()=>{te&&(_==null||_())},[te,_]);const U=(ve=F.arrow)==null?void 0:ve.x,ae=(Oe=F.arrow)==null?void 0:Oe.y,ie=((Re=F.arrow)==null?void 0:Re.centerOffset)!==0,[Me,he]=N.useState();return io(()=>{C&&he(window.getComputedStyle(C).zIndex)},[C]),p.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...ye,transform:te?ye.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[(oe=F.transformOrigin)==null?void 0:oe.x,(Ve=F.transformOrigin)==null?void 0:Ve.y].join(" "),...((Ze=F.hide)==null?void 0:Ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(qB,{scope:n,placedSide:H,onArrowChange:j,arrowX:U,arrowY:ae,shouldHideArrow:ie,children:p.jsx(ot.div,{"data-side":H,"data-align":q,...k,ref:A,style:{...k.style,animation:te?void 0:"none"}})})})});KM.displayName=K0;var GM="PopperArrow",JB={top:"bottom",right:"left",bottom:"top",left:"right"},qM=N.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=YB(GM,r),a=JB[i.placedSide];return p.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:p.jsx(KB,{...s,ref:n,style:{...s.style,display:"block"}})})});qM.displayName=GM;function XB(t){return t!==null}var QB=t=>({name:"transformOrigin",options:t,fn(e){var S,C,M;const{placement:n,rects:r,middlewareData:s}=e,a=((S=s.arrow)==null?void 0:S.centerOffset)!==0,c=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[f,h]=YM(n),m={start:"0%",center:"50%",end:"100%"}[h],x=(((C=s.arrow)==null?void 0:C.x)??0)+c/2,y=(((M=s.arrow)==null?void 0:M.y)??0)+u/2;let w="",k="";return f==="bottom"?(w=a?m:`${x}px`,k=`${-u}px`):f==="top"?(w=a?m:`${x}px`,k=`${r.floating.height+u}px`):f==="right"?(w=`${-u}px`,k=a?m:`${y}px`):f==="left"&&(w=`${r.floating.width+u}px`,k=a?m:`${y}px`),{data:{x:w,y:k}}}});function YM(t){const[e,n="center"]=t.split("-");return[e,n]}var ZB=HM,eV=UM,tV=KM,nV=qM,rV="Portal",G0=N.forwardRef((t,e)=>{var c;const{container:n,...r}=t,[s,i]=N.useState(!1);io(()=>i(!0),[]);const a=n||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?yC.createPortal(p.jsx(ot.div,{...r,ref:e}),a):null});G0.displayName=rV;function sV(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var ci=t=>{const{present:e,children:n}=t,r=iV(e),s=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),i=wt(r.ref,oV(s));return typeof n=="function"||r.isPresent?N.cloneElement(s,{ref:i}):null};ci.displayName="Presence";function iV(t){const[e,n]=N.useState(),r=N.useRef({}),s=N.useRef(t),i=N.useRef("none"),a=t?"mounted":"unmounted",[c,u]=sV(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=Xu(r.current);i.current=c==="mounted"?f:"none"},[c]),io(()=>{const f=r.current,h=s.current;if(h!==t){const x=i.current,y=Xu(f);t?u("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(h&&x!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),io(()=>{if(e){let f;const h=e.ownerDocument.defaultView??window,m=y=>{const k=Xu(r.current).includes(y.animationName);if(y.target===e&&k&&(u("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",f=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},x=y=>{y.target===e&&(i.current=Xu(r.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(f),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:N.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function Xu(t){return(t==null?void 0:t.animationName)||"none"}function oV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Um="rovingFocusGroup.onEntryFocus",aV={bubbles:!1,cancelable:!0},Jf="RovingFocusGroup",[px,JM,lV]=kM(Jf),[cV,XM]=li(Jf,[lV]),[uV,dV]=cV(Jf),QM=N.forwardRef((t,e)=>p.jsx(px.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(px.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(fV,{...t,ref:e})})}));QM.displayName=Jf;var fV=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...m}=t,x=N.useRef(null),y=wt(e,x),w=SM(i),[k=null,S]=Uf({prop:a,defaultProp:c,onChange:u}),[C,M]=N.useState(!1),A=ar(f),D=JM(n),j=N.useRef(!1),[I,L]=N.useState(0);return N.useEffect(()=>{const P=x.current;if(P)return P.addEventListener(Um,A),()=>P.removeEventListener(Um,A)},[A]),p.jsx(uV,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:k,onItemFocus:N.useCallback(P=>S(P),[S]),onItemShiftTab:N.useCallback(()=>M(!0),[]),onFocusableItemAdd:N.useCallback(()=>L(P=>P+1),[]),onFocusableItemRemove:N.useCallback(()=>L(P=>P-1),[]),children:p.jsx(ot.div,{tabIndex:C||I===0?-1:0,"data-orientation":r,...m,ref:y,style:{outline:"none",...t.style},onMouseDown:Le(t.onMouseDown,()=>{j.current=!0}),onFocus:Le(t.onFocus,P=>{const K=!j.current;if(P.target===P.currentTarget&&K&&!C){const X=new CustomEvent(Um,aV);if(P.currentTarget.dispatchEvent(X),!X.defaultPrevented){const W=D().filter(re=>re.focusable),Y=W.find(re=>re.active),be=W.find(re=>re.id===k),ye=[Y,be,...W].filter(Boolean).map(re=>re.ref.current);tT(ye,h)}}j.current=!1}),onBlur:Le(t.onBlur,()=>M(!1))})})}),ZM="RovingFocusGroupItem",eT=N.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...a}=t,c=sa(),u=i||c,f=dV(ZM,n),h=f.currentTabStopId===u,m=JM(n),{onFocusableItemAdd:x,onFocusableItemRemove:y}=f;return N.useEffect(()=>{if(r)return x(),()=>y()},[r,x,y]),p.jsx(px.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:p.jsx(ot.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...a,ref:e,onMouseDown:Le(t.onMouseDown,w=>{r?f.onItemFocus(u):w.preventDefault()}),onFocus:Le(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:Le(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const k=mV(w,f.orientation,f.dir);if(k!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let C=m().filter(M=>M.focusable).map(M=>M.ref.current);if(k==="last")C.reverse();else if(k==="prev"||k==="next"){k==="prev"&&C.reverse();const M=C.indexOf(w.currentTarget);C=f.loop?gV(C,M+1):C.slice(M+1)}setTimeout(()=>tT(C))}})})})});eT.displayName=ZM;var pV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hV(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function mV(t,e,n){const r=hV(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return pV[r]}function tT(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function gV(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var xV=QM,yV=eT,vV=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Vo=new WeakMap,Qu=new WeakMap,Zu={},Km=0,nT=function(t){return t&&(t.host||nT(t.parentNode))},wV=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=nT(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bV=function(t,e,n,r){var s=wV(e,Array.isArray(t)?t:[t]);Zu[n]||(Zu[n]=new WeakMap);var i=Zu[n],a=[],c=new Set,u=new Set(s),f=function(m){!m||c.has(m)||(c.add(m),f(m.parentNode))};s.forEach(f);var h=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(x){if(c.has(x))h(x);else try{var y=x.getAttribute(r),w=y!==null&&y!=="false",k=(Vo.get(x)||0)+1,S=(i.get(x)||0)+1;Vo.set(x,k),i.set(x,S),a.push(x),k===1&&w&&Qu.set(x,!0),S===1&&x.setAttribute(n,"true"),w||x.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",x,C)}})};return h(e),c.clear(),Km++,function(){a.forEach(function(m){var x=Vo.get(m)-1,y=i.get(m)-1;Vo.set(m,x),i.set(m,y),x||(Qu.has(m)||m.removeAttribute(r),Qu.delete(m)),y||m.removeAttribute(n)}),Km--,Km||(Vo=new WeakMap,Vo=new WeakMap,Qu=new WeakMap,Zu={})}},rT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=vV(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),bV(r,s,n,"aria-hidden")):function(){return null}},br=function(){return br=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},br.apply(this,arguments)};function sT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function kV(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var fd="right-scroll-bar-position",pd="width-before-scroll-bar",SV="with-scroll-bars-hidden",CV="--removed-body-scroll-bar-size";function Gm(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function NV(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var EV=typeof window<"u"?N.useLayoutEffect:N.useEffect,c2=new WeakMap;function MV(t,e){var n=NV(null,function(r){return t.forEach(function(s){return Gm(s,r)})});return EV(function(){var r=c2.get(n);if(r){var s=new Set(r),i=new Set(t),a=n.current;s.forEach(function(c){i.has(c)||Gm(c,null)}),i.forEach(function(c){s.has(c)||Gm(c,a)})}c2.set(n,t)},[t]),n}function TV(t){return t}function AV(t,e){e===void 0&&(e=TV);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(i){for(r=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(i),a=n}var u=function(){var h=a;a=[],h.forEach(i)},f=function(){return Promise.resolve().then(u)};f(),n={push:function(h){a.push(h),f()},filter:function(h){return a=a.filter(h),n}}}};return s}function jV(t){t===void 0&&(t={});var e=AV(null);return e.options=br({async:!0,ssr:!1},t),e}var iT=function(t){var e=t.sideCar,n=sT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,br({},n))};iT.isSideCarExport=!0;function RV(t,e){return t.useMedium(e),iT}var oT=jV(),qm=function(){},Xf=N.forwardRef(function(t,e){var n=N.useRef(null),r=N.useState({onScrollCapture:qm,onWheelCapture:qm,onTouchMoveCapture:qm}),s=r[0],i=r[1],a=t.forwardProps,c=t.children,u=t.className,f=t.removeScrollBar,h=t.enabled,m=t.shards,x=t.sideCar,y=t.noRelative,w=t.noIsolation,k=t.inert,S=t.allowPinchZoom,C=t.as,M=C===void 0?"div":C,A=t.gapMode,D=sT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=x,I=MV([n,e]),L=br(br({},D),s);return N.createElement(N.Fragment,null,h&&N.createElement(j,{sideCar:oT,removeScrollBar:f,shards:m,noRelative:y,noIsolation:w,inert:k,setCallbacks:i,allowPinchZoom:!!S,lockRef:n,gapMode:A}),a?N.cloneElement(N.Children.only(c),br(br({},L),{ref:I})):N.createElement(M,br({},L,{className:u,ref:I}),c))});Xf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xf.classNames={fullWidth:pd,zeroRight:fd};var PV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function DV(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=PV();return e&&t.setAttribute("nonce",e),t}function IV(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function OV(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var LV=function(){var t=0,e=null;return{add:function(n){t==0&&(e=DV())&&(IV(e,n),OV(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_V=function(){var t=LV();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},aT=function(){var t=_V(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},zV={left:0,top:0,right:0,gap:0},Ym=function(t){return parseInt(t||"",10)||0},FV=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ym(n),Ym(r),Ym(s)]},BV=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zV;var e=FV(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},VV=aT(),oa="data-scroll-locked",$V=function(t,e,n,r){var s=t.left,i=t.top,a=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(SV,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(oa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fd,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(pd,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(fd," .").concat(fd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(pd," .").concat(pd,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(oa,`] {
    `).concat(CV,": ").concat(c,`px;
  }
`)},u2=function(){var t=parseInt(document.body.getAttribute(oa)||"0",10);return isFinite(t)?t:0},HV=function(){N.useEffect(function(){return document.body.setAttribute(oa,(u2()+1).toString()),function(){var t=u2()-1;t<=0?document.body.removeAttribute(oa):document.body.setAttribute(oa,t.toString())}},[])},WV=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;HV();var i=N.useMemo(function(){return BV(s)},[s]);return N.createElement(VV,{styles:$V(i,!e,s,n?"":"!important")})},hx=!1;if(typeof window<"u")try{var ed=Object.defineProperty({},"passive",{get:function(){return hx=!0,!0}});window.addEventListener("test",ed,ed),window.removeEventListener("test",ed,ed)}catch{hx=!1}var $o=hx?{passive:!1}:!1,UV=function(t){return t.tagName==="TEXTAREA"},lT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!UV(t)&&n[e]==="visible")},KV=function(t){return lT(t,"overflowY")},GV=function(t){return lT(t,"overflowX")},d2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=cT(t,r);if(s){var i=uT(t,r),a=i[1],c=i[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},qV=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},YV=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cT=function(t,e){return t==="v"?KV(e):GV(e)},uT=function(t,e){return t==="v"?qV(e):YV(e)},JV=function(t,e){return t==="h"&&e==="rtl"?-1:1},XV=function(t,e,n,r,s){var i=JV(t,window.getComputedStyle(e).direction),a=i*r,c=n.target,u=e.contains(c),f=!1,h=a>0,m=0,x=0;do{if(!c)break;var y=uT(t,c),w=y[0],k=y[1],S=y[2],C=k-S-i*w;(w||C)&&cT(t,c)&&(m+=C,x+=w);var M=c.parentNode;c=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!u&&c!==document.body||u&&(e.contains(c)||e===c));return(h&&Math.abs(m)<1||!h&&Math.abs(x)<1)&&(f=!0),f},td=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},f2=function(t){return[t.deltaX,t.deltaY]},p2=function(t){return t&&"current"in t?t.current:t},QV=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ZV=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},e$=0,Ho=[];function t$(t){var e=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),s=N.useState(e$++)[0],i=N.useState(aT)[0],a=N.useRef(t);N.useEffect(function(){a.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var k=kV([t.lockRef.current],(t.shards||[]).map(p2),!0).filter(Boolean);return k.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),k.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var c=N.useCallback(function(k,S){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!a.current.allowPinchZoom;var C=td(k),M=n.current,A="deltaX"in k?k.deltaX:M[0]-C[0],D="deltaY"in k?k.deltaY:M[1]-C[1],j,I=k.target,L=Math.abs(A)>Math.abs(D)?"h":"v";if("touches"in k&&L==="h"&&I.type==="range")return!1;var P=window.getSelection(),K=P&&P.anchorNode,X=K?K===I||K.contains(I):!1;if(X)return!1;var W=d2(L,I);if(!W)return!0;if(W?j=L:(j=L==="v"?"h":"v",W=d2(L,I)),!W)return!1;if(!r.current&&"changedTouches"in k&&(A||D)&&(r.current=j),!j)return!0;var Y=r.current||j;return XV(Y,S,k,Y==="h"?A:D)},[]),u=N.useCallback(function(k){var S=k;if(!(!Ho.length||Ho[Ho.length-1]!==i)){var C="deltaY"in S?f2(S):td(S),M=e.current.filter(function(j){return j.name===S.type&&(j.target===S.target||S.target===j.shadowParent)&&QV(j.delta,C)})[0];if(M&&M.should){S.cancelable&&S.preventDefault();return}if(!M){var A=(a.current.shards||[]).map(p2).filter(Boolean).filter(function(j){return j.contains(S.target)}),D=A.length>0?c(S,A[0]):!a.current.noIsolation;D&&S.cancelable&&S.preventDefault()}}},[]),f=N.useCallback(function(k,S,C,M){var A={name:k,delta:S,target:C,should:M,shadowParent:n$(C)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(D){return D!==A})},1)},[]),h=N.useCallback(function(k){n.current=td(k),r.current=void 0},[]),m=N.useCallback(function(k){f(k.type,f2(k),k.target,c(k,t.lockRef.current))},[]),x=N.useCallback(function(k){f(k.type,td(k),k.target,c(k,t.lockRef.current))},[]);N.useEffect(function(){return Ho.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",u,$o),document.addEventListener("touchmove",u,$o),document.addEventListener("touchstart",h,$o),function(){Ho=Ho.filter(function(k){return k!==i}),document.removeEventListener("wheel",u,$o),document.removeEventListener("touchmove",u,$o),document.removeEventListener("touchstart",h,$o)}},[]);var y=t.removeScrollBar,w=t.inert;return N.createElement(N.Fragment,null,w?N.createElement(i,{styles:ZV(s)}):null,y?N.createElement(WV,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function n$(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const r$=RV(oT,t$);var q0=N.forwardRef(function(t,e){return N.createElement(Xf,br({},t,{ref:e,sideCar:r$}))});q0.classNames=Xf.classNames;var mx=["Enter"," "],s$=["ArrowDown","PageUp","Home"],dT=["ArrowUp","PageDown","End"],i$=[...s$,...dT],o$={ltr:[...mx,"ArrowRight"],rtl:[...mx,"ArrowLeft"]},a$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},mc="Menu",[rc,l$,c$]=kM(mc),[fo,fT]=li(mc,[c$,VM,XM]),Qf=VM(),pT=XM(),[u$,po]=fo(mc),[d$,gc]=fo(mc),hT=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:a=!0}=t,c=Qf(e),[u,f]=N.useState(null),h=N.useRef(!1),m=ar(i),x=SM(s);return N.useEffect(()=>{const y=()=>{h.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>h.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),p.jsx(ZB,{...c,children:p.jsx(u$,{scope:e,open:n,onOpenChange:m,content:u,onContentChange:f,children:p.jsx(d$,{scope:e,onClose:N.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:x,modal:a,children:r})})})};hT.displayName=mc;var f$="MenuAnchor",Y0=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Qf(n);return p.jsx(eV,{...s,...r,ref:e})});Y0.displayName=f$;var J0="MenuPortal",[p$,mT]=fo(J0,{forceMount:void 0}),gT=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=po(J0,e);return p.jsx(p$,{scope:e,forceMount:n,children:p.jsx(ci,{present:n||i.open,children:p.jsx(G0,{asChild:!0,container:s,children:r})})})};gT.displayName=J0;var qn="MenuContent",[h$,X0]=fo(qn),xT=N.forwardRef((t,e)=>{const n=mT(qn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=po(qn,t.__scopeMenu),a=gc(qn,t.__scopeMenu);return p.jsx(rc.Provider,{scope:t.__scopeMenu,children:p.jsx(ci,{present:r||i.open,children:p.jsx(rc.Slot,{scope:t.__scopeMenu,children:a.modal?p.jsx(m$,{...s,ref:e}):p.jsx(g$,{...s,ref:e})})})})}),m$=N.forwardRef((t,e)=>{const n=po(qn,t.__scopeMenu),r=N.useRef(null),s=wt(e,r);return N.useEffect(()=>{const i=r.current;if(i)return rT(i)},[]),p.jsx(Q0,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Le(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),g$=N.forwardRef((t,e)=>{const n=po(qn,t.__scopeMenu);return p.jsx(Q0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Q0=N.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:x,onDismiss:y,disableOutsideScroll:w,...k}=t,S=po(qn,n),C=gc(qn,n),M=Qf(n),A=pT(n),D=l$(n),[j,I]=N.useState(null),L=N.useRef(null),P=wt(e,L,S.onContentChange),K=N.useRef(0),X=N.useRef(""),W=N.useRef(0),Y=N.useRef(null),be=N.useRef("right"),le=N.useRef(0),ye=w?q0:N.Fragment,re=w?{as:ga,allowPinchZoom:!0}:void 0,te=H=>{var ve,Oe;const q=X.current+H,_=D().filter(Re=>!Re.disabled),U=document.activeElement,ae=(ve=_.find(Re=>Re.ref.current===U))==null?void 0:ve.textValue,ie=_.map(Re=>Re.textValue),Me=T$(ie,q,ae),he=(Oe=_.find(Re=>Re.textValue===Me))==null?void 0:Oe.ref.current;(function Re(oe){X.current=oe,window.clearTimeout(K.current),oe!==""&&(K.current=window.setTimeout(()=>Re(""),1e3))})(q),he&&setTimeout(()=>he.focus())};N.useEffect(()=>()=>window.clearTimeout(K.current),[]),EM();const F=N.useCallback(H=>{var _,U;return be.current===((_=Y.current)==null?void 0:_.side)&&j$(H,(U=Y.current)==null?void 0:U.area)},[]);return p.jsx(h$,{scope:n,searchRef:X,onItemEnter:N.useCallback(H=>{F(H)&&H.preventDefault()},[F]),onItemLeave:N.useCallback(H=>{var q;F(H)||((q=L.current)==null||q.focus(),I(null))},[F]),onTriggerLeave:N.useCallback(H=>{F(H)&&H.preventDefault()},[F]),pointerGraceTimerRef:W,onPointerGraceIntentChange:N.useCallback(H=>{Y.current=H},[]),children:p.jsx(ye,{...re,children:p.jsx(z0,{asChild:!0,trapped:s,onMountAutoFocus:Le(i,H=>{var q;H.preventDefault(),(q=L.current)==null||q.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:p.jsx(_0,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:x,onDismiss:y,children:p.jsx(xV,{asChild:!0,...A,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:j,onCurrentTabStopIdChange:I,onEntryFocus:Le(u,H=>{C.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(tV,{role:"menu","aria-orientation":"vertical","data-state":DT(S.open),"data-radix-menu-content":"",dir:C.dir,...M,...k,ref:P,style:{outline:"none",...k.style},onKeyDown:Le(k.onKeyDown,H=>{const _=H.target.closest("[data-radix-menu-content]")===H.currentTarget,U=H.ctrlKey||H.altKey||H.metaKey,ae=H.key.length===1;_&&(H.key==="Tab"&&H.preventDefault(),!U&&ae&&te(H.key));const ie=L.current;if(H.target!==ie||!i$.includes(H.key))return;H.preventDefault();const he=D().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);dT.includes(H.key)&&he.reverse(),E$(he)}),onBlur:Le(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(K.current),X.current="")}),onPointerMove:Le(t.onPointerMove,sc(H=>{const q=H.target,_=le.current!==H.clientX;if(H.currentTarget.contains(q)&&_){const U=H.clientX>le.current?"right":"left";be.current=U,le.current=H.clientX}}))})})})})})})});xT.displayName=qn;var x$="MenuGroup",Z0=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(ot.div,{role:"group",...r,ref:e})});Z0.displayName=x$;var y$="MenuLabel",yT=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(ot.div,{...r,ref:e})});yT.displayName=y$;var kf="MenuItem",h2="menu.itemSelect",Zf=N.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=N.useRef(null),a=gc(kf,t.__scopeMenu),c=X0(kf,t.__scopeMenu),u=wt(e,i),f=N.useRef(!1),h=()=>{const m=i.current;if(!n&&m){const x=new CustomEvent(h2,{bubbles:!0,cancelable:!0});m.addEventListener(h2,y=>r==null?void 0:r(y),{once:!0}),xM(m,x),x.defaultPrevented?f.current=!1:a.onClose()}};return p.jsx(vT,{...s,ref:u,disabled:n,onClick:Le(t.onClick,h),onPointerDown:m=>{var x;(x=t.onPointerDown)==null||x.call(t,m),f.current=!0},onPointerUp:Le(t.onPointerUp,m=>{var x;f.current||(x=m.currentTarget)==null||x.click()}),onKeyDown:Le(t.onKeyDown,m=>{const x=c.searchRef.current!=="";n||x&&m.key===" "||mx.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Zf.displayName=kf;var vT=N.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,a=X0(kf,n),c=pT(n),u=N.useRef(null),f=wt(e,u),[h,m]=N.useState(!1),[x,y]=N.useState("");return N.useEffect(()=>{const w=u.current;w&&y((w.textContent??"").trim())},[i.children]),p.jsx(rc.ItemSlot,{scope:n,disabled:r,textValue:s??x,children:p.jsx(yV,{asChild:!0,...c,focusable:!r,children:p.jsx(ot.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:f,onPointerMove:Le(t.onPointerMove,sc(w=>{r?a.onItemLeave(w):(a.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(t.onPointerLeave,sc(w=>a.onItemLeave(w))),onFocus:Le(t.onFocus,()=>m(!0)),onBlur:Le(t.onBlur,()=>m(!1))})})})}),v$="MenuCheckboxItem",wT=N.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return p.jsx(NT,{scope:t.__scopeMenu,checked:n,children:p.jsx(Zf,{role:"menuitemcheckbox","aria-checked":Sf(n)?"mixed":n,...s,ref:e,"data-state":ty(n),onSelect:Le(s.onSelect,()=>r==null?void 0:r(Sf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});wT.displayName=v$;var bT="MenuRadioGroup",[w$,b$]=fo(bT,{value:void 0,onValueChange:()=>{}}),kT=N.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=ar(r);return p.jsx(w$,{scope:t.__scopeMenu,value:n,onValueChange:i,children:p.jsx(Z0,{...s,ref:e})})});kT.displayName=bT;var ST="MenuRadioItem",CT=N.forwardRef((t,e)=>{const{value:n,...r}=t,s=b$(ST,t.__scopeMenu),i=n===s.value;return p.jsx(NT,{scope:t.__scopeMenu,checked:i,children:p.jsx(Zf,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":ty(i),onSelect:Le(r.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,n)},{checkForDefaultPrevented:!1})})})});CT.displayName=ST;var ey="MenuItemIndicator",[NT,k$]=fo(ey,{checked:!1}),ET=N.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=k$(ey,n);return p.jsx(ci,{present:r||Sf(i.checked)||i.checked===!0,children:p.jsx(ot.span,{...s,ref:e,"data-state":ty(i.checked)})})});ET.displayName=ey;var S$="MenuSeparator",MT=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(ot.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});MT.displayName=S$;var C$="MenuArrow",TT=N.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Qf(n);return p.jsx(nV,{...s,...r,ref:e})});TT.displayName=C$;var N$="MenuSub",[aW,AT]=fo(N$),kl="MenuSubTrigger",jT=N.forwardRef((t,e)=>{const n=po(kl,t.__scopeMenu),r=gc(kl,t.__scopeMenu),s=AT(kl,t.__scopeMenu),i=X0(kl,t.__scopeMenu),a=N.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=i,f={__scopeMenu:t.__scopeMenu},h=N.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return N.useEffect(()=>h,[h]),N.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),u(null)}},[c,u]),p.jsx(Y0,{asChild:!0,...f,children:p.jsx(vT,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":DT(n.open),...t,ref:Wf(e,s.onTriggerChange),onClick:m=>{var x;(x=t.onClick)==null||x.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Le(t.onPointerMove,sc(m=>{i.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Le(t.onPointerLeave,sc(m=>{var y,w;h();const x=(y=n.content)==null?void 0:y.getBoundingClientRect();if(x){const k=(w=n.content)==null?void 0:w.dataset.side,S=k==="right",C=S?-5:5,M=x[S?"left":"right"],A=x[S?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+C,y:m.clientY},{x:M,y:x.top},{x:A,y:x.top},{x:A,y:x.bottom},{x:M,y:x.bottom}],side:k}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Le(t.onKeyDown,m=>{var y;const x=i.searchRef.current!=="";t.disabled||x&&m.key===" "||o$[r.dir].includes(m.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),m.preventDefault())})})})});jT.displayName=kl;var RT="MenuSubContent",PT=N.forwardRef((t,e)=>{const n=mT(qn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=po(qn,t.__scopeMenu),a=gc(qn,t.__scopeMenu),c=AT(RT,t.__scopeMenu),u=N.useRef(null),f=wt(e,u);return p.jsx(rc.Provider,{scope:t.__scopeMenu,children:p.jsx(ci,{present:r||i.open,children:p.jsx(rc.Slot,{scope:t.__scopeMenu,children:p.jsx(Q0,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:f,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;a.isUsingKeyboardRef.current&&((m=u.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Le(t.onFocusOutside,h=>{h.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Le(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:Le(t.onKeyDown,h=>{var y;const m=h.currentTarget.contains(h.target),x=a$[a.dir].includes(h.key);m&&x&&(i.onOpenChange(!1),(y=c.trigger)==null||y.focus(),h.preventDefault())})})})})})});PT.displayName=RT;function DT(t){return t?"open":"closed"}function Sf(t){return t==="indeterminate"}function ty(t){return Sf(t)?"indeterminate":t?"checked":"unchecked"}function E$(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function M$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function T$(t,e,n){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=M$(t,Math.max(i,0));s.length===1&&(a=a.filter(f=>f!==n));const u=a.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return u!==n?u:void 0}function A$(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const c=e[i].x,u=e[i].y,f=e[a].x,h=e[a].y;u>r!=h>r&&n<(f-c)*(r-u)/(h-u)+c&&(s=!s)}return s}function j$(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return A$(n,e)}function sc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var R$=hT,P$=Y0,D$=gT,I$=xT,O$=Z0,L$=yT,_$=Zf,z$=wT,F$=kT,B$=CT,V$=ET,$$=MT,H$=TT,W$=jT,U$=PT,ny="DropdownMenu",[K$]=li(ny,[fT]),cn=fT(),[G$,IT]=K$(ny),OT=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:a,modal:c=!0}=t,u=cn(e),f=N.useRef(null),[h=!1,m]=Uf({prop:s,defaultProp:i,onChange:a});return p.jsx(G$,{scope:e,triggerId:sa(),triggerRef:f,contentId:sa(),open:h,onOpenChange:m,onOpenToggle:N.useCallback(()=>m(x=>!x),[m]),modal:c,children:p.jsx(R$,{...u,open:h,onOpenChange:m,dir:r,modal:c,children:n})})};OT.displayName=ny;var LT="DropdownMenuTrigger",_T=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=IT(LT,n),a=cn(n);return p.jsx(P$,{asChild:!0,...a,children:p.jsx(ot.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Wf(e,i.triggerRef),onPointerDown:Le(t.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Le(t.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});_T.displayName=LT;var q$="DropdownMenuPortal",zT=t=>{const{__scopeDropdownMenu:e,...n}=t,r=cn(e);return p.jsx(D$,{...r,...n})};zT.displayName=q$;var FT="DropdownMenuContent",BT=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=IT(FT,n),i=cn(n),a=N.useRef(!1);return p.jsx(I$,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:Le(t.onCloseAutoFocus,c=>{var u;a.current||(u=s.triggerRef.current)==null||u.focus(),a.current=!1,c.preventDefault()}),onInteractOutside:Le(t.onInteractOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,h=u.button===2||f;(!s.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BT.displayName=FT;var Y$="DropdownMenuGroup",J$=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return p.jsx(O$,{...s,...r,ref:e})});J$.displayName=Y$;var X$="DropdownMenuLabel",Q$=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return p.jsx(L$,{...s,...r,ref:e})});Q$.displayName=X$;var Z$="DropdownMenuItem",VT=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return p.jsx(_$,{...s,...r,ref:e})});VT.displayName=Z$;var eH="DropdownMenuCheckboxItem",tH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return p.jsx(z$,{...s,...r,ref:e})});tH.displayName=eH;var nH="DropdownMenuRadioGroup",rH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return p.jsx(F$,{...s,...r,ref:e})});rH.displayName=nH;var sH="DropdownMenuRadioItem",iH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return p.jsx(B$,{...s,...r,ref:e})});iH.displayName=sH;var oH="DropdownMenuItemIndicator",aH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return p.jsx(V$,{...s,...r,ref:e})});aH.displayName=oH;var lH="DropdownMenuSeparator",cH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return p.jsx($$,{...s,...r,ref:e})});cH.displayName=lH;var uH="DropdownMenuArrow",dH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return p.jsx(H$,{...s,...r,ref:e})});dH.displayName=uH;var fH="DropdownMenuSubTrigger",pH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return p.jsx(W$,{...s,...r,ref:e})});pH.displayName=fH;var hH="DropdownMenuSubContent",mH=N.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=cn(n);return p.jsx(U$,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mH.displayName=hH;var gH=OT,xH=_T,yH=zT,vH=BT,wH=VT;function Jm({...t}){return p.jsx(gH,{"data-slot":"dropdown-menu",...t})}function Xm({...t}){return p.jsx(xH,{"data-slot":"dropdown-menu-trigger",...t})}function Qm({className:t,sideOffset:e=4,...n}){return p.jsx(yH,{children:p.jsx(vH,{"data-slot":"dropdown-menu-content",sideOffset:e,className:ht("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function Pt({className:t,inset:e,variant:n="default",...r}){return p.jsx(wH,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:ht("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function bH({onAdd:t}){return p.jsx("div",{className:"flex-1 bg-[#fcfcfd] flex flex-col overflow-hidden",children:p.jsxs("div",{className:"flex flex-col gap-[16px] items-start p-[24px] flex-1 overflow-auto",children:[p.jsxs("div",{className:"content-stretch flex flex-col gap-[16px] items-start relative shrink-0 w-full",children:[p.jsxs("div",{className:"content-stretch flex gap-[16px] items-center justify-between relative shrink-0 w-full",children:[p.jsx("h1",{className:"font-['Inter:Bold',sans-serif] font-bold leading-[30px] not-italic text-[#3d3c52] text-[22px]",children:"Competencies"}),p.jsxs("button",{onClick:t,className:"bg-[#0975d7] content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] hover:bg-[#0861b8] transition-colors",children:[p.jsx(kr,{className:"size-[16px] text-white",stroke:2}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[14px] text-center text-nowrap text-white",children:"Add competency"})]})]}),p.jsx("div",{className:"bg-[#ececf3] h-px shrink-0 w-full"})]}),p.jsx("div",{className:"flex-1 flex items-center justify-center w-full",children:p.jsxs("div",{className:"flex flex-col items-center gap-[24px] max-w-[480px] text-center px-[24px]",children:[p.jsx("div",{className:"bg-[#f0f0f5] rounded-full p-[24px]",children:p.jsx(uI,{className:"size-[48px] text-[#6b697b]",stroke:2})}),p.jsxs("div",{className:"flex flex-col gap-[12px]",children:[p.jsx("h2",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[28px] not-italic text-[#3d3c52] text-[20px]",children:"No competencies yet"}),p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[24px] not-italic text-[#6b697b] text-[16px]",children:"Competencies define the skills and behaviors you'll evaluate across your organization. Create your first competency to get started with learner assessments."})]}),p.jsxs("div",{className:"flex flex-col gap-[8px] w-full mt-[8px]",children:[p.jsxs("button",{onClick:t,className:"bg-[#0975d7] content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[24px] py-[12px] relative rounded-[4px] hover:bg-[#0861b8] transition-colors",children:[p.jsx(kr,{className:"size-[20px] text-white",stroke:2}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[16px] text-center text-nowrap text-white",children:"Create your first competency"})]}),p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#6b697b] text-[14px] mt-[8px]",children:"Minimum 3 competencies required for assessments"})]})]})})]})})}var ry="Dialog",[$T,HT]=li(ry),[kH,ur]=$T(ry),WT=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:a=!0}=t,c=N.useRef(null),u=N.useRef(null),[f=!1,h]=Uf({prop:r,defaultProp:s,onChange:i});return p.jsx(kH,{scope:e,triggerRef:c,contentRef:u,contentId:sa(),titleId:sa(),descriptionId:sa(),open:f,onOpenChange:h,onOpenToggle:N.useCallback(()=>h(m=>!m),[h]),modal:a,children:n})};WT.displayName=ry;var UT="DialogTrigger",KT=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(UT,n),i=wt(e,s.triggerRef);return p.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":oy(s.open),...r,ref:i,onClick:Le(t.onClick,s.onOpenToggle)})});KT.displayName=UT;var sy="DialogPortal",[SH,GT]=$T(sy,{forceMount:void 0}),qT=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ur(sy,e);return p.jsx(SH,{scope:e,forceMount:n,children:N.Children.map(r,a=>p.jsx(ci,{present:n||i.open,children:p.jsx(G0,{asChild:!0,container:s,children:a})}))})};qT.displayName=sy;var Cf="DialogOverlay",YT=N.forwardRef((t,e)=>{const n=GT(Cf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ur(Cf,t.__scopeDialog);return i.modal?p.jsx(ci,{present:r||i.open,children:p.jsx(CH,{...s,ref:e})}):null});YT.displayName=Cf;var CH=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(Cf,n);return p.jsx(q0,{as:ga,allowPinchZoom:!0,shards:[s.contentRef],children:p.jsx(ot.div,{"data-state":oy(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ao="DialogContent",JT=N.forwardRef((t,e)=>{const n=GT(ao,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ur(ao,t.__scopeDialog);return p.jsx(ci,{present:r||i.open,children:i.modal?p.jsx(NH,{...s,ref:e}):p.jsx(EH,{...s,ref:e})})});JT.displayName=ao;var NH=N.forwardRef((t,e)=>{const n=ur(ao,t.__scopeDialog),r=N.useRef(null),s=wt(e,n.contentRef,r);return N.useEffect(()=>{const i=r.current;if(i)return rT(i)},[]),p.jsx(XT,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Le(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&i.preventDefault()}),onFocusOutside:Le(t.onFocusOutside,i=>i.preventDefault())})}),EH=N.forwardRef((t,e)=>{const n=ur(ao,t.__scopeDialog),r=N.useRef(!1),s=N.useRef(!1);return p.jsx(XT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,c;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,f;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=i.target;((f=n.triggerRef.current)==null?void 0:f.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),XT=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...a}=t,c=ur(ao,n),u=N.useRef(null),f=wt(e,u);return EM(),p.jsxs(p.Fragment,{children:[p.jsx(z0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:p.jsx(_0,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":oy(c.open),...a,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(TH,{titleId:c.titleId}),p.jsx(jH,{contentRef:u,descriptionId:c.descriptionId})]})]})}),iy="DialogTitle",QT=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(iy,n);return p.jsx(ot.h2,{id:s.titleId,...r,ref:e})});QT.displayName=iy;var ZT="DialogDescription",eA=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(ZT,n);return p.jsx(ot.p,{id:s.descriptionId,...r,ref:e})});eA.displayName=ZT;var tA="DialogClose",nA=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ur(tA,n);return p.jsx(ot.button,{type:"button",...r,ref:e,onClick:Le(t.onClick,()=>s.onOpenChange(!1))})});nA.displayName=tA;function oy(t){return t?"open":"closed"}var rA="DialogTitleWarning",[MH,sA]=nF(rA,{contentName:ao,titleName:iy,docsSlug:"dialog"}),TH=({titleId:t})=>{const e=sA(rA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},AH="DialogDescriptionWarning",jH=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sA(AH).contentName}}.`;return N.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},iA=WT,RH=KT,oA=qT,aA=YT,lA=JT,cA=QT,uA=eA,ay=nA;function hd({...t}){return p.jsx(iA,{"data-slot":"dialog",...t})}function PH({...t}){return p.jsx(oA,{"data-slot":"dialog-portal",...t})}function DH({className:t,...e}){return p.jsx(aA,{"data-slot":"dialog-overlay",className:ht("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function md({className:t,children:e,...n}){return p.jsxs(PH,{"data-slot":"dialog-portal",children:[p.jsx(DH,{}),p.jsxs(lA,{"data-slot":"dialog-content",className:ht("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,p.jsxs(ay,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[p.jsx(Tl,{}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function gd({className:t,...e}){return p.jsx("div",{"data-slot":"dialog-header",className:ht("flex flex-col gap-2 text-center sm:text-left",t),...e})}function xd({className:t,...e}){return p.jsx("div",{"data-slot":"dialog-footer",className:ht("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function yd({className:t,...e}){return p.jsx(cA,{"data-slot":"dialog-title",className:ht("text-lg leading-none font-semibold",t),...e})}function vd({className:t,...e}){return p.jsx(uA,{"data-slot":"dialog-description",className:ht("text-muted-foreground text-sm",t),...e})}var IH="Label",dA=N.forwardRef((t,e)=>p.jsx(ot.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));dA.displayName=IH;var OH=dA;function ea({className:t,...e}){return p.jsx(OH,{"data-slot":"label",className:ht("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function LH({errorType:t}){const[e,n]=N.useState(!1),[r,s]=N.useState({name:"",description:""}),[i,a]=N.useState(""),u=(()=>{switch(t){case"addError":return{title:"Unable to add competency",description:"We encountered an issue while trying to add your competency. This could be due to a server error or temporary service interruption.",message:"Failed to add competency. Please try again.",action:"Retry adding competency"};case"duplicateError":return{title:"Duplicate competency name",description:"A competency with this name already exists. Please choose a different name to avoid confusion in your assessments.",message:"A competency with this name already exists. Please use a different name.",action:"Try a different name"};case"networkError":return{title:"Connection error",description:"We couldn't connect to our servers. Please check your internet connection and try again.",message:"Network error. Please check your connection and try again.",action:"Retry connection"};case"validationError":return{title:"Invalid input",description:"Please ensure all required fields are filled correctly. Name and description are required.",message:"Name and description are required fields.",action:"Fix validation errors"};default:return{title:"An error occurred",description:"Something went wrong. Please try again.",message:"An error occurred. Please try again.",action:"Try again"}}})(),f=()=>{if(!r.name.trim()||!r.description.trim()){a(u.message);return}a(u.message)};return p.jsxs("div",{className:"flex-1 bg-[#fcfcfd] flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"flex flex-col gap-[16px] items-start p-[24px] flex-1 overflow-auto",children:[p.jsxs("div",{className:"content-stretch flex flex-col gap-[16px] items-start relative shrink-0 w-full",children:[p.jsxs("div",{className:"content-stretch flex gap-[16px] items-center justify-between relative shrink-0 w-full",children:[p.jsx("h1",{className:"font-['Inter:Bold',sans-serif] font-bold leading-[30px] not-italic text-[#3d3c52] text-[22px]",children:"Competencies"}),p.jsxs("button",{onClick:()=>n(!0),className:"bg-[#0975d7] content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] hover:bg-[#0861b8] transition-colors",children:[p.jsx(kr,{className:"size-[16px] text-white",stroke:2}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[14px] text-center text-nowrap text-white",children:"Add competency"})]})]}),p.jsx("div",{className:"bg-[#ececf3] h-px shrink-0 w-full"})]}),p.jsx("div",{className:"flex-1 flex items-center justify-center w-full",children:p.jsxs("div",{className:"flex flex-col items-center gap-[24px] max-w-[480px] text-center px-[24px]",children:[p.jsx("div",{className:"bg-red-50 rounded-full p-[24px] border border-red-100",children:p.jsx(kg,{className:"size-[48px] text-red-600",stroke:2})}),p.jsxs("div",{className:"flex flex-col gap-[12px]",children:[p.jsx("h2",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[28px] not-italic text-[#3d3c52] text-[20px]",children:u.title}),p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[24px] not-italic text-[#6b697b] text-[16px]",children:u.description})]}),p.jsxs("div",{className:"flex flex-col gap-[12px] w-full mt-[8px]",children:[p.jsxs("button",{onClick:()=>n(!0),className:"bg-[#0975d7] content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[24px] py-[12px] relative rounded-[4px] hover:bg-[#0861b8] transition-colors",children:[p.jsx(hC,{className:"size-[20px] text-white",stroke:2}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[16px] text-center text-nowrap text-white",children:u.action})]}),t==="networkError"&&p.jsx("button",{className:"content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[24px] py-[12px] relative rounded-[4px] border border-[#d7d6d1] hover:bg-[#f5f5f5] transition-colors",children:p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[#3d3c52] text-[16px]",children:"Check connection settings"})})]})]})})]}),p.jsx(hd,{open:e,onOpenChange:h=>{n(h),h||(a(""),s({name:"",description:""}))},children:p.jsxs(md,{children:[p.jsxs(gd,{children:[p.jsx(yd,{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold text-[#3d3c52]",children:"Add competency"}),p.jsx(vd,{className:"font-['Inter:Regular',sans-serif] text-[#6b697b]",children:"Create a new competency that will be used to evaluate learners across the organization."})]}),i&&p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-[8px] p-[12px] flex items-start gap-[8px]",children:[p.jsx(kg,{className:"size-[20px] text-red-600 shrink-0 mt-[2px]",stroke:2}),p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-red-800 text-[14px] flex-1",children:i})]}),p.jsxs("div",{className:"flex flex-col gap-[16px] py-[16px]",children:[p.jsxs("div",{className:"flex flex-col gap-[8px]",children:[p.jsx(ea,{htmlFor:"name",className:"font-['Inter:Medium',sans-serif] font-medium text-[#3d3c52] text-[14px]",children:"Name"}),p.jsx(ox,{id:"name",placeholder:"e.g., Empathy",value:r.name,onChange:h=>s({...r,name:h.target.value}),className:"font-['Inter:Regular',sans-serif] text-[#3d3c52] text-[14px]"})]}),p.jsxs("div",{className:"flex flex-col gap-[8px]",children:[p.jsx(ea,{htmlFor:"description",className:"font-['Inter:Medium',sans-serif] font-medium text-[#3d3c52] text-[14px]",children:"Description"}),p.jsx(ax,{id:"description",placeholder:"Describe what this competency measures...",value:r.description,onChange:h=>s({...r,description:h.target.value}),rows:4,className:"font-['Inter:Regular',sans-serif] text-[#3d3c52] text-[14px]"})]})]}),p.jsxs(xd,{children:[p.jsx("button",{onClick:()=>{n(!1),a(""),s({name:"",description:""})},className:"content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] border border-[#d7d6d1] hover:bg-[#f5f5f5] transition-colors",children:p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Cancel"})}),p.jsx("button",{onClick:f,className:"bg-[#0975d7] content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] hover:bg-[#0861b8] transition-colors",children:p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[14px] text-center text-nowrap text-white",children:"Add competency"})})]})]})})]})}var fA="AlertDialog",[_H]=li(fA,[HT]),is=HT(),pA=t=>{const{__scopeAlertDialog:e,...n}=t,r=is(e);return p.jsx(iA,{...r,...n,modal:!0})};pA.displayName=fA;var zH="AlertDialogTrigger",FH=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=is(n);return p.jsx(RH,{...s,...r,ref:e})});FH.displayName=zH;var BH="AlertDialogPortal",hA=t=>{const{__scopeAlertDialog:e,...n}=t,r=is(e);return p.jsx(oA,{...r,...n})};hA.displayName=BH;var VH="AlertDialogOverlay",mA=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=is(n);return p.jsx(aA,{...s,...r,ref:e})});mA.displayName=VH;var aa="AlertDialogContent",[$H,HH]=_H(aa),gA=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=is(n),a=N.useRef(null),c=wt(e,a),u=N.useRef(null);return p.jsx(MH,{contentName:aa,titleName:xA,docsSlug:"alert-dialog",children:p.jsx($H,{scope:n,cancelRef:u,children:p.jsxs(lA,{role:"alertdialog",...i,...s,ref:c,onOpenAutoFocus:Le(s.onOpenAutoFocus,f=>{var h;f.preventDefault(),(h=u.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[p.jsx(gM,{children:r}),p.jsx(UH,{contentRef:a})]})})})});gA.displayName=aa;var xA="AlertDialogTitle",yA=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=is(n);return p.jsx(cA,{...s,...r,ref:e})});yA.displayName=xA;var vA="AlertDialogDescription",wA=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=is(n);return p.jsx(uA,{...s,...r,ref:e})});wA.displayName=vA;var WH="AlertDialogAction",bA=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=is(n);return p.jsx(ay,{...s,...r,ref:e})});bA.displayName=WH;var kA="AlertDialogCancel",SA=N.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=HH(kA,n),i=is(n),a=wt(e,s);return p.jsx(ay,{...i,...r,ref:a})});SA.displayName=kA;var UH=({contentRef:t})=>{const e=`\`${aa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${aa}\` by passing a \`${vA}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${aa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},KH=pA,GH=hA,qH=mA,YH=gA,JH=bA,XH=SA,QH=yA,ZH=wA;const m2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,g2=sM,eW=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return g2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,a=Object.keys(s).map(f=>{const h=n==null?void 0:n[f],m=i==null?void 0:i[f];if(h===null)return null;const x=m2(h)||m2(m);return s[f][x]}),c=n&&Object.entries(n).reduce((f,h)=>{let[m,x]=h;return x===void 0||(f[m]=x),f},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,h)=>{let{class:m,className:x,...y}=h;return Object.entries(y).every(w=>{let[k,S]=w;return Array.isArray(S)?S.includes({...i,...c}[k]):{...i,...c}[k]===S})?[...f,m,x]:f},[]);return g2(t,a,u,n==null?void 0:n.class,n==null?void 0:n.className)},CA=eW("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function x2({...t}){return p.jsx(KH,{"data-slot":"alert-dialog",...t})}function tW({...t}){return p.jsx(GH,{"data-slot":"alert-dialog-portal",...t})}function nW({className:t,...e}){return p.jsx(qH,{"data-slot":"alert-dialog-overlay",className:ht("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function y2({className:t,...e}){return p.jsxs(tW,{children:[p.jsx(nW,{}),p.jsx(YH,{"data-slot":"alert-dialog-content",className:ht("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function v2({className:t,...e}){return p.jsx("div",{"data-slot":"alert-dialog-header",className:ht("flex flex-col gap-2 text-center sm:text-left",t),...e})}function w2({className:t,...e}){return p.jsx("div",{"data-slot":"alert-dialog-footer",className:ht("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function b2({className:t,...e}){return p.jsx(QH,{"data-slot":"alert-dialog-title",className:ht("text-lg font-semibold",t),...e})}function k2({className:t,...e}){return p.jsx(ZH,{"data-slot":"alert-dialog-description",className:ht("text-muted-foreground text-sm",t),...e})}function S2({className:t,...e}){return p.jsx(JH,{className:ht(CA(),t),...e})}function C2({className:t,...e}){return p.jsx(XH,{className:ht(CA({variant:"outline"}),t),...e})}const rW=t=>({1:{scenarios:5,workflows:3,assessments:12},2:{scenarios:8,workflows:2,assessments:15},3:{scenarios:3,workflows:1,assessments:7},4:{scenarios:12,workflows:20,assessments:25}})[t]||{scenarios:0,workflows:0,assessments:0},Zm=t=>({1:[{id:"1",name:"New claim | Guidewire 2",stage:"ready"},{id:"2",name:"Refund request | Billing system",stage:"production"},{id:"3",name:"Customer complaint | Support portal",stage:"draft"}],2:[{id:"4",name:"System configuration | Admin panel",stage:"ready"},{id:"5",name:"Data migration | Database tools",stage:"production"}],3:[{id:"6",name:"Issue resolution | Ticketing system",stage:"ready"}],4:[{id:"7",name:"New claim | Guidewire 2",stage:"ready"},{id:"8",name:"New claim | Guidewire 3",stage:"production"},{id:"9",name:"Refund request | Billing system",stage:"production"},{id:"10",name:"Return label | Shipping portal",stage:"ready"},{id:"11",name:"Cancel order | Order system",stage:"draft"},{id:"12",name:"Change address | Order system",stage:"ready"},{id:"13",name:"Update payment | Billing system",stage:"production"},{id:"14",name:"Customer onboarding | CRM",stage:"ready"},{id:"15",name:"Account setup | User portal",stage:"production"},{id:"16",name:"Product configuration | Admin panel",stage:"draft"},{id:"17",name:"Order processing | E-commerce",stage:"ready"},{id:"18",name:"Payment processing | Gateway",stage:"production"},{id:"19",name:"Shipping management | Logistics",stage:"ready"},{id:"20",name:"Inventory update | Warehouse",stage:"draft"},{id:"21",name:"Customer support | Helpdesk",stage:"production"},{id:"22",name:"Report generation | Analytics",stage:"ready"},{id:"23",name:"Data export | System tools",stage:"production"},{id:"24",name:"User management | Admin",stage:"ready"},{id:"25",name:"Permission setup | Security",stage:"draft"},{id:"26",name:"Workflow automation | Process",stage:"production"}]})[t]||[],N2=[{id:"1",name:"Empathy",description:"The ability to understand and share the feelings of customers, showing genuine care and concern for their situation.",mandatoryForAll:!1},{id:"2",name:"System know-how",description:"Proficiency in understanding and effectively using internal systems, tools, and processes to resolve customer issues.",mandatoryForAll:!1},{id:"3",name:"Resolution finding",description:"The skill to identify root causes, explore multiple solutions, and implement effective resolutions for customer problems.",mandatoryForAll:!1},{id:"4",name:"Process",description:"How well the person is able to perform tasks on Mirror, measuring proficiency in using the Mirror platform effectively.",mandatoryForAll:!0}].map(t=>({...t,usageCount:rW(t.id)}));function sW(){var ve,Oe,Re;const[t,e]=N.useState(N2),[n,r]=N.useState("normal"),[s,i]=N.useState(!1),[a,c]=N.useState(!1),[u,f]=N.useState(!1),[h,m]=N.useState(!1),[x,y]=N.useState(!1),[w,k]=N.useState(null),[S,C]=N.useState("ready"),[M,A]=N.useState(null),[D,j]=N.useState(null),[I,L]=N.useState({name:"",description:""}),[P,K]=N.useState(null),[X,W]=N.useState(""),Y=()=>{L({name:"",description:""}),W(""),i(!0)},be=oe=>{A(oe),L({name:oe.name,description:oe.description}),c(!0)},le=oe=>{j(oe),f(!0)},ye=()=>{if(!I.name.trim()||!I.description.trim()){if(n==="validationError"){W("Name and description are required fields.");return}return}if(n==="addError"){W("Failed to add competency. Please try again.");return}if(n==="duplicateError"&&t.some(Ze=>Ze.name.toLowerCase()===I.name.trim().toLowerCase())){W(`A competency with the name "${I.name.trim()}" already exists.`);return}if(n==="networkError"){W("Network error. Please check your connection and try again.");return}const oe={id:Date.now().toString(),name:I.name.trim(),description:I.description.trim(),mandatoryForAll:!1,usageCount:{scenarios:0,workflows:0,assessments:0}};e([...t,oe]),i(!1),L({name:"",description:""}),W("")},re=oe=>{r(oe),W(""),oe==="empty"?e([]):oe==="normal"&&e(N2)},te=n==="empty"?[]:t,F=oe=>{e(t.map(Ve=>Ve.id===oe?{...Ve,mandatoryForAll:!Ve.mandatoryForAll}:Ve))},H=oe=>{k(oe),C("ready"),y(!0)},q=(oe,Ve)=>Zm(oe).filter(Ze=>Ze.stage===Ve),_=oe=>{const Ve=Zm(oe);return{draft:Ve.filter(Ze=>Ze.stage==="draft").length,ready:Ve.filter(Ze=>Ze.stage==="ready").length,production:Ve.filter(Ze=>Ze.stage==="production").length}},U=()=>{if(!M||!I.name.trim()||!I.description.trim())return;(I.name.trim()!==M.name||I.description.trim()!==M.description)&&M.usageCount&&M.usageCount.workflows>0?(K({competency:M,newData:{name:I.name.trim(),description:I.description.trim()}}),c(!1),m(!0)):ae(M.id,I.name.trim(),I.description.trim())},ae=(oe,Ve,Ze)=>{e(t.map(Ht=>Ht.id===oe?{...Ht,name:Ve,description:Ze}:Ht)),c(!1),m(!1),A(null),K(null),L({name:"",description:""})},ie=()=>{P&&ae(P.competency.id,P.newData.name,P.newData.description)},Me=()=>{if(D){if(te.length<=3){alert("Cannot delete. Minimum 3 competencies are required."),f(!1),j(null);return}e(t.filter(oe=>oe.id!==D.id)),f(!1),j(null)}},he=oe=>{var Ve;return((Ve=oe.usageCount)==null?void 0:Ve.workflows)||0};return n==="empty"?p.jsxs(p.Fragment,{children:[p.jsx(bH,{onAdd:Y}),p.jsx("div",{className:"fixed bottom-[24px] right-[24px] z-50",children:p.jsxs(Jm,{children:[p.jsx(Xm,{asChild:!0,children:p.jsx("button",{className:"bg-[#0975d7] hover:bg-[#0861b8] rounded-full p-[16px] shadow-lg transition-colors flex items-center justify-center",children:p.jsx(nm,{className:"size-[24px] text-white",stroke:2})})}),p.jsxs(Qm,{align:"end",className:"w-[240px] bg-white border border-[#ececf3] rounded-[8px] shadow-[0px_4px_12px_rgba(0,0,0,0.15)] p-[4px]",children:[p.jsx(Pt,{onClick:()=>re("normal"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="normal"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Normal state"})}),p.jsx(Pt,{onClick:()=>re("empty"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="empty"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Empty page"})}),p.jsx(Pt,{onClick:()=>re("addError"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="addError"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Error in adding"})}),p.jsx(Pt,{onClick:()=>re("duplicateError"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="duplicateError"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Duplicate competency"})}),p.jsx(Pt,{onClick:()=>re("networkError"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="networkError"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Network error"})}),p.jsx(Pt,{onClick:()=>re("validationError"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="validationError"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Validation error"})})]})]})})]}):n==="addError"||n==="duplicateError"||n==="networkError"||n==="validationError"?p.jsxs(p.Fragment,{children:[p.jsx(LH,{errorType:n}),p.jsx("div",{className:"fixed bottom-[24px] right-[24px] z-50",children:p.jsxs(Jm,{children:[p.jsx(Xm,{asChild:!0,children:p.jsx("button",{className:"bg-[#0975d7] hover:bg-[#0861b8] rounded-full p-[16px] shadow-lg transition-colors flex items-center justify-center",children:p.jsx(nm,{className:"size-[24px] text-white",stroke:2})})}),p.jsxs(Qm,{align:"end",className:"w-[240px] bg-white border border-[#ececf3] rounded-[8px] shadow-[0px_4px_12px_rgba(0,0,0,0.15)] p-[4px]",children:[p.jsx(Pt,{onClick:()=>re("normal"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="normal"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Normal state"})}),p.jsx(Pt,{onClick:()=>re("empty"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="empty"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Empty page"})}),p.jsx(Pt,{onClick:()=>re("addError"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="addError"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Error in adding"})}),p.jsx(Pt,{onClick:()=>re("duplicateError"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="duplicateError"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Duplicate competency"})}),p.jsx(Pt,{onClick:()=>re("networkError"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="networkError"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Network error"})}),p.jsx(Pt,{onClick:()=>re("validationError"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="validationError"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Validation error"})})]})]})})]}):p.jsxs("div",{className:"flex-1 bg-[#fcfcfd] flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"flex flex-col gap-[16px] items-start p-[24px] flex-1 overflow-auto",children:[p.jsxs("div",{className:"content-stretch flex flex-col gap-[16px] items-start relative shrink-0 w-full",children:[p.jsxs("div",{className:"content-stretch flex gap-[16px] items-center justify-between relative shrink-0 w-full",children:[p.jsx("h1",{className:"font-['Inter:Bold',sans-serif] font-bold leading-[30px] not-italic text-[#3d3c52] text-[22px]",children:"Competencies"}),p.jsxs("button",{onClick:Y,className:"bg-[#0975d7] content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] hover:bg-[#0861b8] transition-colors",children:[p.jsx(kr,{className:"size-[16px] text-white",stroke:2}),p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[14px] text-center text-nowrap text-white",children:"Add competency"})]})]}),p.jsx("div",{className:"bg-[#ececf3] h-px shrink-0 w-full"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-[16px] w-full",children:te.map(oe=>{const Ve=he(oe);return p.jsxs("div",{className:"bg-white border border-[#ececf3] rounded-[8px] flex flex-col overflow-hidden hover:shadow-sm transition-shadow",children:[p.jsxs("div",{className:"px-[16px] pt-[16px] pb-[12px] flex-1",children:[p.jsxs("div",{className:"flex items-start justify-between mb-[8px]",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] not-italic text-[#3d3c52] text-[16px] mb-[4px]",children:oe.name}),Ve>0&&p.jsxs("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#6b697b] text-[14px]",children:["Mapped in"," ",p.jsxs("button",{onClick:()=>H(oe),className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#6b697b] text-[14px] underline decoration-dashed underline-offset-2 hover:text-[#0975d7] transition-colors cursor-pointer",children:[Ve," workflow",Ve!==1?"s":""]})]})]}),p.jsxs("div",{className:"flex gap-[4px] ml-[8px]",children:[p.jsx("button",{onClick:()=>be(oe),className:"content-stretch flex items-center justify-center overflow-clip p-[8px] relative rounded-[4px] hover:bg-[#f5f5f5] transition-colors",children:p.jsx(Fi,{className:"size-[16px] text-[#6b697b]",stroke:2})}),p.jsx("button",{onClick:()=>le(oe),disabled:te.length<=3,className:"content-stretch flex items-center justify-center overflow-clip p-[8px] relative rounded-[4px] hover:bg-[#f5f5f5] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p.jsx(Ng,{className:"size-[16px] text-[#6b697b]",stroke:2})})]})]}),p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#6b697b] text-[14px]",children:oe.description})]}),p.jsxs("div",{className:"mt-auto",children:[p.jsx("div",{className:"bg-[#ececf3] h-px w-full"}),p.jsxs("div",{className:"flex items-center justify-between px-[16px] py-[12px]",children:[p.jsx("label",{className:`font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px] ${oe.name==="Process"?"cursor-default":"cursor-pointer"}`,children:"Mandatory for all"}),p.jsx(gF,{checked:oe.mandatoryForAll||!1,onCheckedChange:()=>F(oe.id),disabled:oe.name==="Process",className:"data-[state=checked]:bg-[#0975d7]"})]})]})]},oe.id)})}),te.length===0&&p.jsx("div",{className:"w-full text-center py-[48px]",children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#6b697b] text-[14px]",children:"No competencies added yet. Add your first competency to get started."})})]}),p.jsx("div",{className:"fixed bottom-[24px] right-[24px] z-50",children:p.jsxs(Jm,{children:[p.jsx(Xm,{asChild:!0,children:p.jsx("button",{className:"bg-[#0975d7] hover:bg-[#0861b8] rounded-full p-[16px] shadow-lg transition-colors flex items-center justify-center",children:p.jsx(nm,{className:"size-[24px] text-white",stroke:2})})}),p.jsxs(Qm,{align:"end",className:"w-[240px] bg-white border border-[#ececf3] rounded-[8px] shadow-[0px_4px_12px_rgba(0,0,0,0.15)] p-[4px]",children:[p.jsx(Pt,{onClick:()=>re("normal"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="normal"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Normal state"})}),p.jsx(Pt,{onClick:()=>re("empty"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="empty"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Empty page"})}),p.jsx(Pt,{onClick:()=>re("addError"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="addError"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Error in adding"})}),p.jsx(Pt,{onClick:()=>re("duplicateError"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="duplicateError"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Duplicate competency"})}),p.jsx(Pt,{onClick:()=>re("networkError"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="networkError"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Network error"})}),p.jsx(Pt,{onClick:()=>re("validationError"),className:`flex items-center gap-[8px] px-[16px] py-[10px] rounded-[4px] cursor-pointer hover:bg-[#f5f5f5] transition-colors ${n==="validationError"?"bg-[#f0f0f0]":""}`,children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Validation error"})})]})]})}),p.jsx(hd,{open:s,onOpenChange:oe=>{i(oe),oe||W("")},children:p.jsxs(md,{children:[p.jsxs(gd,{children:[p.jsx(yd,{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold text-[#3d3c52]",children:"Add competency"}),p.jsx(vd,{className:"font-['Inter:Regular',sans-serif] text-[#6b697b]",children:"Create a new competency that will be used to evaluate learners across the organization."})]}),X&&p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-[8px] p-[12px] flex items-start gap-[8px]",children:[p.jsx(tm,{className:"size-[20px] text-red-600 shrink-0 mt-[2px]",stroke:2}),p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-red-800 text-[14px] flex-1",children:X}),p.jsx("button",{onClick:()=>W(""),className:"shrink-0 p-[4px] hover:bg-red-100 rounded-[4px] transition-colors",children:p.jsx(Tl,{className:"size-[16px] text-red-600",stroke:2})})]}),p.jsxs("div",{className:"flex flex-col gap-[16px] py-[16px]",children:[p.jsxs("div",{className:"flex flex-col gap-[8px]",children:[p.jsx(ea,{htmlFor:"name",className:"font-['Inter:Medium',sans-serif] font-medium text-[#3d3c52] text-[14px]",children:"Name"}),p.jsx(ox,{id:"name",placeholder:"e.g., Empathy",value:I.name,onChange:oe=>L({...I,name:oe.target.value}),className:"font-['Inter:Regular',sans-serif] text-[#3d3c52] text-[14px]"})]}),p.jsxs("div",{className:"flex flex-col gap-[8px]",children:[p.jsx(ea,{htmlFor:"description",className:"font-['Inter:Medium',sans-serif] font-medium text-[#3d3c52] text-[14px]",children:"Description"}),p.jsx(ax,{id:"description",placeholder:"Describe what this competency measures...",value:I.description,onChange:oe=>L({...I,description:oe.target.value}),rows:4,className:"font-['Inter:Regular',sans-serif] text-[#3d3c52] text-[14px]"})]})]}),p.jsxs(xd,{children:[p.jsx("button",{onClick:()=>i(!1),className:"content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] border border-[#d7d6d1] hover:bg-[#f5f5f5] transition-colors",children:p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Cancel"})}),p.jsx("button",{onClick:ye,disabled:!I.name.trim()||!I.description.trim(),className:"bg-[#0975d7] content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] hover:bg-[#0861b8] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[14px] text-center text-nowrap text-white",children:"Add competency"})})]})]})}),p.jsx(hd,{open:a,onOpenChange:c,children:p.jsxs(md,{children:[p.jsxs(gd,{children:[p.jsx(yd,{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold text-[#3d3c52]",children:"Edit competency"}),p.jsx(vd,{className:"font-['Inter:Regular',sans-serif] text-[#6b697b]",children:"Update the competency details. Changes will affect all places where this competency is used."})]}),p.jsxs("div",{className:"flex flex-col gap-[16px] py-[16px]",children:[p.jsxs("div",{className:"flex flex-col gap-[8px]",children:[p.jsx(ea,{htmlFor:"edit-name",className:"font-['Inter:Medium',sans-serif] font-medium text-[#3d3c52] text-[14px]",children:"Name"}),p.jsx(ox,{id:"edit-name",placeholder:"e.g., Empathy",value:I.name,onChange:oe=>L({...I,name:oe.target.value}),className:"font-['Inter:Regular',sans-serif] text-[#3d3c52] text-[14px]"})]}),p.jsxs("div",{className:"flex flex-col gap-[8px]",children:[p.jsx(ea,{htmlFor:"edit-description",className:"font-['Inter:Medium',sans-serif] font-medium text-[#3d3c52] text-[14px]",children:"Description"}),p.jsx(ax,{id:"edit-description",placeholder:"Describe what this competency measures...",value:I.description,onChange:oe=>L({...I,description:oe.target.value}),rows:4,className:"font-['Inter:Regular',sans-serif] text-[#3d3c52] text-[14px]"})]})]}),p.jsxs(xd,{children:[p.jsx("button",{onClick:()=>c(!1),className:"content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] border border-[#d7d6d1] hover:bg-[#f5f5f5] transition-colors",children:p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Cancel"})}),p.jsx("button",{onClick:U,disabled:!I.name.trim()||!I.description.trim(),className:"bg-[#0975d7] content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] hover:bg-[#0861b8] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[14px] text-center text-nowrap text-white",children:"Save changes"})})]})]})}),p.jsx(x2,{open:h,onOpenChange:m,children:p.jsxs(y2,{children:[p.jsxs(v2,{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(tm,{className:"size-5 text-amber-500"}),p.jsx(b2,{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold text-[#3d3c52]",children:"Confirm update"})]}),p.jsx(k2,{className:"pt-2 font-['Inter:Regular',sans-serif] text-[#6b697b] text-[14px]",children:P&&p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"mb-4",children:"This competency is currently being used in multiple places. Updating it will have consequences:"}),p.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-[8px] p-[16px] flex flex-col gap-[8px]",children:((ve=P.competency.usageCount)==null?void 0:ve.workflows)>0&&p.jsxs("p",{className:"font-['Inter:Regular',sans-serif] text-[14px] text-amber-800",children:[" ",P.competency.usageCount.workflows," workflow",P.competency.usageCount.workflows!==1?"s":""]})}),p.jsx("p",{className:"mt-4 font-['Inter:Medium',sans-serif] font-medium text-[#3d3c52]",children:"Are you sure you want to proceed?"})]})})]}),p.jsxs(w2,{children:[p.jsx(C2,{className:"content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] border border-[#d7d6d1] hover:bg-[#f5f5f5] transition-colors font-['Inter:Medium',sans-serif] font-medium text-[#3d3c52] text-[14px]",children:"Cancel"}),p.jsx(S2,{onClick:ie,className:"bg-amber-600 hover:bg-amber-700 content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] font-['Inter:Medium',sans-serif] font-medium text-[14px] text-white",children:"Yes, update"})]})]})}),p.jsx(x2,{open:u,onOpenChange:f,children:p.jsxs(y2,{children:[p.jsxs(v2,{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(tm,{className:"size-5 text-red-500"}),p.jsx(b2,{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold text-[#3d3c52]",children:"Confirm deletion"})]}),p.jsx(k2,{className:"pt-2 font-['Inter:Regular',sans-serif] text-[#6b697b] text-[14px]",children:D&&p.jsxs(p.Fragment,{children:[p.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete ",p.jsxs("strong",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold text-[#3d3c52]",children:['"',D.name,'"']}),"? This action cannot be undone and will have consequences:"]}),(((Oe=D.usageCount)==null?void 0:Oe.workflows)||0)>0?p.jsx("div",{className:"bg-red-50 border border-red-200 rounded-[8px] p-[16px] flex flex-col gap-[8px]",children:((Re=D.usageCount)==null?void 0:Re.workflows)>0&&p.jsxs("p",{className:"font-['Inter:Regular',sans-serif] text-[14px] text-red-800",children:[" ",D.usageCount.workflows," workflow",D.usageCount.workflows!==1?"s":""," will be affected"]})}):p.jsx("p",{className:"font-['Inter:Regular',sans-serif] text-[14px] text-[#6b697b]",children:"This competency is not currently in use."}),p.jsx("p",{className:"mt-4 font-['Inter:Medium',sans-serif] font-medium text-[#3d3c52]",children:"Proceed with deletion?"})]})})]}),p.jsxs(w2,{children:[p.jsx(C2,{className:"content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] border border-[#d7d6d1] hover:bg-[#f5f5f5] transition-colors font-['Inter:Medium',sans-serif] font-medium text-[#3d3c52] text-[14px]",children:"Cancel"}),p.jsx(S2,{onClick:Me,className:"bg-red-600 hover:bg-red-700 content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] font-['Inter:Medium',sans-serif] font-medium text-[14px] text-white",children:"Yes, delete"})]})]})}),p.jsx(hd,{open:x,onOpenChange:oe=>{y(oe),oe||C("ready")},children:p.jsxs(md,{className:"max-w-2xl",children:[p.jsxs(gd,{children:[p.jsxs(yd,{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold text-[#3d3c52]",children:["Workflows mapped to ",w==null?void 0:w.name]}),p.jsx(vd,{className:"font-['Inter:Regular',sans-serif] text-[#6b697b]",children:w&&he(w)>0?`This competency is mapped to ${he(w)} workflow${he(w)!==1?"s":""}.`:"No workflows mapped to this competency."})]}),w&&he(w)>0&&p.jsxs("div",{className:"flex gap-[16px] border-b border-[#ececf3] -mx-6 px-6",children:[p.jsxs("button",{onClick:()=>C("draft"),className:`font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[14px] pb-[12px] relative ${S==="draft"?"font-semibold text-[#0975d7]":"text-[#6b697b] hover:text-[#3d3c52]"}`,children:["Draft",w&&p.jsxs("span",{className:"ml-[8px] font-['Inter:Regular',sans-serif] text-[12px]",children:["(",_(w.id).draft,")"]}),S==="draft"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-[#0975d7]"})]}),p.jsxs("button",{onClick:()=>C("ready"),className:`font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[14px] pb-[12px] relative ${S==="ready"?"font-semibold text-[#0975d7]":"text-[#6b697b] hover:text-[#3d3c52]"}`,children:["Ready",w&&p.jsxs("span",{className:"ml-[8px] font-['Inter:Regular',sans-serif] text-[12px]",children:["(",_(w.id).ready,")"]}),S==="ready"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-[#0975d7]"})]}),p.jsxs("button",{onClick:()=>C("production"),className:`font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[14px] pb-[12px] relative ${S==="production"?"font-semibold text-[#0975d7]":"text-[#6b697b] hover:text-[#3d3c52]"}`,children:["Production",w&&p.jsxs("span",{className:"ml-[8px] font-['Inter:Regular',sans-serif] text-[12px]",children:["(",_(w.id).production,")"]}),S==="production"&&p.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-[#0975d7]"})]})]}),p.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:w&&Zm(w.id).length>0?(()=>{const oe=q(w.id,S);return oe.length>0?p.jsx("div",{className:"flex flex-col",children:oe.map(Ve=>p.jsx("div",{className:"px-[16px] py-[12px] border-b border-[#ececf3] last:border-b-0 hover:bg-[#f9f9f9] transition-colors",children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:Ve.name})},Ve.id))}):p.jsx("div",{className:"px-[16px] py-[24px] text-center",children:p.jsxs("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#6b697b] text-[14px]",children:["No ",S," workflows mapped to this competency."]})})})():p.jsx("div",{className:"px-[16px] py-[24px] text-center",children:p.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#6b697b] text-[14px]",children:"No workflows mapped to this competency."})})}),p.jsx(xd,{children:p.jsx("button",{onClick:()=>y(!1),className:"bg-[#0975d7] content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] hover:bg-[#0861b8] transition-colors",children:p.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[14px] text-center text-nowrap text-white",children:"Close"})})})]})})]})}function iW(){const[t,e]=N.useState("dashboard"),[n,r]=N.useState([]),[s,i]=N.useState(!1),[a,c]=N.useState(null),u=h=>{c(h),setTimeout(()=>{e("scenarioDetail")},2e3)},f=(h,m)=>{r(x=>x.some(y=>y.workflowId===h)?x:[...x,{workflowId:h,workflowName:m,scenarioTitle:"Dealing with angry customer for refund scenario"}]),e("dashboard")};return p.jsxs("div",{className:"h-screen w-screen flex flex-col bg-[#fcfcfd] overflow-hidden",children:[p.jsx("div",{className:"w-full bg-yellow-400 text-[#3d3c52] py-2 px-4 text-center text-sm font-medium shrink-0 z-50",children:"This is a preliminary exploration, not to be considered final."}),p.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[p.jsx(wz,{onNavigateToDashboard:()=>e("dashboard"),onSettingsClick:()=>i(!s),isSettingsActive:s||t==="competencies",isWorkflowsActive:t==="dashboard"||t==="roleplay"||t==="prompt"||t==="scenarioDetail"}),s&&p.jsx(bz,{onClose:()=>i(!1),onCompetenciesClick:()=>{i(!1),e("competencies")}}),p.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:p.jsxs(JR,{mode:"wait",children:[t==="dashboard"&&p.jsx(bI,{onNavigateToRoleplay:()=>e("roleplay"),onNavigateToSimulation:()=>e("simulation"),attachedRoleplays:n},"dashboard"),t==="roleplay"&&p.jsx(kI,{onBack:()=>e("dashboard"),onSwitchToPrompt:()=>e("prompt"),onGenerateScenario:u},"roleplay"),t==="prompt"&&p.jsx(CI,{onBack:()=>e("dashboard"),onSwitchToBuilder:()=>e("roleplay"),onGenerateScenario:u},"prompt"),t==="scenarioDetail"&&p.jsx(xz,{onBack:()=>e("dashboard"),onAttachWorkflow:f,scenarioData:a},"scenarioDetail"),t==="simulation"&&p.jsx("div",{className:"flex-1 bg-[#fcfcfd] flex items-center justify-center p-8",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-[#3d3c52] mb-4",children:"Simulation Builder"}),p.jsx("p",{className:"text-[#6b697b] mb-6",children:"This screen is coming soon..."}),p.jsx("button",{onClick:()=>e("dashboard"),className:"bg-[#0975d7] text-white px-6 py-3 rounded hover:bg-[#0861b8] transition-colors",children:"Back to Dashboard"})]})},"simulation"),t==="competencies"&&p.jsx(sW,{},"competencies")]})})]})]})}v3.createRoot(document.getElementById("root")).render(p.jsx(iW,{}));
