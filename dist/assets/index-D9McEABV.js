(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Nv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kf={exports:{}},jo={},wf={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function YC(){if(ky)return be;ky=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(P){return P===null||typeof P!="object"?null:(P=m&&P[m]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function b(P,$,ge){this.props=P,this.context=$,this.refs=S,this.updater=ge||x}b.prototype.isReactComponent={},b.prototype.setState=function(P,$){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,$,"setState")},b.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function T(){}T.prototype=b.prototype;function N(P,$,ge){this.props=P,this.context=$,this.refs=S,this.updater=ge||x}var D=N.prototype=new T;D.constructor=N,w(D,b.prototype),D.isPureReactComponent=!0;var V=Array.isArray,j=Object.prototype.hasOwnProperty,z={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function F(P,$,ge){var ye,Ce={},Se=null,Ee=null;if($!=null)for(ye in $.ref!==void 0&&(Ee=$.ref),$.key!==void 0&&(Se=""+$.key),$)j.call($,ye)&&!B.hasOwnProperty(ye)&&(Ce[ye]=$[ye]);var ve=arguments.length-2;if(ve===1)Ce.children=ge;else if(1<ve){for(var De=Array(ve),At=0;At<ve;At++)De[At]=arguments[At+2];Ce.children=De}if(P&&P.defaultProps)for(ye in ve=P.defaultProps,ve)Ce[ye]===void 0&&(Ce[ye]=ve[ye]);return{$$typeof:t,type:P,key:Se,ref:Ee,props:Ce,_owner:z.current}}function te(P,$){return{$$typeof:t,type:P.type,key:$,ref:P.ref,props:P.props,_owner:P._owner}}function ue(P){return typeof P=="object"&&P!==null&&P.$$typeof===t}function Ae(P){var $={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ge){return $[ge]})}var Ne=/\/+/g;function Pe(P,$){return typeof P=="object"&&P!==null&&P.key!=null?Ae(""+P.key):$.toString(36)}function Ie(P,$,ge,ye,Ce){var Se=typeof P;(Se==="undefined"||Se==="boolean")&&(P=null);var Ee=!1;if(P===null)Ee=!0;else switch(Se){case"string":case"number":Ee=!0;break;case"object":switch(P.$$typeof){case t:case e:Ee=!0}}if(Ee)return Ee=P,Ce=Ce(Ee),P=ye===""?"."+Pe(Ee,0):ye,V(Ce)?(ge="",P!=null&&(ge=P.replace(Ne,"$&/")+"/"),Ie(Ce,$,ge,"",function(At){return At})):Ce!=null&&(ue(Ce)&&(Ce=te(Ce,ge+(!Ce.key||Ee&&Ee.key===Ce.key?"":(""+Ce.key).replace(Ne,"$&/")+"/")+P)),$.push(Ce)),1;if(Ee=0,ye=ye===""?".":ye+":",V(P))for(var ve=0;ve<P.length;ve++){Se=P[ve];var De=ye+Pe(Se,ve);Ee+=Ie(Se,$,ge,De,Ce)}else if(De=g(P),typeof De=="function")for(P=De.call(P),ve=0;!(Se=P.next()).done;)Se=Se.value,De=ye+Pe(Se,ve++),Ee+=Ie(Se,$,ge,De,Ce);else if(Se==="object")throw $=String(P),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ee}function Oe(P,$,ge){if(P==null)return P;var ye=[],Ce=0;return Ie(P,ye,"","",function(Se){return $.call(ge,Se,Ce++)}),ye}function Ue(P){if(P._status===-1){var $=P._result;$=$(),$.then(function(ge){(P._status===0||P._status===-1)&&(P._status=1,P._result=ge)},function(ge){(P._status===0||P._status===-1)&&(P._status=2,P._result=ge)}),P._status===-1&&(P._status=0,P._result=$)}if(P._status===1)return P._result.default;throw P._result}var he={current:null},J={transition:null},le={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:J,ReactCurrentOwner:z};function X(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:Oe,forEach:function(P,$,ge){Oe(P,function(){$.apply(this,arguments)},ge)},count:function(P){var $=0;return Oe(P,function(){$++}),$},toArray:function(P){return Oe(P,function($){return $})||[]},only:function(P){if(!ue(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},be.Component=b,be.Fragment=n,be.Profiler=s,be.PureComponent=N,be.StrictMode=r,be.Suspense=d,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,be.act=X,be.cloneElement=function(P,$,ge){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var ye=w({},P.props),Ce=P.key,Se=P.ref,Ee=P._owner;if($!=null){if($.ref!==void 0&&(Se=$.ref,Ee=z.current),$.key!==void 0&&(Ce=""+$.key),P.type&&P.type.defaultProps)var ve=P.type.defaultProps;for(De in $)j.call($,De)&&!B.hasOwnProperty(De)&&(ye[De]=$[De]===void 0&&ve!==void 0?ve[De]:$[De])}var De=arguments.length-2;if(De===1)ye.children=ge;else if(1<De){ve=Array(De);for(var At=0;At<De;At++)ve[At]=arguments[At+2];ye.children=ve}return{$$typeof:t,type:P.type,key:Ce,ref:Se,props:ye,_owner:Ee}},be.createContext=function(P){return P={$$typeof:a,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:o,_context:P},P.Consumer=P},be.createElement=F,be.createFactory=function(P){var $=F.bind(null,P);return $.type=P,$},be.createRef=function(){return{current:null}},be.forwardRef=function(P){return{$$typeof:c,render:P}},be.isValidElement=ue,be.lazy=function(P){return{$$typeof:p,_payload:{_status:-1,_result:P},_init:Ue}},be.memo=function(P,$){return{$$typeof:f,type:P,compare:$===void 0?null:$}},be.startTransition=function(P){var $=J.transition;J.transition={};try{P()}finally{J.transition=$}},be.unstable_act=X,be.useCallback=function(P,$){return he.current.useCallback(P,$)},be.useContext=function(P){return he.current.useContext(P)},be.useDebugValue=function(){},be.useDeferredValue=function(P){return he.current.useDeferredValue(P)},be.useEffect=function(P,$){return he.current.useEffect(P,$)},be.useId=function(){return he.current.useId()},be.useImperativeHandle=function(P,$,ge){return he.current.useImperativeHandle(P,$,ge)},be.useInsertionEffect=function(P,$){return he.current.useInsertionEffect(P,$)},be.useLayoutEffect=function(P,$){return he.current.useLayoutEffect(P,$)},be.useMemo=function(P,$){return he.current.useMemo(P,$)},be.useReducer=function(P,$,ge){return he.current.useReducer(P,$,ge)},be.useRef=function(P){return he.current.useRef(P)},be.useState=function(P){return he.current.useState(P)},be.useSyncExternalStore=function(P,$,ge){return he.current.useSyncExternalStore(P,$,ge)},be.useTransition=function(){return he.current.useTransition()},be.version="18.3.1",be}var wy;function kl(){return wy||(wy=1,wf.exports=YC()),wf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function XC(){if(Sy)return jo;Sy=1;var t=kl(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function a(c,d,f){var p,m={},g=null,x=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(x=d.ref);for(p in d)r.call(d,p)&&!o.hasOwnProperty(p)&&(m[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)m[p]===void 0&&(m[p]=d[p]);return{$$typeof:e,type:c,key:g,ref:x,props:m,_owner:s.current}}return jo.Fragment=n,jo.jsx=a,jo.jsxs=a,jo}var by;function QC(){return by||(by=1,kf.exports=XC()),kf.exports}var v=QC(),Va={},Sf={exports:{}},Yt={},bf={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function ZC(){return Cy||(Cy=1,(function(t){function e(J,le){var X=J.length;J.push(le);e:for(;0<X;){var P=X-1>>>1,$=J[P];if(0<s($,le))J[P]=le,J[X]=$,X=P;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],X=J.pop();if(X!==le){J[0]=X;e:for(var P=0,$=J.length,ge=$>>>1;P<ge;){var ye=2*(P+1)-1,Ce=J[ye],Se=ye+1,Ee=J[Se];if(0>s(Ce,X))Se<$&&0>s(Ee,Ce)?(J[P]=Ee,J[Se]=X,P=Se):(J[P]=Ce,J[ye]=X,P=ye);else if(Se<$&&0>s(Ee,X))J[P]=Ee,J[Se]=X,P=Se;else break e}}return le}function s(J,le){var X=J.sortIndex-le.sortIndex;return X!==0?X:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var d=[],f=[],p=1,m=null,g=3,x=!1,w=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(J){for(var le=n(f);le!==null;){if(le.callback===null)r(f);else if(le.startTime<=J)r(f),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(f)}}function V(J){if(S=!1,D(J),!w)if(n(d)!==null)w=!0,Ue(j);else{var le=n(f);le!==null&&he(V,le.startTime-J)}}function j(J,le){w=!1,S&&(S=!1,T(F),F=-1),x=!0;var X=g;try{for(D(le),m=n(d);m!==null&&(!(m.expirationTime>le)||J&&!Ae());){var P=m.callback;if(typeof P=="function"){m.callback=null,g=m.priorityLevel;var $=P(m.expirationTime<=le);le=t.unstable_now(),typeof $=="function"?m.callback=$:m===n(d)&&r(d),D(le)}else r(d);m=n(d)}if(m!==null)var ge=!0;else{var ye=n(f);ye!==null&&he(V,ye.startTime-le),ge=!1}return ge}finally{m=null,g=X,x=!1}}var z=!1,B=null,F=-1,te=5,ue=-1;function Ae(){return!(t.unstable_now()-ue<te)}function Ne(){if(B!==null){var J=t.unstable_now();ue=J;var le=!0;try{le=B(!0,J)}finally{le?Pe():(z=!1,B=null)}}else z=!1}var Pe;if(typeof N=="function")Pe=function(){N(Ne)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,Oe=Ie.port2;Ie.port1.onmessage=Ne,Pe=function(){Oe.postMessage(null)}}else Pe=function(){b(Ne,0)};function Ue(J){B=J,z||(z=!0,Pe())}function he(J,le){F=b(function(){J(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){w||x||(w=!0,Ue(j))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(J){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var X=g;g=le;try{return J()}finally{g=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var X=g;g=J;try{return le()}finally{g=X}},t.unstable_scheduleCallback=function(J,le,X){var P=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?P+X:P):X=P,J){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=X+$,J={id:p++,callback:le,priorityLevel:J,startTime:X,expirationTime:$,sortIndex:-1},X>P?(J.sortIndex=X,e(f,J),n(d)===null&&J===n(f)&&(S?(T(F),F=-1):S=!0,he(V,X-P))):(J.sortIndex=$,e(d,J),w||x||(w=!0,Ue(j))),J},t.unstable_shouldYield=Ae,t.unstable_wrapCallback=function(J){var le=g;return function(){var X=g;g=le;try{return J.apply(this,arguments)}finally{g=X}}}})(Cf)),Cf}var Ty;function eT(){return Ty||(Ty=1,bf.exports=ZC()),bf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function tT(){if(Ey)return Yt;Ey=1;var t=kl(),e=eT();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,l){a(i,l),a(i+"Capture",l)}function a(i,l){for(s[i]=l,i=0;i<l.length;i++)r.add(l[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(i){return d.call(m,i)?!0:d.call(p,i)?!1:f.test(i)?m[i]=!0:(p[i]=!0,!1)}function x(i,l,u,h){if(u!==null&&u.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,l,u,h){if(l===null||typeof l>"u"||x(i,l,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function S(i,l,u,h,y,k,C){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=h,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=i,this.type=l,this.sanitizeURL=k,this.removeEmptyString=C}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];b[l]=new S(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function N(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(T,N);b[l]=new S(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(T,N);b[l]=new S(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(T,N);b[l]=new S(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function D(i,l,u,h){var y=b.hasOwnProperty(l)?b[l]:null;(y!==null?y.type!==0:h||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,u,y,h)&&(u=null),h||y===null?g(l)&&(u===null?i.removeAttribute(l):i.setAttribute(l,""+u)):y.mustUseProperty?i[y.propertyName]=u===null?y.type===3?!1:"":u:(l=y.attributeName,h=y.attributeNamespace,u===null?i.removeAttribute(l):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,h?i.setAttributeNS(h,l,u):i.setAttribute(l,u))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),z=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ue=Symbol.for("react.provider"),Ae=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),Ue=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),J=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=J&&i[J]||i["@@iterator"],typeof i=="function"?i:null)}var X=Object.assign,P;function $(i){if(P===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);P=l&&l[1]||""}return`
`+P+i}var ge=!1;function ye(i,l){if(!i||ge)return"";ge=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(L){var h=L}Reflect.construct(i,[],l)}else{try{l.call()}catch(L){h=L}i.call(l.prototype)}else{try{throw Error()}catch(L){h=L}i()}}catch(L){if(L&&h&&typeof L.stack=="string"){for(var y=L.stack.split(`
`),k=h.stack.split(`
`),C=y.length-1,E=k.length-1;1<=C&&0<=E&&y[C]!==k[E];)E--;for(;1<=C&&0<=E;C--,E--)if(y[C]!==k[E]){if(C!==1||E!==1)do if(C--,E--,0>E||y[C]!==k[E]){var M=`
`+y[C].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=C&&0<=E);break}}}finally{ge=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?$(i):""}function Ce(i){switch(i.tag){case 5:return $(i.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return i=ye(i.type,!1),i;case 11:return i=ye(i.type.render,!1),i;case 1:return i=ye(i.type,!0),i;default:return""}}function Se(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case z:return"Portal";case te:return"Profiler";case F:return"StrictMode";case Pe:return"Suspense";case Ie:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Ae:return(i.displayName||"Context")+".Consumer";case ue:return(i._context.displayName||"Context")+".Provider";case Ne:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Oe:return l=i.displayName||null,l!==null?l:Se(i.type)||"Memo";case Ue:l=i._payload,i=i._init;try{return Se(i(l))}catch{}}return null}function Ee(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(l);case 8:return l===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ve(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function De(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function At(i){var l=De(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),h=""+i[l];if(!i.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,k=u.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return y.call(this)},set:function(C){h=""+C,k.call(this,C)}}),Object.defineProperty(i,l,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Zt(i){i._valueTracker||(i._valueTracker=At(i))}function st(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var u=l.getValue(),h="";return i&&(h=De(i)?i.checked?"true":"false":i.value),i=h,i!==u?(l.setValue(i),!0):!1}function Cn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function qi(i,l){var u=l.checked;return X({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Al(i,l){var u=l.defaultValue==null?"":l.defaultValue,h=l.checked!=null?l.checked:l.defaultChecked;u=ve(l.value!=null?l.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Ys(i,l){l=l.checked,l!=null&&D(i,"checked",l,!1)}function as(i,l){Ys(i,l);var u=ve(l.value),h=l.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Gi(i,l.type,u):l.hasOwnProperty("defaultValue")&&Gi(i,l.type,ve(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Pl(i,l,u){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var h=l.type;if(!(h!=="submit"&&h!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,u||l===i.value||(i.value=l),i.defaultValue=l}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Gi(i,l,u){(l!=="number"||Cn(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var cs=Array.isArray;function gr(i,l,u,h){if(i=i.options,l){l={};for(var y=0;y<u.length;y++)l["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=l.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&h&&(i[u].defaultSelected=!0)}else{for(u=""+ve(u),l=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}l!==null||i[y].disabled||(l=i[y])}l!==null&&(l.selected=!0)}}function Ji(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Dl(i,l){var u=l.value;if(u==null){if(u=l.children,l=l.defaultValue,u!=null){if(l!=null)throw Error(n(92));if(cs(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),u=l}i._wrapperState={initialValue:ve(u)}}function re(i,l){var u=ve(l.value),h=ve(l.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),l.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function I(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function H(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?H(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Te,pt=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,u,h,y){MSApp.execUnsafeLocalFunction(function(){return i(l,u,h,y)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Te=Te||document.createElement("div"),Te.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Te.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function St(i,l){if(l){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=l;return}}i.textContent=l}var Bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tn=["Webkit","ms","Moz","O"];Object.keys(Bn).forEach(function(i){Tn.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Bn[l]=Bn[i]})});function Im(i,l,u){return l==null||typeof l=="boolean"||l===""?"":u||typeof l!="number"||l===0||Bn.hasOwnProperty(i)&&Bn[i]?(""+l).trim():l+"px"}function Lm(i,l){i=i.style;for(var u in l)if(l.hasOwnProperty(u)){var h=u.indexOf("--")===0,y=Im(u,l[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,y):i[u]=y}}var t2=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Du(i,l){if(l){if(t2[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Ru(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=null;function Ou(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Iu=null,Xs=null,Qs=null;function zm(i){if(i=xo(i)){if(typeof Iu!="function")throw Error(n(280));var l=i.stateNode;l&&(l=ea(l),Iu(i.stateNode,i.type,l))}}function Bm(i){Xs?Qs?Qs.push(i):Qs=[i]:Xs=i}function Vm(){if(Xs){var i=Xs,l=Qs;if(Qs=Xs=null,zm(i),l)for(i=0;i<l.length;i++)zm(l[i])}}function _m(i,l){return i(l)}function Fm(){}var Lu=!1;function $m(i,l,u){if(Lu)return i(l,u);Lu=!0;try{return _m(i,l,u)}finally{Lu=!1,(Xs!==null||Qs!==null)&&(Fm(),Vm())}}function Yi(i,l){var u=i.stateNode;if(u===null)return null;var h=ea(u);if(h===null)return null;u=h[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,l,typeof u));return u}var zu=!1;if(c)try{var Xi={};Object.defineProperty(Xi,"passive",{get:function(){zu=!0}}),window.addEventListener("test",Xi,Xi),window.removeEventListener("test",Xi,Xi)}catch{zu=!1}function n2(i,l,u,h,y,k,C,E,M){var L=Array.prototype.slice.call(arguments,3);try{l.apply(u,L)}catch(W){this.onError(W)}}var Qi=!1,Rl=null,jl=!1,Bu=null,r2={onError:function(i){Qi=!0,Rl=i}};function s2(i,l,u,h,y,k,C,E,M){Qi=!1,Rl=null,n2.apply(r2,arguments)}function i2(i,l,u,h,y,k,C,E,M){if(s2.apply(this,arguments),Qi){if(Qi){var L=Rl;Qi=!1,Rl=null}else throw Error(n(198));jl||(jl=!0,Bu=L)}}function us(i){var l=i,u=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(u=l.return),i=l.return;while(i)}return l.tag===3?u:null}function Hm(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Um(i){if(us(i)!==i)throw Error(n(188))}function o2(i){var l=i.alternate;if(!l){if(l=us(i),l===null)throw Error(n(188));return l!==i?null:i}for(var u=i,h=l;;){var y=u.return;if(y===null)break;var k=y.alternate;if(k===null){if(h=y.return,h!==null){u=h;continue}break}if(y.child===k.child){for(k=y.child;k;){if(k===u)return Um(y),i;if(k===h)return Um(y),l;k=k.sibling}throw Error(n(188))}if(u.return!==h.return)u=y,h=k;else{for(var C=!1,E=y.child;E;){if(E===u){C=!0,u=y,h=k;break}if(E===h){C=!0,h=y,u=k;break}E=E.sibling}if(!C){for(E=k.child;E;){if(E===u){C=!0,u=k,h=y;break}if(E===h){C=!0,h=k,u=y;break}E=E.sibling}if(!C)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:l}function Wm(i){return i=o2(i),i!==null?Km(i):null}function Km(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Km(i);if(l!==null)return l;i=i.sibling}return null}var qm=e.unstable_scheduleCallback,Gm=e.unstable_cancelCallback,l2=e.unstable_shouldYield,a2=e.unstable_requestPaint,nt=e.unstable_now,c2=e.unstable_getCurrentPriorityLevel,Vu=e.unstable_ImmediatePriority,Jm=e.unstable_UserBlockingPriority,Ol=e.unstable_NormalPriority,u2=e.unstable_LowPriority,Ym=e.unstable_IdlePriority,Il=null,Vn=null;function d2(i){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Il,i,void 0,(i.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:p2,f2=Math.log,h2=Math.LN2;function p2(i){return i>>>=0,i===0?32:31-(f2(i)/h2|0)|0}var Ll=64,zl=4194304;function Zi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Bl(i,l){var u=i.pendingLanes;if(u===0)return 0;var h=0,y=i.suspendedLanes,k=i.pingedLanes,C=u&268435455;if(C!==0){var E=C&~y;E!==0?h=Zi(E):(k&=C,k!==0&&(h=Zi(k)))}else C=u&~y,C!==0?h=Zi(C):k!==0&&(h=Zi(k));if(h===0)return 0;if(l!==0&&l!==h&&(l&y)===0&&(y=h&-h,k=l&-l,y>=k||y===16&&(k&4194240)!==0))return l;if((h&4)!==0&&(h|=u&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=h;0<l;)u=31-En(l),y=1<<u,h|=i[u],l&=~y;return h}function m2(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g2(i,l){for(var u=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,k=i.pendingLanes;0<k;){var C=31-En(k),E=1<<C,M=y[C];M===-1?((E&u)===0||(E&h)!==0)&&(y[C]=m2(E,l)):M<=l&&(i.expiredLanes|=E),k&=~E}}function _u(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Xm(){var i=Ll;return Ll<<=1,(Ll&4194240)===0&&(Ll=64),i}function Fu(i){for(var l=[],u=0;31>u;u++)l.push(i);return l}function eo(i,l,u){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-En(l),i[l]=u}function y2(i,l){var u=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var y=31-En(u),k=1<<y;l[y]=0,h[y]=-1,i[y]=-1,u&=~k}}function $u(i,l){var u=i.entangledLanes|=l;for(i=i.entanglements;u;){var h=31-En(u),y=1<<h;y&l|i[h]&l&&(i[h]|=l),u&=~y}}var Le=0;function Qm(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Zm,Hu,eg,tg,ng,Uu=!1,Vl=[],yr=null,xr=null,vr=null,to=new Map,no=new Map,kr=[],x2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rg(i,l){switch(i){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":to.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(l.pointerId)}}function ro(i,l,u,h,y,k){return i===null||i.nativeEvent!==k?(i={blockedOn:l,domEventName:u,eventSystemFlags:h,nativeEvent:k,targetContainers:[y]},l!==null&&(l=xo(l),l!==null&&Hu(l)),i):(i.eventSystemFlags|=h,l=i.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),i)}function v2(i,l,u,h,y){switch(l){case"focusin":return yr=ro(yr,i,l,u,h,y),!0;case"dragenter":return xr=ro(xr,i,l,u,h,y),!0;case"mouseover":return vr=ro(vr,i,l,u,h,y),!0;case"pointerover":var k=y.pointerId;return to.set(k,ro(to.get(k)||null,i,l,u,h,y)),!0;case"gotpointercapture":return k=y.pointerId,no.set(k,ro(no.get(k)||null,i,l,u,h,y)),!0}return!1}function sg(i){var l=ds(i.target);if(l!==null){var u=us(l);if(u!==null){if(l=u.tag,l===13){if(l=Hm(u),l!==null){i.blockedOn=l,ng(i.priority,function(){eg(u)});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _l(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var u=Ku(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);ju=h,u.target.dispatchEvent(h),ju=null}else return l=xo(u),l!==null&&Hu(l),i.blockedOn=u,!1;l.shift()}return!0}function ig(i,l,u){_l(i)&&u.delete(l)}function k2(){Uu=!1,yr!==null&&_l(yr)&&(yr=null),xr!==null&&_l(xr)&&(xr=null),vr!==null&&_l(vr)&&(vr=null),to.forEach(ig),no.forEach(ig)}function so(i,l){i.blockedOn===l&&(i.blockedOn=null,Uu||(Uu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,k2)))}function io(i){function l(y){return so(y,i)}if(0<Vl.length){so(Vl[0],i);for(var u=1;u<Vl.length;u++){var h=Vl[u];h.blockedOn===i&&(h.blockedOn=null)}}for(yr!==null&&so(yr,i),xr!==null&&so(xr,i),vr!==null&&so(vr,i),to.forEach(l),no.forEach(l),u=0;u<kr.length;u++)h=kr[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<kr.length&&(u=kr[0],u.blockedOn===null);)sg(u),u.blockedOn===null&&kr.shift()}var Zs=V.ReactCurrentBatchConfig,Fl=!0;function w2(i,l,u,h){var y=Le,k=Zs.transition;Zs.transition=null;try{Le=1,Wu(i,l,u,h)}finally{Le=y,Zs.transition=k}}function S2(i,l,u,h){var y=Le,k=Zs.transition;Zs.transition=null;try{Le=4,Wu(i,l,u,h)}finally{Le=y,Zs.transition=k}}function Wu(i,l,u,h){if(Fl){var y=Ku(i,l,u,h);if(y===null)cd(i,l,h,$l,u),rg(i,h);else if(v2(y,i,l,u,h))h.stopPropagation();else if(rg(i,h),l&4&&-1<x2.indexOf(i)){for(;y!==null;){var k=xo(y);if(k!==null&&Zm(k),k=Ku(i,l,u,h),k===null&&cd(i,l,h,$l,u),k===y)break;y=k}y!==null&&h.stopPropagation()}else cd(i,l,h,null,u)}}var $l=null;function Ku(i,l,u,h){if($l=null,i=Ou(h),i=ds(i),i!==null)if(l=us(i),l===null)i=null;else if(u=l.tag,u===13){if(i=Hm(l),i!==null)return i;i=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return $l=i,null}function og(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(c2()){case Vu:return 1;case Jm:return 4;case Ol:case u2:return 16;case Ym:return 536870912;default:return 16}default:return 16}}var wr=null,qu=null,Hl=null;function lg(){if(Hl)return Hl;var i,l=qu,u=l.length,h,y="value"in wr?wr.value:wr.textContent,k=y.length;for(i=0;i<u&&l[i]===y[i];i++);var C=u-i;for(h=1;h<=C&&l[u-h]===y[k-h];h++);return Hl=y.slice(i,1<h?1-h:void 0)}function Ul(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Wl(){return!0}function ag(){return!1}function en(i){function l(u,h,y,k,C){this._reactName=u,this._targetInst=y,this.type=h,this.nativeEvent=k,this.target=C,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(u=i[E],this[E]=u?u(k):k[E]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Wl:ag,this.isPropagationStopped=ag,this}return X(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Wl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Wl)},persist:function(){},isPersistent:Wl}),l}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gu=en(ei),oo=X({},ei,{view:0,detail:0}),b2=en(oo),Ju,Yu,lo,Kl=X({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==lo&&(lo&&i.type==="mousemove"?(Ju=i.screenX-lo.screenX,Yu=i.screenY-lo.screenY):Yu=Ju=0,lo=i),Ju)},movementY:function(i){return"movementY"in i?i.movementY:Yu}}),cg=en(Kl),C2=X({},Kl,{dataTransfer:0}),T2=en(C2),E2=X({},oo,{relatedTarget:0}),Xu=en(E2),N2=X({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),M2=en(N2),A2=X({},ei,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),P2=en(A2),D2=X({},ei,{data:0}),ug=en(D2),R2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I2(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=O2[i])?!!l[i]:!1}function Qu(){return I2}var L2=X({},oo,{key:function(i){if(i.key){var l=R2[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Ul(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?j2[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qu,charCode:function(i){return i.type==="keypress"?Ul(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ul(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),z2=en(L2),B2=X({},Kl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dg=en(B2),V2=X({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qu}),_2=en(V2),F2=X({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),$2=en(F2),H2=X({},Kl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),U2=en(H2),W2=[9,13,27,32],Zu=c&&"CompositionEvent"in window,ao=null;c&&"documentMode"in document&&(ao=document.documentMode);var K2=c&&"TextEvent"in window&&!ao,fg=c&&(!Zu||ao&&8<ao&&11>=ao),hg=" ",pg=!1;function mg(i,l){switch(i){case"keyup":return W2.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ti=!1;function q2(i,l){switch(i){case"compositionend":return gg(l);case"keypress":return l.which!==32?null:(pg=!0,hg);case"textInput":return i=l.data,i===hg&&pg?null:i;default:return null}}function G2(i,l){if(ti)return i==="compositionend"||!Zu&&mg(i,l)?(i=lg(),Hl=qu=wr=null,ti=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return fg&&l.locale!=="ko"?null:l.data;default:return null}}var J2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!J2[i.type]:l==="textarea"}function xg(i,l,u,h){Bm(h),l=Xl(l,"onChange"),0<l.length&&(u=new Gu("onChange","change",null,u,h),i.push({event:u,listeners:l}))}var co=null,uo=null;function Y2(i){Lg(i,0)}function ql(i){var l=oi(i);if(st(l))return i}function X2(i,l){if(i==="change")return l}var vg=!1;if(c){var ed;if(c){var td="oninput"in document;if(!td){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),td=typeof kg.oninput=="function"}ed=td}else ed=!1;vg=ed&&(!document.documentMode||9<document.documentMode)}function wg(){co&&(co.detachEvent("onpropertychange",Sg),uo=co=null)}function Sg(i){if(i.propertyName==="value"&&ql(uo)){var l=[];xg(l,uo,i,Ou(i)),$m(Y2,l)}}function Q2(i,l,u){i==="focusin"?(wg(),co=l,uo=u,co.attachEvent("onpropertychange",Sg)):i==="focusout"&&wg()}function Z2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ql(uo)}function eC(i,l){if(i==="click")return ql(l)}function tC(i,l){if(i==="input"||i==="change")return ql(l)}function nC(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Nn=typeof Object.is=="function"?Object.is:nC;function fo(i,l){if(Nn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var u=Object.keys(i),h=Object.keys(l);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var y=u[h];if(!d.call(l,y)||!Nn(i[y],l[y]))return!1}return!0}function bg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Cg(i,l){var u=bg(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=l&&h>=l)return{node:u,offset:l-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=bg(u)}}function Tg(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Tg(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Eg(){for(var i=window,l=Cn();l instanceof i.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)i=l.contentWindow;else break;l=Cn(i.document)}return l}function nd(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function rC(i){var l=Eg(),u=i.focusedElem,h=i.selectionRange;if(l!==u&&u&&u.ownerDocument&&Tg(u.ownerDocument.documentElement,u)){if(h!==null&&nd(u)){if(l=h.start,i=h.end,i===void 0&&(i=l),"selectionStart"in u)u.selectionStart=l,u.selectionEnd=Math.min(i,u.value.length);else if(i=(l=u.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var y=u.textContent.length,k=Math.min(h.start,y);h=h.end===void 0?k:Math.min(h.end,y),!i.extend&&k>h&&(y=h,h=k,k=y),y=Cg(u,k);var C=Cg(u,h);y&&C&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==C.node||i.focusOffset!==C.offset)&&(l=l.createRange(),l.setStart(y.node,y.offset),i.removeAllRanges(),k>h?(i.addRange(l),i.extend(C.node,C.offset)):(l.setEnd(C.node,C.offset),i.addRange(l)))}}for(l=[],i=u;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<l.length;u++)i=l[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var sC=c&&"documentMode"in document&&11>=document.documentMode,ni=null,rd=null,ho=null,sd=!1;function Ng(i,l,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;sd||ni==null||ni!==Cn(h)||(h=ni,"selectionStart"in h&&nd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ho&&fo(ho,h)||(ho=h,h=Xl(rd,"onSelect"),0<h.length&&(l=new Gu("onSelect","select",null,l,u),i.push({event:l,listeners:h}),l.target=ni)))}function Gl(i,l){var u={};return u[i.toLowerCase()]=l.toLowerCase(),u["Webkit"+i]="webkit"+l,u["Moz"+i]="moz"+l,u}var ri={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},id={},Mg={};c&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function Jl(i){if(id[i])return id[i];if(!ri[i])return i;var l=ri[i],u;for(u in l)if(l.hasOwnProperty(u)&&u in Mg)return id[i]=l[u];return i}var Ag=Jl("animationend"),Pg=Jl("animationiteration"),Dg=Jl("animationstart"),Rg=Jl("transitionend"),jg=new Map,Og="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(i,l){jg.set(i,l),o(l,[i])}for(var od=0;od<Og.length;od++){var ld=Og[od],iC=ld.toLowerCase(),oC=ld[0].toUpperCase()+ld.slice(1);Sr(iC,"on"+oC)}Sr(Ag,"onAnimationEnd"),Sr(Pg,"onAnimationIteration"),Sr(Dg,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(Rg,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lC=new Set("cancel close invalid load scroll toggle".split(" ").concat(po));function Ig(i,l,u){var h=i.type||"unknown-event";i.currentTarget=u,i2(h,l,void 0,i),i.currentTarget=null}function Lg(i,l){l=(l&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],y=h.event;h=h.listeners;e:{var k=void 0;if(l)for(var C=h.length-1;0<=C;C--){var E=h[C],M=E.instance,L=E.currentTarget;if(E=E.listener,M!==k&&y.isPropagationStopped())break e;Ig(y,E,L),k=M}else for(C=0;C<h.length;C++){if(E=h[C],M=E.instance,L=E.currentTarget,E=E.listener,M!==k&&y.isPropagationStopped())break e;Ig(y,E,L),k=M}}}if(jl)throw i=Bu,jl=!1,Bu=null,i}function _e(i,l){var u=l[md];u===void 0&&(u=l[md]=new Set);var h=i+"__bubble";u.has(h)||(zg(l,i,2,!1),u.add(h))}function ad(i,l,u){var h=0;l&&(h|=4),zg(u,i,h,l)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function mo(i){if(!i[Yl]){i[Yl]=!0,r.forEach(function(u){u!=="selectionchange"&&(lC.has(u)||ad(u,!1,i),ad(u,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Yl]||(l[Yl]=!0,ad("selectionchange",!1,l))}}function zg(i,l,u,h){switch(og(l)){case 1:var y=w2;break;case 4:y=S2;break;default:y=Wu}u=y.bind(null,l,u,i),y=void 0,!zu||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(l,u,{capture:!0,passive:y}):i.addEventListener(l,u,!0):y!==void 0?i.addEventListener(l,u,{passive:y}):i.addEventListener(l,u,!1)}function cd(i,l,u,h,y){var k=h;if((l&1)===0&&(l&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var E=h.stateNode.containerInfo;if(E===y||E.nodeType===8&&E.parentNode===y)break;if(C===4)for(C=h.return;C!==null;){var M=C.tag;if((M===3||M===4)&&(M=C.stateNode.containerInfo,M===y||M.nodeType===8&&M.parentNode===y))return;C=C.return}for(;E!==null;){if(C=ds(E),C===null)return;if(M=C.tag,M===5||M===6){h=k=C;continue e}E=E.parentNode}}h=h.return}$m(function(){var L=k,W=Ou(u),q=[];e:{var U=jg.get(i);if(U!==void 0){var Q=Gu,se=i;switch(i){case"keypress":if(Ul(u)===0)break e;case"keydown":case"keyup":Q=z2;break;case"focusin":se="focus",Q=Xu;break;case"focusout":se="blur",Q=Xu;break;case"beforeblur":case"afterblur":Q=Xu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=cg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=T2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_2;break;case Ag:case Pg:case Dg:Q=M2;break;case Rg:Q=$2;break;case"scroll":Q=b2;break;case"wheel":Q=U2;break;case"copy":case"cut":case"paste":Q=P2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=dg}var ie=(l&4)!==0,rt=!ie&&i==="scroll",R=ie?U!==null?U+"Capture":null:U;ie=[];for(var A=L,O;A!==null;){O=A;var Y=O.stateNode;if(O.tag===5&&Y!==null&&(O=Y,R!==null&&(Y=Yi(A,R),Y!=null&&ie.push(go(A,Y,O)))),rt)break;A=A.return}0<ie.length&&(U=new Q(U,se,null,u,W),q.push({event:U,listeners:ie}))}}if((l&7)===0){e:{if(U=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",U&&u!==ju&&(se=u.relatedTarget||u.fromElement)&&(ds(se)||se[Xn]))break e;if((Q||U)&&(U=W.window===W?W:(U=W.ownerDocument)?U.defaultView||U.parentWindow:window,Q?(se=u.relatedTarget||u.toElement,Q=L,se=se?ds(se):null,se!==null&&(rt=us(se),se!==rt||se.tag!==5&&se.tag!==6)&&(se=null)):(Q=null,se=L),Q!==se)){if(ie=cg,Y="onMouseLeave",R="onMouseEnter",A="mouse",(i==="pointerout"||i==="pointerover")&&(ie=dg,Y="onPointerLeave",R="onPointerEnter",A="pointer"),rt=Q==null?U:oi(Q),O=se==null?U:oi(se),U=new ie(Y,A+"leave",Q,u,W),U.target=rt,U.relatedTarget=O,Y=null,ds(W)===L&&(ie=new ie(R,A+"enter",se,u,W),ie.target=O,ie.relatedTarget=rt,Y=ie),rt=Y,Q&&se)t:{for(ie=Q,R=se,A=0,O=ie;O;O=si(O))A++;for(O=0,Y=R;Y;Y=si(Y))O++;for(;0<A-O;)ie=si(ie),A--;for(;0<O-A;)R=si(R),O--;for(;A--;){if(ie===R||R!==null&&ie===R.alternate)break t;ie=si(ie),R=si(R)}ie=null}else ie=null;Q!==null&&Bg(q,U,Q,ie,!1),se!==null&&rt!==null&&Bg(q,rt,se,ie,!0)}}e:{if(U=L?oi(L):window,Q=U.nodeName&&U.nodeName.toLowerCase(),Q==="select"||Q==="input"&&U.type==="file")var oe=X2;else if(yg(U))if(vg)oe=tC;else{oe=Z2;var de=Q2}else(Q=U.nodeName)&&Q.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(oe=eC);if(oe&&(oe=oe(i,L))){xg(q,oe,u,W);break e}de&&de(i,U,L),i==="focusout"&&(de=U._wrapperState)&&de.controlled&&U.type==="number"&&Gi(U,"number",U.value)}switch(de=L?oi(L):window,i){case"focusin":(yg(de)||de.contentEditable==="true")&&(ni=de,rd=L,ho=null);break;case"focusout":ho=rd=ni=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Ng(q,u,W);break;case"selectionchange":if(sC)break;case"keydown":case"keyup":Ng(q,u,W)}var fe;if(Zu)e:{switch(i){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else ti?mg(i,u)&&(pe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(pe="onCompositionStart");pe&&(fg&&u.locale!=="ko"&&(ti||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&ti&&(fe=lg()):(wr=W,qu="value"in wr?wr.value:wr.textContent,ti=!0)),de=Xl(L,pe),0<de.length&&(pe=new ug(pe,i,null,u,W),q.push({event:pe,listeners:de}),fe?pe.data=fe:(fe=gg(u),fe!==null&&(pe.data=fe)))),(fe=K2?q2(i,u):G2(i,u))&&(L=Xl(L,"onBeforeInput"),0<L.length&&(W=new ug("onBeforeInput","beforeinput",null,u,W),q.push({event:W,listeners:L}),W.data=fe))}Lg(q,l)})}function go(i,l,u){return{instance:i,listener:l,currentTarget:u}}function Xl(i,l){for(var u=l+"Capture",h=[];i!==null;){var y=i,k=y.stateNode;y.tag===5&&k!==null&&(y=k,k=Yi(i,u),k!=null&&h.unshift(go(i,k,y)),k=Yi(i,l),k!=null&&h.push(go(i,k,y))),i=i.return}return h}function si(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Bg(i,l,u,h,y){for(var k=l._reactName,C=[];u!==null&&u!==h;){var E=u,M=E.alternate,L=E.stateNode;if(M!==null&&M===h)break;E.tag===5&&L!==null&&(E=L,y?(M=Yi(u,k),M!=null&&C.unshift(go(u,M,E))):y||(M=Yi(u,k),M!=null&&C.push(go(u,M,E)))),u=u.return}C.length!==0&&i.push({event:l,listeners:C})}var aC=/\r\n?/g,cC=/\u0000|\uFFFD/g;function Vg(i){return(typeof i=="string"?i:""+i).replace(aC,`
`).replace(cC,"")}function Ql(i,l,u){if(l=Vg(l),Vg(i)!==l&&u)throw Error(n(425))}function Zl(){}var ud=null,dd=null;function fd(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var hd=typeof setTimeout=="function"?setTimeout:void 0,uC=typeof clearTimeout=="function"?clearTimeout:void 0,_g=typeof Promise=="function"?Promise:void 0,dC=typeof queueMicrotask=="function"?queueMicrotask:typeof _g<"u"?function(i){return _g.resolve(null).then(i).catch(fC)}:hd;function fC(i){setTimeout(function(){throw i})}function pd(i,l){var u=l,h=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(h===0){i.removeChild(y),io(l);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=y}while(u);io(l)}function br(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Fg(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return i;l--}else u==="/$"&&l++}i=i.previousSibling}return null}var ii=Math.random().toString(36).slice(2),_n="__reactFiber$"+ii,yo="__reactProps$"+ii,Xn="__reactContainer$"+ii,md="__reactEvents$"+ii,hC="__reactListeners$"+ii,pC="__reactHandles$"+ii;function ds(i){var l=i[_n];if(l)return l;for(var u=i.parentNode;u;){if(l=u[Xn]||u[_n]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(i=Fg(i);i!==null;){if(u=i[_n])return u;i=Fg(i)}return l}i=u,u=i.parentNode}return null}function xo(i){return i=i[_n]||i[Xn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function oi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function ea(i){return i[yo]||null}var gd=[],li=-1;function Cr(i){return{current:i}}function Fe(i){0>li||(i.current=gd[li],gd[li]=null,li--)}function Ve(i,l){li++,gd[li]=i.current,i.current=l}var Tr={},Pt=Cr(Tr),Wt=Cr(!1),fs=Tr;function ai(i,l){var u=i.type.contextTypes;if(!u)return Tr;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===l)return h.__reactInternalMemoizedMaskedChildContext;var y={},k;for(k in u)y[k]=l[k];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=y),y}function Kt(i){return i=i.childContextTypes,i!=null}function ta(){Fe(Wt),Fe(Pt)}function $g(i,l,u){if(Pt.current!==Tr)throw Error(n(168));Ve(Pt,l),Ve(Wt,u)}function Hg(i,l,u){var h=i.stateNode;if(l=l.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var y in h)if(!(y in l))throw Error(n(108,Ee(i)||"Unknown",y));return X({},u,h)}function na(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Tr,fs=Pt.current,Ve(Pt,i),Ve(Wt,Wt.current),!0}function Ug(i,l,u){var h=i.stateNode;if(!h)throw Error(n(169));u?(i=Hg(i,l,fs),h.__reactInternalMemoizedMergedChildContext=i,Fe(Wt),Fe(Pt),Ve(Pt,i)):Fe(Wt),Ve(Wt,u)}var Qn=null,ra=!1,yd=!1;function Wg(i){Qn===null?Qn=[i]:Qn.push(i)}function mC(i){ra=!0,Wg(i)}function Er(){if(!yd&&Qn!==null){yd=!0;var i=0,l=Le;try{var u=Qn;for(Le=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}Qn=null,ra=!1}catch(y){throw Qn!==null&&(Qn=Qn.slice(i+1)),qm(Vu,Er),y}finally{Le=l,yd=!1}}return null}var ci=[],ui=0,sa=null,ia=0,cn=[],un=0,hs=null,Zn=1,er="";function ps(i,l){ci[ui++]=ia,ci[ui++]=sa,sa=i,ia=l}function Kg(i,l,u){cn[un++]=Zn,cn[un++]=er,cn[un++]=hs,hs=i;var h=Zn;i=er;var y=32-En(h)-1;h&=~(1<<y),u+=1;var k=32-En(l)+y;if(30<k){var C=y-y%5;k=(h&(1<<C)-1).toString(32),h>>=C,y-=C,Zn=1<<32-En(l)+y|u<<y|h,er=k+i}else Zn=1<<k|u<<y|h,er=i}function xd(i){i.return!==null&&(ps(i,1),Kg(i,1,0))}function vd(i){for(;i===sa;)sa=ci[--ui],ci[ui]=null,ia=ci[--ui],ci[ui]=null;for(;i===hs;)hs=cn[--un],cn[un]=null,er=cn[--un],cn[un]=null,Zn=cn[--un],cn[un]=null}var tn=null,nn=null,We=!1,Mn=null;function qg(i,l){var u=pn(5,null,null,0);u.elementType="DELETED",u.stateNode=l,u.return=i,l=i.deletions,l===null?(i.deletions=[u],i.flags|=16):l.push(u)}function Gg(i,l){switch(i.tag){case 5:var u=i.type;return l=l.nodeType!==1||u.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,tn=i,nn=br(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,tn=i,nn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(u=hs!==null?{id:Zn,overflow:er}:null,i.memoizedState={dehydrated:l,treeContext:u,retryLane:1073741824},u=pn(18,null,null,0),u.stateNode=l,u.return=i,i.child=u,tn=i,nn=null,!0):!1;default:return!1}}function kd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function wd(i){if(We){var l=nn;if(l){var u=l;if(!Gg(i,l)){if(kd(i))throw Error(n(418));l=br(u.nextSibling);var h=tn;l&&Gg(i,l)?qg(h,u):(i.flags=i.flags&-4097|2,We=!1,tn=i)}}else{if(kd(i))throw Error(n(418));i.flags=i.flags&-4097|2,We=!1,tn=i}}}function Jg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;tn=i}function oa(i){if(i!==tn)return!1;if(!We)return Jg(i),We=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!fd(i.type,i.memoizedProps)),l&&(l=nn)){if(kd(i))throw Yg(),Error(n(418));for(;l;)qg(i,l),l=br(l.nextSibling)}if(Jg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(l===0){nn=br(i.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++}i=i.nextSibling}nn=null}}else nn=tn?br(i.stateNode.nextSibling):null;return!0}function Yg(){for(var i=nn;i;)i=br(i.nextSibling)}function di(){nn=tn=null,We=!1}function Sd(i){Mn===null?Mn=[i]:Mn.push(i)}var gC=V.ReactCurrentBatchConfig;function vo(i,l,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var h=u.stateNode}if(!h)throw Error(n(147,i));var y=h,k=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(C){var E=y.refs;C===null?delete E[k]:E[k]=C},l._stringRef=k,l)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function la(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function Xg(i){var l=i._init;return l(i._payload)}function Qg(i){function l(R,A){if(i){var O=R.deletions;O===null?(R.deletions=[A],R.flags|=16):O.push(A)}}function u(R,A){if(!i)return null;for(;A!==null;)l(R,A),A=A.sibling;return null}function h(R,A){for(R=new Map;A!==null;)A.key!==null?R.set(A.key,A):R.set(A.index,A),A=A.sibling;return R}function y(R,A){return R=Or(R,A),R.index=0,R.sibling=null,R}function k(R,A,O){return R.index=O,i?(O=R.alternate,O!==null?(O=O.index,O<A?(R.flags|=2,A):O):(R.flags|=2,A)):(R.flags|=1048576,A)}function C(R){return i&&R.alternate===null&&(R.flags|=2),R}function E(R,A,O,Y){return A===null||A.tag!==6?(A=pf(O,R.mode,Y),A.return=R,A):(A=y(A,O),A.return=R,A)}function M(R,A,O,Y){var oe=O.type;return oe===B?W(R,A,O.props.children,Y,O.key):A!==null&&(A.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Ue&&Xg(oe)===A.type)?(Y=y(A,O.props),Y.ref=vo(R,A,O),Y.return=R,Y):(Y=Da(O.type,O.key,O.props,null,R.mode,Y),Y.ref=vo(R,A,O),Y.return=R,Y)}function L(R,A,O,Y){return A===null||A.tag!==4||A.stateNode.containerInfo!==O.containerInfo||A.stateNode.implementation!==O.implementation?(A=mf(O,R.mode,Y),A.return=R,A):(A=y(A,O.children||[]),A.return=R,A)}function W(R,A,O,Y,oe){return A===null||A.tag!==7?(A=Ss(O,R.mode,Y,oe),A.return=R,A):(A=y(A,O),A.return=R,A)}function q(R,A,O){if(typeof A=="string"&&A!==""||typeof A=="number")return A=pf(""+A,R.mode,O),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case j:return O=Da(A.type,A.key,A.props,null,R.mode,O),O.ref=vo(R,null,A),O.return=R,O;case z:return A=mf(A,R.mode,O),A.return=R,A;case Ue:var Y=A._init;return q(R,Y(A._payload),O)}if(cs(A)||le(A))return A=Ss(A,R.mode,O,null),A.return=R,A;la(R,A)}return null}function U(R,A,O,Y){var oe=A!==null?A.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return oe!==null?null:E(R,A,""+O,Y);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return O.key===oe?M(R,A,O,Y):null;case z:return O.key===oe?L(R,A,O,Y):null;case Ue:return oe=O._init,U(R,A,oe(O._payload),Y)}if(cs(O)||le(O))return oe!==null?null:W(R,A,O,Y,null);la(R,O)}return null}function Q(R,A,O,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return R=R.get(O)||null,E(A,R,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case j:return R=R.get(Y.key===null?O:Y.key)||null,M(A,R,Y,oe);case z:return R=R.get(Y.key===null?O:Y.key)||null,L(A,R,Y,oe);case Ue:var de=Y._init;return Q(R,A,O,de(Y._payload),oe)}if(cs(Y)||le(Y))return R=R.get(O)||null,W(A,R,Y,oe,null);la(A,Y)}return null}function se(R,A,O,Y){for(var oe=null,de=null,fe=A,pe=A=0,yt=null;fe!==null&&pe<O.length;pe++){fe.index>pe?(yt=fe,fe=null):yt=fe.sibling;var je=U(R,fe,O[pe],Y);if(je===null){fe===null&&(fe=yt);break}i&&fe&&je.alternate===null&&l(R,fe),A=k(je,A,pe),de===null?oe=je:de.sibling=je,de=je,fe=yt}if(pe===O.length)return u(R,fe),We&&ps(R,pe),oe;if(fe===null){for(;pe<O.length;pe++)fe=q(R,O[pe],Y),fe!==null&&(A=k(fe,A,pe),de===null?oe=fe:de.sibling=fe,de=fe);return We&&ps(R,pe),oe}for(fe=h(R,fe);pe<O.length;pe++)yt=Q(fe,R,pe,O[pe],Y),yt!==null&&(i&&yt.alternate!==null&&fe.delete(yt.key===null?pe:yt.key),A=k(yt,A,pe),de===null?oe=yt:de.sibling=yt,de=yt);return i&&fe.forEach(function(Ir){return l(R,Ir)}),We&&ps(R,pe),oe}function ie(R,A,O,Y){var oe=le(O);if(typeof oe!="function")throw Error(n(150));if(O=oe.call(O),O==null)throw Error(n(151));for(var de=oe=null,fe=A,pe=A=0,yt=null,je=O.next();fe!==null&&!je.done;pe++,je=O.next()){fe.index>pe?(yt=fe,fe=null):yt=fe.sibling;var Ir=U(R,fe,je.value,Y);if(Ir===null){fe===null&&(fe=yt);break}i&&fe&&Ir.alternate===null&&l(R,fe),A=k(Ir,A,pe),de===null?oe=Ir:de.sibling=Ir,de=Ir,fe=yt}if(je.done)return u(R,fe),We&&ps(R,pe),oe;if(fe===null){for(;!je.done;pe++,je=O.next())je=q(R,je.value,Y),je!==null&&(A=k(je,A,pe),de===null?oe=je:de.sibling=je,de=je);return We&&ps(R,pe),oe}for(fe=h(R,fe);!je.done;pe++,je=O.next())je=Q(fe,R,pe,je.value,Y),je!==null&&(i&&je.alternate!==null&&fe.delete(je.key===null?pe:je.key),A=k(je,A,pe),de===null?oe=je:de.sibling=je,de=je);return i&&fe.forEach(function(JC){return l(R,JC)}),We&&ps(R,pe),oe}function rt(R,A,O,Y){if(typeof O=="object"&&O!==null&&O.type===B&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case j:e:{for(var oe=O.key,de=A;de!==null;){if(de.key===oe){if(oe=O.type,oe===B){if(de.tag===7){u(R,de.sibling),A=y(de,O.props.children),A.return=R,R=A;break e}}else if(de.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Ue&&Xg(oe)===de.type){u(R,de.sibling),A=y(de,O.props),A.ref=vo(R,de,O),A.return=R,R=A;break e}u(R,de);break}else l(R,de);de=de.sibling}O.type===B?(A=Ss(O.props.children,R.mode,Y,O.key),A.return=R,R=A):(Y=Da(O.type,O.key,O.props,null,R.mode,Y),Y.ref=vo(R,A,O),Y.return=R,R=Y)}return C(R);case z:e:{for(de=O.key;A!==null;){if(A.key===de)if(A.tag===4&&A.stateNode.containerInfo===O.containerInfo&&A.stateNode.implementation===O.implementation){u(R,A.sibling),A=y(A,O.children||[]),A.return=R,R=A;break e}else{u(R,A);break}else l(R,A);A=A.sibling}A=mf(O,R.mode,Y),A.return=R,R=A}return C(R);case Ue:return de=O._init,rt(R,A,de(O._payload),Y)}if(cs(O))return se(R,A,O,Y);if(le(O))return ie(R,A,O,Y);la(R,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,A!==null&&A.tag===6?(u(R,A.sibling),A=y(A,O),A.return=R,R=A):(u(R,A),A=pf(O,R.mode,Y),A.return=R,R=A),C(R)):u(R,A)}return rt}var fi=Qg(!0),Zg=Qg(!1),aa=Cr(null),ca=null,hi=null,bd=null;function Cd(){bd=hi=ca=null}function Td(i){var l=aa.current;Fe(aa),i._currentValue=l}function Ed(i,l,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,h!==null&&(h.childLanes|=l)):h!==null&&(h.childLanes&l)!==l&&(h.childLanes|=l),i===u)break;i=i.return}}function pi(i,l){ca=i,bd=hi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(qt=!0),i.firstContext=null)}function dn(i){var l=i._currentValue;if(bd!==i)if(i={context:i,memoizedValue:l,next:null},hi===null){if(ca===null)throw Error(n(308));hi=i,ca.dependencies={lanes:0,firstContext:i}}else hi=hi.next=i;return l}var ms=null;function Nd(i){ms===null?ms=[i]:ms.push(i)}function e0(i,l,u,h){var y=l.interleaved;return y===null?(u.next=u,Nd(l)):(u.next=y.next,y.next=u),l.interleaved=u,tr(i,h)}function tr(i,l){i.lanes|=l;var u=i.alternate;for(u!==null&&(u.lanes|=l),u=i,i=i.return;i!==null;)i.childLanes|=l,u=i.alternate,u!==null&&(u.childLanes|=l),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Nr=!1;function Md(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t0(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function nr(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Mr(i,l,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Re&2)!==0){var y=h.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),h.pending=l,tr(i,u)}return y=h.interleaved,y===null?(l.next=l,Nd(h)):(l.next=y.next,y.next=l),h.interleaved=l,tr(i,u)}function ua(i,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194240)!==0)){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,$u(i,u)}}function n0(i,l){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var y=null,k=null;if(u=u.firstBaseUpdate,u!==null){do{var C={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};k===null?y=k=C:k=k.next=C,u=u.next}while(u!==null);k===null?y=k=l:k=k.next=l}else y=k=l;u={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:k,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=l:i.next=l,u.lastBaseUpdate=l}function da(i,l,u,h){var y=i.updateQueue;Nr=!1;var k=y.firstBaseUpdate,C=y.lastBaseUpdate,E=y.shared.pending;if(E!==null){y.shared.pending=null;var M=E,L=M.next;M.next=null,C===null?k=L:C.next=L,C=M;var W=i.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==C&&(E===null?W.firstBaseUpdate=L:E.next=L,W.lastBaseUpdate=M))}if(k!==null){var q=y.baseState;C=0,W=L=M=null,E=k;do{var U=E.lane,Q=E.eventTime;if((h&U)===U){W!==null&&(W=W.next={eventTime:Q,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var se=i,ie=E;switch(U=l,Q=u,ie.tag){case 1:if(se=ie.payload,typeof se=="function"){q=se.call(Q,q,U);break e}q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ie.payload,U=typeof se=="function"?se.call(Q,q,U):se,U==null)break e;q=X({},q,U);break e;case 2:Nr=!0}}E.callback!==null&&E.lane!==0&&(i.flags|=64,U=y.effects,U===null?y.effects=[E]:U.push(E))}else Q={eventTime:Q,lane:U,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?(L=W=Q,M=q):W=W.next=Q,C|=U;if(E=E.next,E===null){if(E=y.shared.pending,E===null)break;U=E,E=U.next,U.next=null,y.lastBaseUpdate=U,y.shared.pending=null}}while(!0);if(W===null&&(M=q),y.baseState=M,y.firstBaseUpdate=L,y.lastBaseUpdate=W,l=y.shared.interleaved,l!==null){y=l;do C|=y.lane,y=y.next;while(y!==l)}else k===null&&(y.shared.lanes=0);xs|=C,i.lanes=C,i.memoizedState=q}}function r0(i,l,u){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var h=i[l],y=h.callback;if(y!==null){if(h.callback=null,h=u,typeof y!="function")throw Error(n(191,y));y.call(h)}}}var ko={},Fn=Cr(ko),wo=Cr(ko),So=Cr(ko);function gs(i){if(i===ko)throw Error(n(174));return i}function Ad(i,l){switch(Ve(So,l),Ve(wo,i),Ve(Fn,ko),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Me(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Me(l,i)}Fe(Fn),Ve(Fn,l)}function mi(){Fe(Fn),Fe(wo),Fe(So)}function s0(i){gs(So.current);var l=gs(Fn.current),u=Me(l,i.type);l!==u&&(Ve(wo,i),Ve(Fn,u))}function Pd(i){wo.current===i&&(Fe(Fn),Fe(wo))}var Ke=Cr(0);function fa(i){for(var l=i;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Dd=[];function Rd(){for(var i=0;i<Dd.length;i++)Dd[i]._workInProgressVersionPrimary=null;Dd.length=0}var ha=V.ReactCurrentDispatcher,jd=V.ReactCurrentBatchConfig,ys=0,qe=null,ut=null,mt=null,pa=!1,bo=!1,Co=0,yC=0;function Dt(){throw Error(n(321))}function Od(i,l){if(l===null)return!1;for(var u=0;u<l.length&&u<i.length;u++)if(!Nn(i[u],l[u]))return!1;return!0}function Id(i,l,u,h,y,k){if(ys=k,qe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ha.current=i===null||i.memoizedState===null?wC:SC,i=u(h,y),bo){k=0;do{if(bo=!1,Co=0,25<=k)throw Error(n(301));k+=1,mt=ut=null,l.updateQueue=null,ha.current=bC,i=u(h,y)}while(bo)}if(ha.current=ya,l=ut!==null&&ut.next!==null,ys=0,mt=ut=qe=null,pa=!1,l)throw Error(n(300));return i}function Ld(){var i=Co!==0;return Co=0,i}function $n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?qe.memoizedState=mt=i:mt=mt.next=i,mt}function fn(){if(ut===null){var i=qe.alternate;i=i!==null?i.memoizedState:null}else i=ut.next;var l=mt===null?qe.memoizedState:mt.next;if(l!==null)mt=l,ut=i;else{if(i===null)throw Error(n(310));ut=i,i={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},mt===null?qe.memoizedState=mt=i:mt=mt.next=i}return mt}function To(i,l){return typeof l=="function"?l(i):l}function zd(i){var l=fn(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=ut,y=h.baseQueue,k=u.pending;if(k!==null){if(y!==null){var C=y.next;y.next=k.next,k.next=C}h.baseQueue=y=k,u.pending=null}if(y!==null){k=y.next,h=h.baseState;var E=C=null,M=null,L=k;do{var W=L.lane;if((ys&W)===W)M!==null&&(M=M.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),h=L.hasEagerState?L.eagerState:i(h,L.action);else{var q={lane:W,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};M===null?(E=M=q,C=h):M=M.next=q,qe.lanes|=W,xs|=W}L=L.next}while(L!==null&&L!==k);M===null?C=h:M.next=E,Nn(h,l.memoizedState)||(qt=!0),l.memoizedState=h,l.baseState=C,l.baseQueue=M,u.lastRenderedState=h}if(i=u.interleaved,i!==null){y=i;do k=y.lane,qe.lanes|=k,xs|=k,y=y.next;while(y!==i)}else y===null&&(u.lanes=0);return[l.memoizedState,u.dispatch]}function Bd(i){var l=fn(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var h=u.dispatch,y=u.pending,k=l.memoizedState;if(y!==null){u.pending=null;var C=y=y.next;do k=i(k,C.action),C=C.next;while(C!==y);Nn(k,l.memoizedState)||(qt=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),u.lastRenderedState=k}return[k,h]}function i0(){}function o0(i,l){var u=qe,h=fn(),y=l(),k=!Nn(h.memoizedState,y);if(k&&(h.memoizedState=y,qt=!0),h=h.queue,Vd(c0.bind(null,u,h,i),[i]),h.getSnapshot!==l||k||mt!==null&&mt.memoizedState.tag&1){if(u.flags|=2048,Eo(9,a0.bind(null,u,h,y,l),void 0,null),gt===null)throw Error(n(349));(ys&30)!==0||l0(u,l,y)}return y}function l0(i,l,u){i.flags|=16384,i={getSnapshot:l,value:u},l=qe.updateQueue,l===null?(l={lastEffect:null,stores:null},qe.updateQueue=l,l.stores=[i]):(u=l.stores,u===null?l.stores=[i]:u.push(i))}function a0(i,l,u,h){l.value=u,l.getSnapshot=h,u0(l)&&d0(i)}function c0(i,l,u){return u(function(){u0(l)&&d0(i)})}function u0(i){var l=i.getSnapshot;i=i.value;try{var u=l();return!Nn(i,u)}catch{return!0}}function d0(i){var l=tr(i,1);l!==null&&Rn(l,i,1,-1)}function f0(i){var l=$n();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:i},l.queue=i,i=i.dispatch=kC.bind(null,qe,i),[l.memoizedState,i]}function Eo(i,l,u,h){return i={tag:i,create:l,destroy:u,deps:h,next:null},l=qe.updateQueue,l===null?(l={lastEffect:null,stores:null},qe.updateQueue=l,l.lastEffect=i.next=i):(u=l.lastEffect,u===null?l.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,l.lastEffect=i)),i}function h0(){return fn().memoizedState}function ma(i,l,u,h){var y=$n();qe.flags|=i,y.memoizedState=Eo(1|l,u,void 0,h===void 0?null:h)}function ga(i,l,u,h){var y=fn();h=h===void 0?null:h;var k=void 0;if(ut!==null){var C=ut.memoizedState;if(k=C.destroy,h!==null&&Od(h,C.deps)){y.memoizedState=Eo(l,u,k,h);return}}qe.flags|=i,y.memoizedState=Eo(1|l,u,k,h)}function p0(i,l){return ma(8390656,8,i,l)}function Vd(i,l){return ga(2048,8,i,l)}function m0(i,l){return ga(4,2,i,l)}function g0(i,l){return ga(4,4,i,l)}function y0(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function x0(i,l,u){return u=u!=null?u.concat([i]):null,ga(4,4,y0.bind(null,l,i),u)}function _d(){}function v0(i,l){var u=fn();l=l===void 0?null:l;var h=u.memoizedState;return h!==null&&l!==null&&Od(l,h[1])?h[0]:(u.memoizedState=[i,l],i)}function k0(i,l){var u=fn();l=l===void 0?null:l;var h=u.memoizedState;return h!==null&&l!==null&&Od(l,h[1])?h[0]:(i=i(),u.memoizedState=[i,l],i)}function w0(i,l,u){return(ys&21)===0?(i.baseState&&(i.baseState=!1,qt=!0),i.memoizedState=u):(Nn(u,l)||(u=Xm(),qe.lanes|=u,xs|=u,i.baseState=!0),l)}function xC(i,l){var u=Le;Le=u!==0&&4>u?u:4,i(!0);var h=jd.transition;jd.transition={};try{i(!1),l()}finally{Le=u,jd.transition=h}}function S0(){return fn().memoizedState}function vC(i,l,u){var h=Rr(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},b0(i))C0(l,u);else if(u=e0(i,l,u,h),u!==null){var y=Vt();Rn(u,i,h,y),T0(u,l,h)}}function kC(i,l,u){var h=Rr(i),y={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(b0(i))C0(l,y);else{var k=i.alternate;if(i.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var C=l.lastRenderedState,E=k(C,u);if(y.hasEagerState=!0,y.eagerState=E,Nn(E,C)){var M=l.interleaved;M===null?(y.next=y,Nd(l)):(y.next=M.next,M.next=y),l.interleaved=y;return}}catch{}finally{}u=e0(i,l,y,h),u!==null&&(y=Vt(),Rn(u,i,h,y),T0(u,l,h))}}function b0(i){var l=i.alternate;return i===qe||l!==null&&l===qe}function C0(i,l){bo=pa=!0;var u=i.pending;u===null?l.next=l:(l.next=u.next,u.next=l),i.pending=l}function T0(i,l,u){if((u&4194240)!==0){var h=l.lanes;h&=i.pendingLanes,u|=h,l.lanes=u,$u(i,u)}}var ya={readContext:dn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},wC={readContext:dn,useCallback:function(i,l){return $n().memoizedState=[i,l===void 0?null:l],i},useContext:dn,useEffect:p0,useImperativeHandle:function(i,l,u){return u=u!=null?u.concat([i]):null,ma(4194308,4,y0.bind(null,l,i),u)},useLayoutEffect:function(i,l){return ma(4194308,4,i,l)},useInsertionEffect:function(i,l){return ma(4,2,i,l)},useMemo:function(i,l){var u=$n();return l=l===void 0?null:l,i=i(),u.memoizedState=[i,l],i},useReducer:function(i,l,u){var h=$n();return l=u!==void 0?u(l):l,h.memoizedState=h.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},h.queue=i,i=i.dispatch=vC.bind(null,qe,i),[h.memoizedState,i]},useRef:function(i){var l=$n();return i={current:i},l.memoizedState=i},useState:f0,useDebugValue:_d,useDeferredValue:function(i){return $n().memoizedState=i},useTransition:function(){var i=f0(!1),l=i[0];return i=xC.bind(null,i[1]),$n().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,u){var h=qe,y=$n();if(We){if(u===void 0)throw Error(n(407));u=u()}else{if(u=l(),gt===null)throw Error(n(349));(ys&30)!==0||l0(h,l,u)}y.memoizedState=u;var k={value:u,getSnapshot:l};return y.queue=k,p0(c0.bind(null,h,k,i),[i]),h.flags|=2048,Eo(9,a0.bind(null,h,k,u,l),void 0,null),u},useId:function(){var i=$n(),l=gt.identifierPrefix;if(We){var u=er,h=Zn;u=(h&~(1<<32-En(h)-1)).toString(32)+u,l=":"+l+"R"+u,u=Co++,0<u&&(l+="H"+u.toString(32)),l+=":"}else u=yC++,l=":"+l+"r"+u.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},SC={readContext:dn,useCallback:v0,useContext:dn,useEffect:Vd,useImperativeHandle:x0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:k0,useReducer:zd,useRef:h0,useState:function(){return zd(To)},useDebugValue:_d,useDeferredValue:function(i){var l=fn();return w0(l,ut.memoizedState,i)},useTransition:function(){var i=zd(To)[0],l=fn().memoizedState;return[i,l]},useMutableSource:i0,useSyncExternalStore:o0,useId:S0,unstable_isNewReconciler:!1},bC={readContext:dn,useCallback:v0,useContext:dn,useEffect:Vd,useImperativeHandle:x0,useInsertionEffect:m0,useLayoutEffect:g0,useMemo:k0,useReducer:Bd,useRef:h0,useState:function(){return Bd(To)},useDebugValue:_d,useDeferredValue:function(i){var l=fn();return ut===null?l.memoizedState=i:w0(l,ut.memoizedState,i)},useTransition:function(){var i=Bd(To)[0],l=fn().memoizedState;return[i,l]},useMutableSource:i0,useSyncExternalStore:o0,useId:S0,unstable_isNewReconciler:!1};function An(i,l){if(i&&i.defaultProps){l=X({},l),i=i.defaultProps;for(var u in i)l[u]===void 0&&(l[u]=i[u]);return l}return l}function Fd(i,l,u,h){l=i.memoizedState,u=u(h,l),u=u==null?l:X({},l,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var xa={isMounted:function(i){return(i=i._reactInternals)?us(i)===i:!1},enqueueSetState:function(i,l,u){i=i._reactInternals;var h=Vt(),y=Rr(i),k=nr(h,y);k.payload=l,u!=null&&(k.callback=u),l=Mr(i,k,y),l!==null&&(Rn(l,i,y,h),ua(l,i,y))},enqueueReplaceState:function(i,l,u){i=i._reactInternals;var h=Vt(),y=Rr(i),k=nr(h,y);k.tag=1,k.payload=l,u!=null&&(k.callback=u),l=Mr(i,k,y),l!==null&&(Rn(l,i,y,h),ua(l,i,y))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var u=Vt(),h=Rr(i),y=nr(u,h);y.tag=2,l!=null&&(y.callback=l),l=Mr(i,y,h),l!==null&&(Rn(l,i,h,u),ua(l,i,h))}};function E0(i,l,u,h,y,k,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,k,C):l.prototype&&l.prototype.isPureReactComponent?!fo(u,h)||!fo(y,k):!0}function N0(i,l,u){var h=!1,y=Tr,k=l.contextType;return typeof k=="object"&&k!==null?k=dn(k):(y=Kt(l)?fs:Pt.current,h=l.contextTypes,k=(h=h!=null)?ai(i,y):Tr),l=new l(u,k),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=xa,i.stateNode=l,l._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=k),l}function M0(i,l,u,h){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,h),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,h),l.state!==i&&xa.enqueueReplaceState(l,l.state,null)}function $d(i,l,u,h){var y=i.stateNode;y.props=u,y.state=i.memoizedState,y.refs={},Md(i);var k=l.contextType;typeof k=="object"&&k!==null?y.context=dn(k):(k=Kt(l)?fs:Pt.current,y.context=ai(i,k)),y.state=i.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(Fd(i,l,k,u),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&xa.enqueueReplaceState(y,y.state,null),da(i,u,y,h),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function gi(i,l){try{var u="",h=l;do u+=Ce(h),h=h.return;while(h);var y=u}catch(k){y=`
Error generating stack: `+k.message+`
`+k.stack}return{value:i,source:l,stack:y,digest:null}}function Hd(i,l,u){return{value:i,source:null,stack:u??null,digest:l??null}}function Ud(i,l){try{console.error(l.value)}catch(u){setTimeout(function(){throw u})}}var CC=typeof WeakMap=="function"?WeakMap:Map;function A0(i,l,u){u=nr(-1,u),u.tag=3,u.payload={element:null};var h=l.value;return u.callback=function(){Ta||(Ta=!0,of=h),Ud(i,l)},u}function P0(i,l,u){u=nr(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var y=l.value;u.payload=function(){return h(y)},u.callback=function(){Ud(i,l)}}var k=i.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(u.callback=function(){Ud(i,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})}),u}function D0(i,l,u){var h=i.pingCache;if(h===null){h=i.pingCache=new CC;var y=new Set;h.set(l,y)}else y=h.get(l),y===void 0&&(y=new Set,h.set(l,y));y.has(u)||(y.add(u),i=BC.bind(null,i,l,u),l.then(i,i))}function R0(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function j0(i,l,u,h,y){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(l=nr(-1,1),l.tag=2,Mr(u,l,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=y,i)}var TC=V.ReactCurrentOwner,qt=!1;function Bt(i,l,u,h){l.child=i===null?Zg(l,null,u,h):fi(l,i.child,u,h)}function O0(i,l,u,h,y){u=u.render;var k=l.ref;return pi(l,y),h=Id(i,l,u,h,k,y),u=Ld(),i!==null&&!qt?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~y,rr(i,l,y)):(We&&u&&xd(l),l.flags|=1,Bt(i,l,h,y),l.child)}function I0(i,l,u,h,y){if(i===null){var k=u.type;return typeof k=="function"&&!hf(k)&&k.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(l.tag=15,l.type=k,L0(i,l,k,h,y)):(i=Da(u.type,null,h,l,l.mode,y),i.ref=l.ref,i.return=l,l.child=i)}if(k=i.child,(i.lanes&y)===0){var C=k.memoizedProps;if(u=u.compare,u=u!==null?u:fo,u(C,h)&&i.ref===l.ref)return rr(i,l,y)}return l.flags|=1,i=Or(k,h),i.ref=l.ref,i.return=l,l.child=i}function L0(i,l,u,h,y){if(i!==null){var k=i.memoizedProps;if(fo(k,h)&&i.ref===l.ref)if(qt=!1,l.pendingProps=h=k,(i.lanes&y)!==0)(i.flags&131072)!==0&&(qt=!0);else return l.lanes=i.lanes,rr(i,l,y)}return Wd(i,l,u,h,y)}function z0(i,l,u){var h=l.pendingProps,y=h.children,k=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(xi,rn),rn|=u;else{if((u&1073741824)===0)return i=k!==null?k.baseLanes|u:u,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Ve(xi,rn),rn|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=k!==null?k.baseLanes:u,Ve(xi,rn),rn|=h}else k!==null?(h=k.baseLanes|u,l.memoizedState=null):h=u,Ve(xi,rn),rn|=h;return Bt(i,l,y,u),l.child}function B0(i,l){var u=l.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(l.flags|=512,l.flags|=2097152)}function Wd(i,l,u,h,y){var k=Kt(u)?fs:Pt.current;return k=ai(l,k),pi(l,y),u=Id(i,l,u,h,k,y),h=Ld(),i!==null&&!qt?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~y,rr(i,l,y)):(We&&h&&xd(l),l.flags|=1,Bt(i,l,u,y),l.child)}function V0(i,l,u,h,y){if(Kt(u)){var k=!0;na(l)}else k=!1;if(pi(l,y),l.stateNode===null)ka(i,l),N0(l,u,h),$d(l,u,h,y),h=!0;else if(i===null){var C=l.stateNode,E=l.memoizedProps;C.props=E;var M=C.context,L=u.contextType;typeof L=="object"&&L!==null?L=dn(L):(L=Kt(u)?fs:Pt.current,L=ai(l,L));var W=u.getDerivedStateFromProps,q=typeof W=="function"||typeof C.getSnapshotBeforeUpdate=="function";q||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(E!==h||M!==L)&&M0(l,C,h,L),Nr=!1;var U=l.memoizedState;C.state=U,da(l,h,C,y),M=l.memoizedState,E!==h||U!==M||Wt.current||Nr?(typeof W=="function"&&(Fd(l,u,W,h),M=l.memoizedState),(E=Nr||E0(l,u,E,h,U,M,L))?(q||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=h,l.memoizedState=M),C.props=h,C.state=M,C.context=L,h=E):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),h=!1)}else{C=l.stateNode,t0(i,l),E=l.memoizedProps,L=l.type===l.elementType?E:An(l.type,E),C.props=L,q=l.pendingProps,U=C.context,M=u.contextType,typeof M=="object"&&M!==null?M=dn(M):(M=Kt(u)?fs:Pt.current,M=ai(l,M));var Q=u.getDerivedStateFromProps;(W=typeof Q=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(E!==q||U!==M)&&M0(l,C,h,M),Nr=!1,U=l.memoizedState,C.state=U,da(l,h,C,y);var se=l.memoizedState;E!==q||U!==se||Wt.current||Nr?(typeof Q=="function"&&(Fd(l,u,Q,h),se=l.memoizedState),(L=Nr||E0(l,u,L,h,U,se,M)||!1)?(W||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(h,se,M),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(h,se,M)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||E===i.memoizedProps&&U===i.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&U===i.memoizedState||(l.flags|=1024),l.memoizedProps=h,l.memoizedState=se),C.props=h,C.state=se,C.context=M,h=L):(typeof C.componentDidUpdate!="function"||E===i.memoizedProps&&U===i.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&U===i.memoizedState||(l.flags|=1024),h=!1)}return Kd(i,l,u,h,k,y)}function Kd(i,l,u,h,y,k){B0(i,l);var C=(l.flags&128)!==0;if(!h&&!C)return y&&Ug(l,u,!1),rr(i,l,k);h=l.stateNode,TC.current=l;var E=C&&typeof u.getDerivedStateFromError!="function"?null:h.render();return l.flags|=1,i!==null&&C?(l.child=fi(l,i.child,null,k),l.child=fi(l,null,E,k)):Bt(i,l,E,k),l.memoizedState=h.state,y&&Ug(l,u,!0),l.child}function _0(i){var l=i.stateNode;l.pendingContext?$g(i,l.pendingContext,l.pendingContext!==l.context):l.context&&$g(i,l.context,!1),Ad(i,l.containerInfo)}function F0(i,l,u,h,y){return di(),Sd(y),l.flags|=256,Bt(i,l,u,h),l.child}var qd={dehydrated:null,treeContext:null,retryLane:0};function Gd(i){return{baseLanes:i,cachePool:null,transitions:null}}function $0(i,l,u){var h=l.pendingProps,y=Ke.current,k=!1,C=(l.flags&128)!==0,E;if((E=C)||(E=i!==null&&i.memoizedState===null?!1:(y&2)!==0),E?(k=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),Ve(Ke,y&1),i===null)return wd(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(C=h.children,i=h.fallback,k?(h=l.mode,k=l.child,C={mode:"hidden",children:C},(h&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=C):k=Ra(C,h,0,null),i=Ss(i,h,u,null),k.return=l,i.return=l,k.sibling=i,l.child=k,l.child.memoizedState=Gd(u),l.memoizedState=qd,i):Jd(l,C));if(y=i.memoizedState,y!==null&&(E=y.dehydrated,E!==null))return EC(i,l,C,h,E,y,u);if(k){k=h.fallback,C=l.mode,y=i.child,E=y.sibling;var M={mode:"hidden",children:h.children};return(C&1)===0&&l.child!==y?(h=l.child,h.childLanes=0,h.pendingProps=M,l.deletions=null):(h=Or(y,M),h.subtreeFlags=y.subtreeFlags&14680064),E!==null?k=Or(E,k):(k=Ss(k,C,u,null),k.flags|=2),k.return=l,h.return=l,h.sibling=k,l.child=h,h=k,k=l.child,C=i.child.memoizedState,C=C===null?Gd(u):{baseLanes:C.baseLanes|u,cachePool:null,transitions:C.transitions},k.memoizedState=C,k.childLanes=i.childLanes&~u,l.memoizedState=qd,h}return k=i.child,i=k.sibling,h=Or(k,{mode:"visible",children:h.children}),(l.mode&1)===0&&(h.lanes=u),h.return=l,h.sibling=null,i!==null&&(u=l.deletions,u===null?(l.deletions=[i],l.flags|=16):u.push(i)),l.child=h,l.memoizedState=null,h}function Jd(i,l){return l=Ra({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function va(i,l,u,h){return h!==null&&Sd(h),fi(l,i.child,null,u),i=Jd(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function EC(i,l,u,h,y,k,C){if(u)return l.flags&256?(l.flags&=-257,h=Hd(Error(n(422))),va(i,l,C,h)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(k=h.fallback,y=l.mode,h=Ra({mode:"visible",children:h.children},y,0,null),k=Ss(k,y,C,null),k.flags|=2,h.return=l,k.return=l,h.sibling=k,l.child=h,(l.mode&1)!==0&&fi(l,i.child,null,C),l.child.memoizedState=Gd(C),l.memoizedState=qd,k);if((l.mode&1)===0)return va(i,l,C,null);if(y.data==="$!"){if(h=y.nextSibling&&y.nextSibling.dataset,h)var E=h.dgst;return h=E,k=Error(n(419)),h=Hd(k,h,void 0),va(i,l,C,h)}if(E=(C&i.childLanes)!==0,qt||E){if(h=gt,h!==null){switch(C&-C){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(h.suspendedLanes|C))!==0?0:y,y!==0&&y!==k.retryLane&&(k.retryLane=y,tr(i,y),Rn(h,i,y,-1))}return ff(),h=Hd(Error(n(421))),va(i,l,C,h)}return y.data==="$?"?(l.flags|=128,l.child=i.child,l=VC.bind(null,i),y._reactRetry=l,null):(i=k.treeContext,nn=br(y.nextSibling),tn=l,We=!0,Mn=null,i!==null&&(cn[un++]=Zn,cn[un++]=er,cn[un++]=hs,Zn=i.id,er=i.overflow,hs=l),l=Jd(l,h.children),l.flags|=4096,l)}function H0(i,l,u){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l),Ed(i.return,l,u)}function Yd(i,l,u,h,y){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:y}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=h,k.tail=u,k.tailMode=y)}function U0(i,l,u){var h=l.pendingProps,y=h.revealOrder,k=h.tail;if(Bt(i,l,h.children,u),h=Ke.current,(h&2)!==0)h=h&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&H0(i,u,l);else if(i.tag===19)H0(i,u,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ve(Ke,h),(l.mode&1)===0)l.memoizedState=null;else switch(y){case"forwards":for(u=l.child,y=null;u!==null;)i=u.alternate,i!==null&&fa(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=l.child,l.child=null):(y=u.sibling,u.sibling=null),Yd(l,!1,y,u,k);break;case"backwards":for(u=null,y=l.child,l.child=null;y!==null;){if(i=y.alternate,i!==null&&fa(i)===null){l.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}Yd(l,!0,u,null,k);break;case"together":Yd(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ka(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function rr(i,l,u){if(i!==null&&(l.dependencies=i.dependencies),xs|=l.lanes,(u&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,u=Or(i,i.pendingProps),l.child=u,u.return=l;i.sibling!==null;)i=i.sibling,u=u.sibling=Or(i,i.pendingProps),u.return=l;u.sibling=null}return l.child}function NC(i,l,u){switch(l.tag){case 3:_0(l),di();break;case 5:s0(l);break;case 1:Kt(l.type)&&na(l);break;case 4:Ad(l,l.stateNode.containerInfo);break;case 10:var h=l.type._context,y=l.memoizedProps.value;Ve(aa,h._currentValue),h._currentValue=y;break;case 13:if(h=l.memoizedState,h!==null)return h.dehydrated!==null?(Ve(Ke,Ke.current&1),l.flags|=128,null):(u&l.child.childLanes)!==0?$0(i,l,u):(Ve(Ke,Ke.current&1),i=rr(i,l,u),i!==null?i.sibling:null);Ve(Ke,Ke.current&1);break;case 19:if(h=(u&l.childLanes)!==0,(i.flags&128)!==0){if(h)return U0(i,l,u);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ve(Ke,Ke.current),h)break;return null;case 22:case 23:return l.lanes=0,z0(i,l,u)}return rr(i,l,u)}var W0,Xd,K0,q0;W0=function(i,l){for(var u=l.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Xd=function(){},K0=function(i,l,u,h){var y=i.memoizedProps;if(y!==h){i=l.stateNode,gs(Fn.current);var k=null;switch(u){case"input":y=qi(i,y),h=qi(i,h),k=[];break;case"select":y=X({},y,{value:void 0}),h=X({},h,{value:void 0}),k=[];break;case"textarea":y=Ji(i,y),h=Ji(i,h),k=[];break;default:typeof y.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Zl)}Du(u,h);var C;u=null;for(L in y)if(!h.hasOwnProperty(L)&&y.hasOwnProperty(L)&&y[L]!=null)if(L==="style"){var E=y[L];for(C in E)E.hasOwnProperty(C)&&(u||(u={}),u[C]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(s.hasOwnProperty(L)?k||(k=[]):(k=k||[]).push(L,null));for(L in h){var M=h[L];if(E=y!=null?y[L]:void 0,h.hasOwnProperty(L)&&M!==E&&(M!=null||E!=null))if(L==="style")if(E){for(C in E)!E.hasOwnProperty(C)||M&&M.hasOwnProperty(C)||(u||(u={}),u[C]="");for(C in M)M.hasOwnProperty(C)&&E[C]!==M[C]&&(u||(u={}),u[C]=M[C])}else u||(k||(k=[]),k.push(L,u)),u=M;else L==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,E=E?E.__html:void 0,M!=null&&E!==M&&(k=k||[]).push(L,M)):L==="children"?typeof M!="string"&&typeof M!="number"||(k=k||[]).push(L,""+M):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(s.hasOwnProperty(L)?(M!=null&&L==="onScroll"&&_e("scroll",i),k||E===M||(k=[])):(k=k||[]).push(L,M))}u&&(k=k||[]).push("style",u);var L=k;(l.updateQueue=L)&&(l.flags|=4)}},q0=function(i,l,u,h){u!==h&&(l.flags|=4)};function No(i,l){if(!We)switch(i.tailMode){case"hidden":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Rt(i){var l=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(l)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags&14680064,h|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=u,l}function MC(i,l,u){var h=l.pendingProps;switch(vd(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(l),null;case 1:return Kt(l.type)&&ta(),Rt(l),null;case 3:return h=l.stateNode,mi(),Fe(Wt),Fe(Pt),Rd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(oa(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Mn!==null&&(cf(Mn),Mn=null))),Xd(i,l),Rt(l),null;case 5:Pd(l);var y=gs(So.current);if(u=l.type,i!==null&&l.stateNode!=null)K0(i,l,u,h,y),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!h){if(l.stateNode===null)throw Error(n(166));return Rt(l),null}if(i=gs(Fn.current),oa(l)){h=l.stateNode,u=l.type;var k=l.memoizedProps;switch(h[_n]=l,h[yo]=k,i=(l.mode&1)!==0,u){case"dialog":_e("cancel",h),_e("close",h);break;case"iframe":case"object":case"embed":_e("load",h);break;case"video":case"audio":for(y=0;y<po.length;y++)_e(po[y],h);break;case"source":_e("error",h);break;case"img":case"image":case"link":_e("error",h),_e("load",h);break;case"details":_e("toggle",h);break;case"input":Al(h,k),_e("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!k.multiple},_e("invalid",h);break;case"textarea":Dl(h,k),_e("invalid",h)}Du(u,k),y=null;for(var C in k)if(k.hasOwnProperty(C)){var E=k[C];C==="children"?typeof E=="string"?h.textContent!==E&&(k.suppressHydrationWarning!==!0&&Ql(h.textContent,E,i),y=["children",E]):typeof E=="number"&&h.textContent!==""+E&&(k.suppressHydrationWarning!==!0&&Ql(h.textContent,E,i),y=["children",""+E]):s.hasOwnProperty(C)&&E!=null&&C==="onScroll"&&_e("scroll",h)}switch(u){case"input":Zt(h),Pl(h,k,!0);break;case"textarea":Zt(h),I(h);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(h.onclick=Zl)}h=y,l.updateQueue=h,h!==null&&(l.flags|=4)}else{C=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=H(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=C.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=C.createElement(u,{is:h.is}):(i=C.createElement(u),u==="select"&&(C=i,h.multiple?C.multiple=!0:h.size&&(C.size=h.size))):i=C.createElementNS(i,u),i[_n]=l,i[yo]=h,W0(i,l,!1,!1),l.stateNode=i;e:{switch(C=Ru(u,h),u){case"dialog":_e("cancel",i),_e("close",i),y=h;break;case"iframe":case"object":case"embed":_e("load",i),y=h;break;case"video":case"audio":for(y=0;y<po.length;y++)_e(po[y],i);y=h;break;case"source":_e("error",i),y=h;break;case"img":case"image":case"link":_e("error",i),_e("load",i),y=h;break;case"details":_e("toggle",i),y=h;break;case"input":Al(i,h),y=qi(i,h),_e("invalid",i);break;case"option":y=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},y=X({},h,{value:void 0}),_e("invalid",i);break;case"textarea":Dl(i,h),y=Ji(i,h),_e("invalid",i);break;default:y=h}Du(u,y),E=y;for(k in E)if(E.hasOwnProperty(k)){var M=E[k];k==="style"?Lm(i,M):k==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&pt(i,M)):k==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&St(i,M):typeof M=="number"&&St(i,""+M):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(s.hasOwnProperty(k)?M!=null&&k==="onScroll"&&_e("scroll",i):M!=null&&D(i,k,M,C))}switch(u){case"input":Zt(i),Pl(i,h,!1);break;case"textarea":Zt(i),I(i);break;case"option":h.value!=null&&i.setAttribute("value",""+ve(h.value));break;case"select":i.multiple=!!h.multiple,k=h.value,k!=null?gr(i,!!h.multiple,k,!1):h.defaultValue!=null&&gr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=Zl)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Rt(l),null;case 6:if(i&&l.stateNode!=null)q0(i,l,i.memoizedProps,h);else{if(typeof h!="string"&&l.stateNode===null)throw Error(n(166));if(u=gs(So.current),gs(Fn.current),oa(l)){if(h=l.stateNode,u=l.memoizedProps,h[_n]=l,(k=h.nodeValue!==u)&&(i=tn,i!==null))switch(i.tag){case 3:Ql(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ql(h.nodeValue,u,(i.mode&1)!==0)}k&&(l.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[_n]=l,l.stateNode=h}return Rt(l),null;case 13:if(Fe(Ke),h=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(We&&nn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Yg(),di(),l.flags|=98560,k=!1;else if(k=oa(l),h!==null&&h.dehydrated!==null){if(i===null){if(!k)throw Error(n(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[_n]=l}else di(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Rt(l),k=!1}else Mn!==null&&(cf(Mn),Mn=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=u,l):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(Ke.current&1)!==0?dt===0&&(dt=3):ff())),l.updateQueue!==null&&(l.flags|=4),Rt(l),null);case 4:return mi(),Xd(i,l),i===null&&mo(l.stateNode.containerInfo),Rt(l),null;case 10:return Td(l.type._context),Rt(l),null;case 17:return Kt(l.type)&&ta(),Rt(l),null;case 19:if(Fe(Ke),k=l.memoizedState,k===null)return Rt(l),null;if(h=(l.flags&128)!==0,C=k.rendering,C===null)if(h)No(k,!1);else{if(dt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(C=fa(i),C!==null){for(l.flags|=128,No(k,!1),h=C.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),l.subtreeFlags=0,h=u,u=l.child;u!==null;)k=u,i=h,k.flags&=14680066,C=k.alternate,C===null?(k.childLanes=0,k.lanes=i,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=C.childLanes,k.lanes=C.lanes,k.child=C.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=C.memoizedProps,k.memoizedState=C.memoizedState,k.updateQueue=C.updateQueue,k.type=C.type,i=C.dependencies,k.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ve(Ke,Ke.current&1|2),l.child}i=i.sibling}k.tail!==null&&nt()>vi&&(l.flags|=128,h=!0,No(k,!1),l.lanes=4194304)}else{if(!h)if(i=fa(C),i!==null){if(l.flags|=128,h=!0,u=i.updateQueue,u!==null&&(l.updateQueue=u,l.flags|=4),No(k,!0),k.tail===null&&k.tailMode==="hidden"&&!C.alternate&&!We)return Rt(l),null}else 2*nt()-k.renderingStartTime>vi&&u!==1073741824&&(l.flags|=128,h=!0,No(k,!1),l.lanes=4194304);k.isBackwards?(C.sibling=l.child,l.child=C):(u=k.last,u!==null?u.sibling=C:l.child=C,k.last=C)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=nt(),l.sibling=null,u=Ke.current,Ve(Ke,h?u&1|2:u&1),l):(Rt(l),null);case 22:case 23:return df(),h=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(l.flags|=8192),h&&(l.mode&1)!==0?(rn&1073741824)!==0&&(Rt(l),l.subtreeFlags&6&&(l.flags|=8192)):Rt(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function AC(i,l){switch(vd(l),l.tag){case 1:return Kt(l.type)&&ta(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return mi(),Fe(Wt),Fe(Pt),Rd(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Pd(l),null;case 13:if(Fe(Ke),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));di()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Fe(Ke),null;case 4:return mi(),null;case 10:return Td(l.type._context),null;case 22:case 23:return df(),null;case 24:return null;default:return null}}var wa=!1,jt=!1,PC=typeof WeakSet=="function"?WeakSet:Set,ne=null;function yi(i,l){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Xe(i,l,h)}else u.current=null}function Qd(i,l,u){try{u()}catch(h){Xe(i,l,h)}}var G0=!1;function DC(i,l){if(ud=Fl,i=Eg(),nd(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var y=h.anchorOffset,k=h.focusNode;h=h.focusOffset;try{u.nodeType,k.nodeType}catch{u=null;break e}var C=0,E=-1,M=-1,L=0,W=0,q=i,U=null;t:for(;;){for(var Q;q!==u||y!==0&&q.nodeType!==3||(E=C+y),q!==k||h!==0&&q.nodeType!==3||(M=C+h),q.nodeType===3&&(C+=q.nodeValue.length),(Q=q.firstChild)!==null;)U=q,q=Q;for(;;){if(q===i)break t;if(U===u&&++L===y&&(E=C),U===k&&++W===h&&(M=C),(Q=q.nextSibling)!==null)break;q=U,U=q.parentNode}q=Q}u=E===-1||M===-1?null:{start:E,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(dd={focusedElem:i,selectionRange:u},Fl=!1,ne=l;ne!==null;)if(l=ne,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,ne=i;else for(;ne!==null;){l=ne;try{var se=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var ie=se.memoizedProps,rt=se.memoizedState,R=l.stateNode,A=R.getSnapshotBeforeUpdate(l.elementType===l.type?ie:An(l.type,ie),rt);R.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var O=l.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){Xe(l,l.return,Y)}if(i=l.sibling,i!==null){i.return=l.return,ne=i;break}ne=l.return}return se=G0,G0=!1,se}function Mo(i,l,u){var h=l.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&i)===i){var k=y.destroy;y.destroy=void 0,k!==void 0&&Qd(l,u,k)}y=y.next}while(y!==h)}}function Sa(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==l)}}function Zd(i){var l=i.ref;if(l!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof l=="function"?l(i):l.current=i}}function J0(i){var l=i.alternate;l!==null&&(i.alternate=null,J0(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[_n],delete l[yo],delete l[md],delete l[hC],delete l[pC])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Y0(i){return i.tag===5||i.tag===3||i.tag===4}function X0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Y0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ef(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?u.nodeType===8?u.parentNode.insertBefore(i,l):u.insertBefore(i,l):(u.nodeType===8?(l=u.parentNode,l.insertBefore(i,u)):(l=u,l.appendChild(i)),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Zl));else if(h!==4&&(i=i.child,i!==null))for(ef(i,l,u),i=i.sibling;i!==null;)ef(i,l,u),i=i.sibling}function tf(i,l,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,l?u.insertBefore(i,l):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(tf(i,l,u),i=i.sibling;i!==null;)tf(i,l,u),i=i.sibling}var bt=null,Pn=!1;function Ar(i,l,u){for(u=u.child;u!==null;)Q0(i,l,u),u=u.sibling}function Q0(i,l,u){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Il,u)}catch{}switch(u.tag){case 5:jt||yi(u,l);case 6:var h=bt,y=Pn;bt=null,Ar(i,l,u),bt=h,Pn=y,bt!==null&&(Pn?(i=bt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):bt.removeChild(u.stateNode));break;case 18:bt!==null&&(Pn?(i=bt,u=u.stateNode,i.nodeType===8?pd(i.parentNode,u):i.nodeType===1&&pd(i,u),io(i)):pd(bt,u.stateNode));break;case 4:h=bt,y=Pn,bt=u.stateNode.containerInfo,Pn=!0,Ar(i,l,u),bt=h,Pn=y;break;case 0:case 11:case 14:case 15:if(!jt&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){y=h=h.next;do{var k=y,C=k.destroy;k=k.tag,C!==void 0&&((k&2)!==0||(k&4)!==0)&&Qd(u,l,C),y=y.next}while(y!==h)}Ar(i,l,u);break;case 1:if(!jt&&(yi(u,l),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(E){Xe(u,l,E)}Ar(i,l,u);break;case 21:Ar(i,l,u);break;case 22:u.mode&1?(jt=(h=jt)||u.memoizedState!==null,Ar(i,l,u),jt=h):Ar(i,l,u);break;default:Ar(i,l,u)}}function Z0(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new PC),l.forEach(function(h){var y=_C.bind(null,i,h);u.has(h)||(u.add(h),h.then(y,y))})}}function Dn(i,l){var u=l.deletions;if(u!==null)for(var h=0;h<u.length;h++){var y=u[h];try{var k=i,C=l,E=C;e:for(;E!==null;){switch(E.tag){case 5:bt=E.stateNode,Pn=!1;break e;case 3:bt=E.stateNode.containerInfo,Pn=!0;break e;case 4:bt=E.stateNode.containerInfo,Pn=!0;break e}E=E.return}if(bt===null)throw Error(n(160));Q0(k,C,y),bt=null,Pn=!1;var M=y.alternate;M!==null&&(M.return=null),y.return=null}catch(L){Xe(y,l,L)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)ey(l,i),l=l.sibling}function ey(i,l){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Dn(l,i),Hn(i),h&4){try{Mo(3,i,i.return),Sa(3,i)}catch(ie){Xe(i,i.return,ie)}try{Mo(5,i,i.return)}catch(ie){Xe(i,i.return,ie)}}break;case 1:Dn(l,i),Hn(i),h&512&&u!==null&&yi(u,u.return);break;case 5:if(Dn(l,i),Hn(i),h&512&&u!==null&&yi(u,u.return),i.flags&32){var y=i.stateNode;try{St(y,"")}catch(ie){Xe(i,i.return,ie)}}if(h&4&&(y=i.stateNode,y!=null)){var k=i.memoizedProps,C=u!==null?u.memoizedProps:k,E=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{E==="input"&&k.type==="radio"&&k.name!=null&&Ys(y,k),Ru(E,C);var L=Ru(E,k);for(C=0;C<M.length;C+=2){var W=M[C],q=M[C+1];W==="style"?Lm(y,q):W==="dangerouslySetInnerHTML"?pt(y,q):W==="children"?St(y,q):D(y,W,q,L)}switch(E){case"input":as(y,k);break;case"textarea":re(y,k);break;case"select":var U=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!k.multiple;var Q=k.value;Q!=null?gr(y,!!k.multiple,Q,!1):U!==!!k.multiple&&(k.defaultValue!=null?gr(y,!!k.multiple,k.defaultValue,!0):gr(y,!!k.multiple,k.multiple?[]:"",!1))}y[yo]=k}catch(ie){Xe(i,i.return,ie)}}break;case 6:if(Dn(l,i),Hn(i),h&4){if(i.stateNode===null)throw Error(n(162));y=i.stateNode,k=i.memoizedProps;try{y.nodeValue=k}catch(ie){Xe(i,i.return,ie)}}break;case 3:if(Dn(l,i),Hn(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{io(l.containerInfo)}catch(ie){Xe(i,i.return,ie)}break;case 4:Dn(l,i),Hn(i);break;case 13:Dn(l,i),Hn(i),y=i.child,y.flags&8192&&(k=y.memoizedState!==null,y.stateNode.isHidden=k,!k||y.alternate!==null&&y.alternate.memoizedState!==null||(sf=nt())),h&4&&Z0(i);break;case 22:if(W=u!==null&&u.memoizedState!==null,i.mode&1?(jt=(L=jt)||W,Dn(l,i),jt=L):Dn(l,i),Hn(i),h&8192){if(L=i.memoizedState!==null,(i.stateNode.isHidden=L)&&!W&&(i.mode&1)!==0)for(ne=i,W=i.child;W!==null;){for(q=ne=W;ne!==null;){switch(U=ne,Q=U.child,U.tag){case 0:case 11:case 14:case 15:Mo(4,U,U.return);break;case 1:yi(U,U.return);var se=U.stateNode;if(typeof se.componentWillUnmount=="function"){h=U,u=U.return;try{l=h,se.props=l.memoizedProps,se.state=l.memoizedState,se.componentWillUnmount()}catch(ie){Xe(h,u,ie)}}break;case 5:yi(U,U.return);break;case 22:if(U.memoizedState!==null){ry(q);continue}}Q!==null?(Q.return=U,ne=Q):ry(q)}W=W.sibling}e:for(W=null,q=i;;){if(q.tag===5){if(W===null){W=q;try{y=q.stateNode,L?(k=y.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(E=q.stateNode,M=q.memoizedProps.style,C=M!=null&&M.hasOwnProperty("display")?M.display:null,E.style.display=Im("display",C))}catch(ie){Xe(i,i.return,ie)}}}else if(q.tag===6){if(W===null)try{q.stateNode.nodeValue=L?"":q.memoizedProps}catch(ie){Xe(i,i.return,ie)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===i)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===i)break e;for(;q.sibling===null;){if(q.return===null||q.return===i)break e;W===q&&(W=null),q=q.return}W===q&&(W=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:Dn(l,i),Hn(i),h&4&&Z0(i);break;case 21:break;default:Dn(l,i),Hn(i)}}function Hn(i){var l=i.flags;if(l&2){try{e:{for(var u=i.return;u!==null;){if(Y0(u)){var h=u;break e}u=u.return}throw Error(n(160))}switch(h.tag){case 5:var y=h.stateNode;h.flags&32&&(St(y,""),h.flags&=-33);var k=X0(i);tf(i,k,y);break;case 3:case 4:var C=h.stateNode.containerInfo,E=X0(i);ef(i,E,C);break;default:throw Error(n(161))}}catch(M){Xe(i,i.return,M)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function RC(i,l,u){ne=i,ty(i)}function ty(i,l,u){for(var h=(i.mode&1)!==0;ne!==null;){var y=ne,k=y.child;if(y.tag===22&&h){var C=y.memoizedState!==null||wa;if(!C){var E=y.alternate,M=E!==null&&E.memoizedState!==null||jt;E=wa;var L=jt;if(wa=C,(jt=M)&&!L)for(ne=y;ne!==null;)C=ne,M=C.child,C.tag===22&&C.memoizedState!==null?sy(y):M!==null?(M.return=C,ne=M):sy(y);for(;k!==null;)ne=k,ty(k),k=k.sibling;ne=y,wa=E,jt=L}ny(i)}else(y.subtreeFlags&8772)!==0&&k!==null?(k.return=y,ne=k):ny(i)}}function ny(i){for(;ne!==null;){var l=ne;if((l.flags&8772)!==0){var u=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:jt||Sa(5,l);break;case 1:var h=l.stateNode;if(l.flags&4&&!jt)if(u===null)h.componentDidMount();else{var y=l.elementType===l.type?u.memoizedProps:An(l.type,u.memoizedProps);h.componentDidUpdate(y,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&r0(l,k,h);break;case 3:var C=l.updateQueue;if(C!==null){if(u=null,l.child!==null)switch(l.child.tag){case 5:u=l.child.stateNode;break;case 1:u=l.child.stateNode}r0(l,C,u)}break;case 5:var E=l.stateNode;if(u===null&&l.flags&4){u=E;var M=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var L=l.alternate;if(L!==null){var W=L.memoizedState;if(W!==null){var q=W.dehydrated;q!==null&&io(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}jt||l.flags&512&&Zd(l)}catch(U){Xe(l,l.return,U)}}if(l===i){ne=null;break}if(u=l.sibling,u!==null){u.return=l.return,ne=u;break}ne=l.return}}function ry(i){for(;ne!==null;){var l=ne;if(l===i){ne=null;break}var u=l.sibling;if(u!==null){u.return=l.return,ne=u;break}ne=l.return}}function sy(i){for(;ne!==null;){var l=ne;try{switch(l.tag){case 0:case 11:case 15:var u=l.return;try{Sa(4,l)}catch(M){Xe(l,u,M)}break;case 1:var h=l.stateNode;if(typeof h.componentDidMount=="function"){var y=l.return;try{h.componentDidMount()}catch(M){Xe(l,y,M)}}var k=l.return;try{Zd(l)}catch(M){Xe(l,k,M)}break;case 5:var C=l.return;try{Zd(l)}catch(M){Xe(l,C,M)}}}catch(M){Xe(l,l.return,M)}if(l===i){ne=null;break}var E=l.sibling;if(E!==null){E.return=l.return,ne=E;break}ne=l.return}}var jC=Math.ceil,ba=V.ReactCurrentDispatcher,nf=V.ReactCurrentOwner,hn=V.ReactCurrentBatchConfig,Re=0,gt=null,it=null,Ct=0,rn=0,xi=Cr(0),dt=0,Ao=null,xs=0,Ca=0,rf=0,Po=null,Gt=null,sf=0,vi=1/0,sr=null,Ta=!1,of=null,Pr=null,Ea=!1,Dr=null,Na=0,Do=0,lf=null,Ma=-1,Aa=0;function Vt(){return(Re&6)!==0?nt():Ma!==-1?Ma:Ma=nt()}function Rr(i){return(i.mode&1)===0?1:(Re&2)!==0&&Ct!==0?Ct&-Ct:gC.transition!==null?(Aa===0&&(Aa=Xm()),Aa):(i=Le,i!==0||(i=window.event,i=i===void 0?16:og(i.type)),i)}function Rn(i,l,u,h){if(50<Do)throw Do=0,lf=null,Error(n(185));eo(i,u,h),((Re&2)===0||i!==gt)&&(i===gt&&((Re&2)===0&&(Ca|=u),dt===4&&jr(i,Ct)),Jt(i,h),u===1&&Re===0&&(l.mode&1)===0&&(vi=nt()+500,ra&&Er()))}function Jt(i,l){var u=i.callbackNode;g2(i,l);var h=Bl(i,i===gt?Ct:0);if(h===0)u!==null&&Gm(u),i.callbackNode=null,i.callbackPriority=0;else if(l=h&-h,i.callbackPriority!==l){if(u!=null&&Gm(u),l===1)i.tag===0?mC(oy.bind(null,i)):Wg(oy.bind(null,i)),dC(function(){(Re&6)===0&&Er()}),u=null;else{switch(Qm(h)){case 1:u=Vu;break;case 4:u=Jm;break;case 16:u=Ol;break;case 536870912:u=Ym;break;default:u=Ol}u=py(u,iy.bind(null,i))}i.callbackPriority=l,i.callbackNode=u}}function iy(i,l){if(Ma=-1,Aa=0,(Re&6)!==0)throw Error(n(327));var u=i.callbackNode;if(ki()&&i.callbackNode!==u)return null;var h=Bl(i,i===gt?Ct:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||l)l=Pa(i,h);else{l=h;var y=Re;Re|=2;var k=ay();(gt!==i||Ct!==l)&&(sr=null,vi=nt()+500,ks(i,l));do try{LC();break}catch(E){ly(i,E)}while(!0);Cd(),ba.current=k,Re=y,it!==null?l=0:(gt=null,Ct=0,l=dt)}if(l!==0){if(l===2&&(y=_u(i),y!==0&&(h=y,l=af(i,y))),l===1)throw u=Ao,ks(i,0),jr(i,h),Jt(i,nt()),u;if(l===6)jr(i,h);else{if(y=i.current.alternate,(h&30)===0&&!OC(y)&&(l=Pa(i,h),l===2&&(k=_u(i),k!==0&&(h=k,l=af(i,k))),l===1))throw u=Ao,ks(i,0),jr(i,h),Jt(i,nt()),u;switch(i.finishedWork=y,i.finishedLanes=h,l){case 0:case 1:throw Error(n(345));case 2:ws(i,Gt,sr);break;case 3:if(jr(i,h),(h&130023424)===h&&(l=sf+500-nt(),10<l)){if(Bl(i,0)!==0)break;if(y=i.suspendedLanes,(y&h)!==h){Vt(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=hd(ws.bind(null,i,Gt,sr),l);break}ws(i,Gt,sr);break;case 4:if(jr(i,h),(h&4194240)===h)break;for(l=i.eventTimes,y=-1;0<h;){var C=31-En(h);k=1<<C,C=l[C],C>y&&(y=C),h&=~k}if(h=y,h=nt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*jC(h/1960))-h,10<h){i.timeoutHandle=hd(ws.bind(null,i,Gt,sr),h);break}ws(i,Gt,sr);break;case 5:ws(i,Gt,sr);break;default:throw Error(n(329))}}}return Jt(i,nt()),i.callbackNode===u?iy.bind(null,i):null}function af(i,l){var u=Po;return i.current.memoizedState.isDehydrated&&(ks(i,l).flags|=256),i=Pa(i,l),i!==2&&(l=Gt,Gt=u,l!==null&&cf(l)),i}function cf(i){Gt===null?Gt=i:Gt.push.apply(Gt,i)}function OC(i){for(var l=i;;){if(l.flags&16384){var u=l.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var y=u[h],k=y.getSnapshot;y=y.value;try{if(!Nn(k(),y))return!1}catch{return!1}}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function jr(i,l){for(l&=~rf,l&=~Ca,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var u=31-En(l),h=1<<u;i[u]=-1,l&=~h}}function oy(i){if((Re&6)!==0)throw Error(n(327));ki();var l=Bl(i,0);if((l&1)===0)return Jt(i,nt()),null;var u=Pa(i,l);if(i.tag!==0&&u===2){var h=_u(i);h!==0&&(l=h,u=af(i,h))}if(u===1)throw u=Ao,ks(i,0),jr(i,l),Jt(i,nt()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,ws(i,Gt,sr),Jt(i,nt()),null}function uf(i,l){var u=Re;Re|=1;try{return i(l)}finally{Re=u,Re===0&&(vi=nt()+500,ra&&Er())}}function vs(i){Dr!==null&&Dr.tag===0&&(Re&6)===0&&ki();var l=Re;Re|=1;var u=hn.transition,h=Le;try{if(hn.transition=null,Le=1,i)return i()}finally{Le=h,hn.transition=u,Re=l,(Re&6)===0&&Er()}}function df(){rn=xi.current,Fe(xi)}function ks(i,l){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,uC(u)),it!==null)for(u=it.return;u!==null;){var h=u;switch(vd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ta();break;case 3:mi(),Fe(Wt),Fe(Pt),Rd();break;case 5:Pd(h);break;case 4:mi();break;case 13:Fe(Ke);break;case 19:Fe(Ke);break;case 10:Td(h.type._context);break;case 22:case 23:df()}u=u.return}if(gt=i,it=i=Or(i.current,null),Ct=rn=l,dt=0,Ao=null,rf=Ca=xs=0,Gt=Po=null,ms!==null){for(l=0;l<ms.length;l++)if(u=ms[l],h=u.interleaved,h!==null){u.interleaved=null;var y=h.next,k=u.pending;if(k!==null){var C=k.next;k.next=y,h.next=C}u.pending=h}ms=null}return i}function ly(i,l){do{var u=it;try{if(Cd(),ha.current=ya,pa){for(var h=qe.memoizedState;h!==null;){var y=h.queue;y!==null&&(y.pending=null),h=h.next}pa=!1}if(ys=0,mt=ut=qe=null,bo=!1,Co=0,nf.current=null,u===null||u.return===null){dt=1,Ao=l,it=null;break}e:{var k=i,C=u.return,E=u,M=l;if(l=Ct,E.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var L=M,W=E,q=W.tag;if((W.mode&1)===0&&(q===0||q===11||q===15)){var U=W.alternate;U?(W.updateQueue=U.updateQueue,W.memoizedState=U.memoizedState,W.lanes=U.lanes):(W.updateQueue=null,W.memoizedState=null)}var Q=R0(C);if(Q!==null){Q.flags&=-257,j0(Q,C,E,k,l),Q.mode&1&&D0(k,L,l),l=Q,M=L;var se=l.updateQueue;if(se===null){var ie=new Set;ie.add(M),l.updateQueue=ie}else se.add(M);break e}else{if((l&1)===0){D0(k,L,l),ff();break e}M=Error(n(426))}}else if(We&&E.mode&1){var rt=R0(C);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),j0(rt,C,E,k,l),Sd(gi(M,E));break e}}k=M=gi(M,E),dt!==4&&(dt=2),Po===null?Po=[k]:Po.push(k),k=C;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var R=A0(k,M,l);n0(k,R);break e;case 1:E=M;var A=k.type,O=k.stateNode;if((k.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Pr===null||!Pr.has(O)))){k.flags|=65536,l&=-l,k.lanes|=l;var Y=P0(k,E,l);n0(k,Y);break e}}k=k.return}while(k!==null)}uy(u)}catch(oe){l=oe,it===u&&u!==null&&(it=u=u.return);continue}break}while(!0)}function ay(){var i=ba.current;return ba.current=ya,i===null?ya:i}function ff(){(dt===0||dt===3||dt===2)&&(dt=4),gt===null||(xs&268435455)===0&&(Ca&268435455)===0||jr(gt,Ct)}function Pa(i,l){var u=Re;Re|=2;var h=ay();(gt!==i||Ct!==l)&&(sr=null,ks(i,l));do try{IC();break}catch(y){ly(i,y)}while(!0);if(Cd(),Re=u,ba.current=h,it!==null)throw Error(n(261));return gt=null,Ct=0,dt}function IC(){for(;it!==null;)cy(it)}function LC(){for(;it!==null&&!l2();)cy(it)}function cy(i){var l=hy(i.alternate,i,rn);i.memoizedProps=i.pendingProps,l===null?uy(i):it=l,nf.current=null}function uy(i){var l=i;do{var u=l.alternate;if(i=l.return,(l.flags&32768)===0){if(u=MC(u,l,rn),u!==null){it=u;return}}else{if(u=AC(u,l),u!==null){u.flags&=32767,it=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{dt=6,it=null;return}}if(l=l.sibling,l!==null){it=l;return}it=l=i}while(l!==null);dt===0&&(dt=5)}function ws(i,l,u){var h=Le,y=hn.transition;try{hn.transition=null,Le=1,zC(i,l,u,h)}finally{hn.transition=y,Le=h}return null}function zC(i,l,u,h){do ki();while(Dr!==null);if((Re&6)!==0)throw Error(n(327));u=i.finishedWork;var y=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var k=u.lanes|u.childLanes;if(y2(i,k),i===gt&&(it=gt=null,Ct=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Ea||(Ea=!0,py(Ol,function(){return ki(),null})),k=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||k){k=hn.transition,hn.transition=null;var C=Le;Le=1;var E=Re;Re|=4,nf.current=null,DC(i,u),ey(u,i),rC(dd),Fl=!!ud,dd=ud=null,i.current=u,RC(u),a2(),Re=E,Le=C,hn.transition=k}else i.current=u;if(Ea&&(Ea=!1,Dr=i,Na=y),k=i.pendingLanes,k===0&&(Pr=null),d2(u.stateNode),Jt(i,nt()),l!==null)for(h=i.onRecoverableError,u=0;u<l.length;u++)y=l[u],h(y.value,{componentStack:y.stack,digest:y.digest});if(Ta)throw Ta=!1,i=of,of=null,i;return(Na&1)!==0&&i.tag!==0&&ki(),k=i.pendingLanes,(k&1)!==0?i===lf?Do++:(Do=0,lf=i):Do=0,Er(),null}function ki(){if(Dr!==null){var i=Qm(Na),l=hn.transition,u=Le;try{if(hn.transition=null,Le=16>i?16:i,Dr===null)var h=!1;else{if(i=Dr,Dr=null,Na=0,(Re&6)!==0)throw Error(n(331));var y=Re;for(Re|=4,ne=i.current;ne!==null;){var k=ne,C=k.child;if((ne.flags&16)!==0){var E=k.deletions;if(E!==null){for(var M=0;M<E.length;M++){var L=E[M];for(ne=L;ne!==null;){var W=ne;switch(W.tag){case 0:case 11:case 15:Mo(8,W,k)}var q=W.child;if(q!==null)q.return=W,ne=q;else for(;ne!==null;){W=ne;var U=W.sibling,Q=W.return;if(J0(W),W===L){ne=null;break}if(U!==null){U.return=Q,ne=U;break}ne=Q}}}var se=k.alternate;if(se!==null){var ie=se.child;if(ie!==null){se.child=null;do{var rt=ie.sibling;ie.sibling=null,ie=rt}while(ie!==null)}}ne=k}}if((k.subtreeFlags&2064)!==0&&C!==null)C.return=k,ne=C;else e:for(;ne!==null;){if(k=ne,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Mo(9,k,k.return)}var R=k.sibling;if(R!==null){R.return=k.return,ne=R;break e}ne=k.return}}var A=i.current;for(ne=A;ne!==null;){C=ne;var O=C.child;if((C.subtreeFlags&2064)!==0&&O!==null)O.return=C,ne=O;else e:for(C=A;ne!==null;){if(E=ne,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Sa(9,E)}}catch(oe){Xe(E,E.return,oe)}if(E===C){ne=null;break e}var Y=E.sibling;if(Y!==null){Y.return=E.return,ne=Y;break e}ne=E.return}}if(Re=y,Er(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Il,i)}catch{}h=!0}return h}finally{Le=u,hn.transition=l}}return!1}function dy(i,l,u){l=gi(u,l),l=A0(i,l,1),i=Mr(i,l,1),l=Vt(),i!==null&&(eo(i,1,l),Jt(i,l))}function Xe(i,l,u){if(i.tag===3)dy(i,i,u);else for(;l!==null;){if(l.tag===3){dy(l,i,u);break}else if(l.tag===1){var h=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Pr===null||!Pr.has(h))){i=gi(u,i),i=P0(l,i,1),l=Mr(l,i,1),i=Vt(),l!==null&&(eo(l,1,i),Jt(l,i));break}}l=l.return}}function BC(i,l,u){var h=i.pingCache;h!==null&&h.delete(l),l=Vt(),i.pingedLanes|=i.suspendedLanes&u,gt===i&&(Ct&u)===u&&(dt===4||dt===3&&(Ct&130023424)===Ct&&500>nt()-sf?ks(i,0):rf|=u),Jt(i,l)}function fy(i,l){l===0&&((i.mode&1)===0?l=1:(l=zl,zl<<=1,(zl&130023424)===0&&(zl=4194304)));var u=Vt();i=tr(i,l),i!==null&&(eo(i,l,u),Jt(i,u))}function VC(i){var l=i.memoizedState,u=0;l!==null&&(u=l.retryLane),fy(i,u)}function _C(i,l){var u=0;switch(i.tag){case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(l),fy(i,u)}var hy;hy=function(i,l,u){if(i!==null)if(i.memoizedProps!==l.pendingProps||Wt.current)qt=!0;else{if((i.lanes&u)===0&&(l.flags&128)===0)return qt=!1,NC(i,l,u);qt=(i.flags&131072)!==0}else qt=!1,We&&(l.flags&1048576)!==0&&Kg(l,ia,l.index);switch(l.lanes=0,l.tag){case 2:var h=l.type;ka(i,l),i=l.pendingProps;var y=ai(l,Pt.current);pi(l,u),y=Id(null,l,h,i,y,u);var k=Ld();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Kt(h)?(k=!0,na(l)):k=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Md(l),y.updater=xa,l.stateNode=y,y._reactInternals=l,$d(l,h,i,u),l=Kd(null,l,h,!0,k,u)):(l.tag=0,We&&k&&xd(l),Bt(null,l,y,u),l=l.child),l;case 16:h=l.elementType;e:{switch(ka(i,l),i=l.pendingProps,y=h._init,h=y(h._payload),l.type=h,y=l.tag=$C(h),i=An(h,i),y){case 0:l=Wd(null,l,h,i,u);break e;case 1:l=V0(null,l,h,i,u);break e;case 11:l=O0(null,l,h,i,u);break e;case 14:l=I0(null,l,h,An(h.type,i),u);break e}throw Error(n(306,h,""))}return l;case 0:return h=l.type,y=l.pendingProps,y=l.elementType===h?y:An(h,y),Wd(i,l,h,y,u);case 1:return h=l.type,y=l.pendingProps,y=l.elementType===h?y:An(h,y),V0(i,l,h,y,u);case 3:e:{if(_0(l),i===null)throw Error(n(387));h=l.pendingProps,k=l.memoizedState,y=k.element,t0(i,l),da(l,h,null,u);var C=l.memoizedState;if(h=C.element,k.isDehydrated)if(k={element:h,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){y=gi(Error(n(423)),l),l=F0(i,l,h,u,y);break e}else if(h!==y){y=gi(Error(n(424)),l),l=F0(i,l,h,u,y);break e}else for(nn=br(l.stateNode.containerInfo.firstChild),tn=l,We=!0,Mn=null,u=Zg(l,null,h,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(di(),h===y){l=rr(i,l,u);break e}Bt(i,l,h,u)}l=l.child}return l;case 5:return s0(l),i===null&&wd(l),h=l.type,y=l.pendingProps,k=i!==null?i.memoizedProps:null,C=y.children,fd(h,y)?C=null:k!==null&&fd(h,k)&&(l.flags|=32),B0(i,l),Bt(i,l,C,u),l.child;case 6:return i===null&&wd(l),null;case 13:return $0(i,l,u);case 4:return Ad(l,l.stateNode.containerInfo),h=l.pendingProps,i===null?l.child=fi(l,null,h,u):Bt(i,l,h,u),l.child;case 11:return h=l.type,y=l.pendingProps,y=l.elementType===h?y:An(h,y),O0(i,l,h,y,u);case 7:return Bt(i,l,l.pendingProps,u),l.child;case 8:return Bt(i,l,l.pendingProps.children,u),l.child;case 12:return Bt(i,l,l.pendingProps.children,u),l.child;case 10:e:{if(h=l.type._context,y=l.pendingProps,k=l.memoizedProps,C=y.value,Ve(aa,h._currentValue),h._currentValue=C,k!==null)if(Nn(k.value,C)){if(k.children===y.children&&!Wt.current){l=rr(i,l,u);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var E=k.dependencies;if(E!==null){C=k.child;for(var M=E.firstContext;M!==null;){if(M.context===h){if(k.tag===1){M=nr(-1,u&-u),M.tag=2;var L=k.updateQueue;if(L!==null){L=L.shared;var W=L.pending;W===null?M.next=M:(M.next=W.next,W.next=M),L.pending=M}}k.lanes|=u,M=k.alternate,M!==null&&(M.lanes|=u),Ed(k.return,u,l),E.lanes|=u;break}M=M.next}}else if(k.tag===10)C=k.type===l.type?null:k.child;else if(k.tag===18){if(C=k.return,C===null)throw Error(n(341));C.lanes|=u,E=C.alternate,E!==null&&(E.lanes|=u),Ed(C,u,l),C=k.sibling}else C=k.child;if(C!==null)C.return=k;else for(C=k;C!==null;){if(C===l){C=null;break}if(k=C.sibling,k!==null){k.return=C.return,C=k;break}C=C.return}k=C}Bt(i,l,y.children,u),l=l.child}return l;case 9:return y=l.type,h=l.pendingProps.children,pi(l,u),y=dn(y),h=h(y),l.flags|=1,Bt(i,l,h,u),l.child;case 14:return h=l.type,y=An(h,l.pendingProps),y=An(h.type,y),I0(i,l,h,y,u);case 15:return L0(i,l,l.type,l.pendingProps,u);case 17:return h=l.type,y=l.pendingProps,y=l.elementType===h?y:An(h,y),ka(i,l),l.tag=1,Kt(h)?(i=!0,na(l)):i=!1,pi(l,u),N0(l,h,y),$d(l,h,y,u),Kd(null,l,h,!0,i,u);case 19:return U0(i,l,u);case 22:return z0(i,l,u)}throw Error(n(156,l.tag))};function py(i,l){return qm(i,l)}function FC(i,l,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(i,l,u,h){return new FC(i,l,u,h)}function hf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $C(i){if(typeof i=="function")return hf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Ne)return 11;if(i===Oe)return 14}return 2}function Or(i,l){var u=i.alternate;return u===null?(u=pn(i.tag,l,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=l,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,l=i.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Da(i,l,u,h,y,k){var C=2;if(h=i,typeof i=="function")hf(i)&&(C=1);else if(typeof i=="string")C=5;else e:switch(i){case B:return Ss(u.children,y,k,l);case F:C=8,y|=8;break;case te:return i=pn(12,u,l,y|2),i.elementType=te,i.lanes=k,i;case Pe:return i=pn(13,u,l,y),i.elementType=Pe,i.lanes=k,i;case Ie:return i=pn(19,u,l,y),i.elementType=Ie,i.lanes=k,i;case he:return Ra(u,y,k,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ue:C=10;break e;case Ae:C=9;break e;case Ne:C=11;break e;case Oe:C=14;break e;case Ue:C=16,h=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=pn(C,u,l,y),l.elementType=i,l.type=h,l.lanes=k,l}function Ss(i,l,u,h){return i=pn(7,i,h,l),i.lanes=u,i}function Ra(i,l,u,h){return i=pn(22,i,h,l),i.elementType=he,i.lanes=u,i.stateNode={isHidden:!1},i}function pf(i,l,u){return i=pn(6,i,null,l),i.lanes=u,i}function mf(i,l,u){return l=pn(4,i.children!==null?i.children:[],i.key,l),l.lanes=u,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function HC(i,l,u,h,y){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fu(0),this.expirationTimes=Fu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fu(0),this.identifierPrefix=h,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function gf(i,l,u,h,y,k,C,E,M){return i=new HC(i,l,u,E,M),l===1?(l=1,k===!0&&(l|=8)):l=0,k=pn(3,null,null,l),i.current=k,k.stateNode=i,k.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Md(k),i}function UC(i,l,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:h==null?null:""+h,children:i,containerInfo:l,implementation:u}}function my(i){if(!i)return Tr;i=i._reactInternals;e:{if(us(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Kt(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Kt(u))return Hg(i,u,l)}return l}function gy(i,l,u,h,y,k,C,E,M){return i=gf(u,h,!0,i,y,k,C,E,M),i.context=my(null),u=i.current,h=Vt(),y=Rr(u),k=nr(h,y),k.callback=l??null,Mr(u,k,y),i.current.lanes=y,eo(i,y,h),Jt(i,h),i}function ja(i,l,u,h){var y=l.current,k=Vt(),C=Rr(y);return u=my(u),l.context===null?l.context=u:l.pendingContext=u,l=nr(k,C),l.payload={element:i},h=h===void 0?null:h,h!==null&&(l.callback=h),i=Mr(y,l,C),i!==null&&(Rn(i,y,C,k),ua(i,y,C)),C}function Oa(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function yy(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<l?u:l}}function yf(i,l){yy(i,l),(i=i.alternate)&&yy(i,l)}function WC(){return null}var xy=typeof reportError=="function"?reportError:function(i){console.error(i)};function xf(i){this._internalRoot=i}Ia.prototype.render=xf.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));ja(i,l,null,null)},Ia.prototype.unmount=xf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;vs(function(){ja(null,i,null,null)}),l[Xn]=null}};function Ia(i){this._internalRoot=i}Ia.prototype.unstable_scheduleHydration=function(i){if(i){var l=tg();i={blockedOn:null,target:i,priority:l};for(var u=0;u<kr.length&&l!==0&&l<kr[u].priority;u++);kr.splice(u,0,i),u===0&&sg(i)}};function vf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function La(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function vy(){}function KC(i,l,u,h,y){if(y){if(typeof h=="function"){var k=h;h=function(){var L=Oa(C);k.call(L)}}var C=gy(l,h,i,0,null,!1,!1,"",vy);return i._reactRootContainer=C,i[Xn]=C.current,mo(i.nodeType===8?i.parentNode:i),vs(),C}for(;y=i.lastChild;)i.removeChild(y);if(typeof h=="function"){var E=h;h=function(){var L=Oa(M);E.call(L)}}var M=gf(i,0,!1,null,null,!1,!1,"",vy);return i._reactRootContainer=M,i[Xn]=M.current,mo(i.nodeType===8?i.parentNode:i),vs(function(){ja(l,M,u,h)}),M}function za(i,l,u,h,y){var k=u._reactRootContainer;if(k){var C=k;if(typeof y=="function"){var E=y;y=function(){var M=Oa(C);E.call(M)}}ja(l,C,i,y)}else C=KC(u,l,i,y,h);return Oa(C)}Zm=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var u=Zi(l.pendingLanes);u!==0&&($u(l,u|1),Jt(l,nt()),(Re&6)===0&&(vi=nt()+500,Er()))}break;case 13:vs(function(){var h=tr(i,1);if(h!==null){var y=Vt();Rn(h,i,1,y)}}),yf(i,1)}},Hu=function(i){if(i.tag===13){var l=tr(i,134217728);if(l!==null){var u=Vt();Rn(l,i,134217728,u)}yf(i,134217728)}},eg=function(i){if(i.tag===13){var l=Rr(i),u=tr(i,l);if(u!==null){var h=Vt();Rn(u,i,l,h)}yf(i,l)}},tg=function(){return Le},ng=function(i,l){var u=Le;try{return Le=i,l()}finally{Le=u}},Iu=function(i,l,u){switch(l){case"input":if(as(i,u),l=u.name,u.type==="radio"&&l!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<u.length;l++){var h=u[l];if(h!==i&&h.form===i.form){var y=ea(h);if(!y)throw Error(n(90));st(h),as(h,y)}}}break;case"textarea":re(i,u);break;case"select":l=u.value,l!=null&&gr(i,!!u.multiple,l,!1)}},_m=uf,Fm=vs;var qC={usingClientEntryPoint:!1,Events:[xo,oi,ea,Bm,Vm,uf]},Ro={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GC={bundleType:Ro.bundleType,version:Ro.version,rendererPackageName:Ro.rendererPackageName,rendererConfig:Ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Wm(i),i===null?null:i.stateNode},findFiberByHostInstance:Ro.findFiberByHostInstance||WC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ba.isDisabled&&Ba.supportsFiber)try{Il=Ba.inject(GC),Vn=Ba}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qC,Yt.createPortal=function(i,l){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vf(l))throw Error(n(200));return UC(i,l,null,u)},Yt.createRoot=function(i,l){if(!vf(i))throw Error(n(299));var u=!1,h="",y=xy;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onRecoverableError!==void 0&&(y=l.onRecoverableError)),l=gf(i,1,!1,null,null,u,!1,h,y),i[Xn]=l.current,mo(i.nodeType===8?i.parentNode:i),new xf(l)},Yt.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Wm(l),i=i===null?null:i.stateNode,i},Yt.flushSync=function(i){return vs(i)},Yt.hydrate=function(i,l,u){if(!La(l))throw Error(n(200));return za(null,i,l,!0,u)},Yt.hydrateRoot=function(i,l,u){if(!vf(i))throw Error(n(405));var h=u!=null&&u.hydratedSources||null,y=!1,k="",C=xy;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(k=u.identifierPrefix),u.onRecoverableError!==void 0&&(C=u.onRecoverableError)),l=gy(l,null,i,1,u??null,y,!1,k,C),i[Xn]=l.current,mo(i),h)for(i=0;i<h.length;i++)u=h[i],y=u._getVersion,y=y(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,y]:l.mutableSourceEagerHydrationData.push(u,y);return new Ia(l)},Yt.render=function(i,l,u){if(!La(l))throw Error(n(200));return za(null,i,l,!1,u)},Yt.unmountComponentAtNode=function(i){if(!La(i))throw Error(n(40));return i._reactRootContainer?(vs(function(){za(null,null,i,!1,function(){i._reactRootContainer=null,i[Xn]=null})}),!0):!1},Yt.unstable_batchedUpdates=uf,Yt.unstable_renderSubtreeIntoContainer=function(i,l,u,h){if(!La(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return za(i,l,u,!1,h)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var Ny;function Mv(){if(Ny)return Sf.exports;Ny=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sf.exports=tT(),Sf.exports}var My;function nT(){if(My)return Va;My=1;var t=Mv();return Va.createRoot=t.createRoot,Va.hydrateRoot=t.hydrateRoot,Va}var rT=nT(),_=kl();const Fs=Nv(_),xp=_.createContext({});function vp(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Av=typeof window<"u",Pv=Av?_.useLayoutEffect:_.useEffect,fu=_.createContext(null);function kp(t,e){t.indexOf(e)===-1&&t.push(e)}function wp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Gn=(t,e,n)=>n>e?e:n<t?t:n;let Sp=()=>{};const pr={},Dv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Rv(t){return typeof t=="object"&&t!==null}const jv=t=>/^0[^.\s]+$/u.test(t);function bp(t){let e;return()=>(e===void 0&&(e=t()),e)}const wn=t=>t,sT=(t,e)=>n=>e(t(n)),wl=(...t)=>t.reduce(sT),sl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Cp{constructor(){this.subscriptions=[]}add(e){return kp(this.subscriptions,e),()=>wp(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dr=t=>t*1e3,kn=t=>t/1e3;function Ov(t,e){return e?t*(1e3/e):0}const Iv=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,iT=1e-7,oT=12;function lT(t,e,n,r,s){let o,a,c=0;do a=e+(n-e)/2,o=Iv(a,r,s)-t,o>0?n=a:e=a;while(Math.abs(o)>iT&&++c<oT);return a}function Sl(t,e,n,r){if(t===e&&n===r)return wn;const s=o=>lT(o,0,1,t,n);return o=>o===0||o===1?o:Iv(s(o),e,r)}const Lv=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zv=t=>e=>1-t(1-e),Bv=Sl(.33,1.53,.69,.99),Tp=zv(Bv),Vv=Lv(Tp),_v=t=>(t*=2)<1?.5*Tp(t):.5*(2-Math.pow(2,-10*(t-1))),Ep=t=>1-Math.sin(Math.acos(t)),Fv=zv(Ep),$v=Lv(Ep),aT=Sl(.42,0,1,1),cT=Sl(0,0,.58,1),Hv=Sl(.42,0,.58,1),uT=t=>Array.isArray(t)&&typeof t[0]!="number",Uv=t=>Array.isArray(t)&&typeof t[0]=="number",dT={linear:wn,easeIn:aT,easeInOut:Hv,easeOut:cT,circIn:Ep,circInOut:$v,circOut:Fv,backIn:Tp,backInOut:Vv,backOut:Bv,anticipate:_v},fT=t=>typeof t=="string",Ay=t=>{if(Uv(t)){Sp(t.length===4);const[e,n,r,s]=t;return Sl(e,n,r,s)}else if(fT(t))return dT[t];return t},_a=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function hT(t,e){let n=new Set,r=new Set,s=!1,o=!1;const a=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(p){a.has(p)&&(f.schedule(p),t()),p(c)}const f={schedule:(p,m=!1,g=!1)=>{const w=g&&s?n:r;return m&&a.add(p),w.has(p)||w.add(p),p},cancel:p=>{r.delete(p),a.delete(p)},process:p=>{if(c=p,s){o=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,o&&(o=!1,f.process(p))}};return f}const pT=40;function Wv(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,a=_a.reduce((D,V)=>(D[V]=hT(o),D),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:p,update:m,preRender:g,render:x,postRender:w}=a,S=()=>{const D=pr.useManualTiming?s.timestamp:performance.now();n=!1,pr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(D-s.timestamp,pT),1)),s.timestamp=D,s.isProcessing=!0,c.process(s),d.process(s),f.process(s),p.process(s),m.process(s),g.process(s),x.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},b=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:_a.reduce((D,V)=>{const j=a[V];return D[V]=(z,B=!1,F=!1)=>(n||b(),j.schedule(z,B,F)),D},{}),cancel:D=>{for(let V=0;V<_a.length;V++)a[_a[V]].cancel(D)},state:s,steps:a}}const{schedule:He,cancel:Zr,state:Et,steps:Tf}=Wv(typeof requestAnimationFrame<"u"?requestAnimationFrame:wn,!0);let ic;function mT(){ic=void 0}const _t={now:()=>(ic===void 0&&_t.set(Et.isProcessing||pr.useManualTiming?Et.timestamp:performance.now()),ic),set:t=>{ic=t,queueMicrotask(mT)}},Kv=t=>e=>typeof e=="string"&&e.startsWith(t),qv=Kv("--"),gT=Kv("var(--"),Np=t=>gT(t)?yT.test(t.split("/*")[0].trim()):!1,yT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Py(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Hi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},il={...Hi,transform:t=>Gn(0,1,t)},Fa={...Hi,default:1},Uo=t=>Math.round(t*1e5)/1e5,Mp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xT(t){return t==null}const vT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ap=(t,e)=>n=>!!(typeof n=="string"&&vT.test(n)&&n.startsWith(t)||e&&!xT(n)&&Object.prototype.hasOwnProperty.call(n,e)),Gv=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,o,a,c]=r.match(Mp);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},kT=t=>Gn(0,255,t),Ef={...Hi,transform:t=>Math.round(kT(t))},As={test:Ap("rgb","red"),parse:Gv("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ef.transform(t)+", "+Ef.transform(e)+", "+Ef.transform(n)+", "+Uo(il.transform(r))+")"};function wT(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const vh={test:Ap("#"),parse:wT,transform:As.transform},bl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zr=bl("deg"),qn=bl("%"),ee=bl("px"),ST=bl("vh"),bT=bl("vw"),Dy={...qn,parse:t=>qn.parse(t)/100,transform:t=>qn.transform(t*100)},Ni={test:Ap("hsl","hue"),parse:Gv("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+qn.transform(Uo(e))+", "+qn.transform(Uo(n))+", "+Uo(il.transform(r))+")"},ot={test:t=>As.test(t)||vh.test(t)||Ni.test(t),parse:t=>As.test(t)?As.parse(t):Ni.test(t)?Ni.parse(t):vh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?As.transform(t):Ni.transform(t),getAnimatableNone:t=>{const e=ot.parse(t);return e.alpha=0,ot.transform(e)}},CT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TT(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Mp))==null?void 0:e.length)||0)+(((n=t.match(CT))==null?void 0:n.length)||0)>0}const Jv="number",Yv="color",ET="var",NT="var(",Ry="${}",MT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ol(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const c=e.replace(MT,d=>(ot.test(d)?(r.color.push(o),s.push(Yv),n.push(ot.parse(d))):d.startsWith(NT)?(r.var.push(o),s.push(ET),n.push(d)):(r.number.push(o),s.push(Jv),n.push(parseFloat(d))),++o,Ry)).split(Ry);return{values:n,split:c,indexes:r,types:s}}function Xv(t){return ol(t).values}function Qv(t){const{split:e,types:n}=ol(t),r=e.length;return s=>{let o="";for(let a=0;a<r;a++)if(o+=e[a],s[a]!==void 0){const c=n[a];c===Jv?o+=Uo(s[a]):c===Yv?o+=ot.transform(s[a]):o+=s[a]}return o}}const AT=t=>typeof t=="number"?0:ot.test(t)?ot.getAnimatableNone(t):t;function PT(t){const e=Xv(t);return Qv(t)(e.map(AT))}const es={test:TT,parse:Xv,createTransformer:Qv,getAnimatableNone:PT};function Nf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function DT({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,a=0;if(!e)s=o=a=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=Nf(d,c,t+1/3),o=Nf(d,c,t),a=Nf(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}function pc(t,e){return n=>n>0?e:t}const Je=(t,e,n)=>t+(e-t)*n,Mf=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},RT=[vh,As,Ni],jT=t=>RT.find(e=>e.test(t));function jy(t){const e=jT(t);if(!e)return!1;let n=e.parse(t);return e===Ni&&(n=DT(n)),n}const Oy=(t,e)=>{const n=jy(t),r=jy(e);if(!n||!r)return pc(t,e);const s={...n};return o=>(s.red=Mf(n.red,r.red,o),s.green=Mf(n.green,r.green,o),s.blue=Mf(n.blue,r.blue,o),s.alpha=Je(n.alpha,r.alpha,o),As.transform(s))},kh=new Set(["none","hidden"]);function OT(t,e){return kh.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function IT(t,e){return n=>Je(t,e,n)}function Pp(t){return typeof t=="number"?IT:typeof t=="string"?Np(t)?pc:ot.test(t)?Oy:BT:Array.isArray(t)?Zv:typeof t=="object"?ot.test(t)?Oy:LT:pc}function Zv(t,e){const n=[...t],r=n.length,s=t.map((o,a)=>Pp(o)(o,e[a]));return o=>{for(let a=0;a<r;a++)n[a]=s[a](o);return n}}function LT(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Pp(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function zT(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],c=t.values[a]??0;n[s]=c,r[o]++}return n}const BT=(t,e)=>{const n=es.createTransformer(e),r=ol(t),s=ol(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?kh.has(t)&&!s.values.length||kh.has(e)&&!r.values.length?OT(t,e):wl(Zv(zT(r,s),s.values),n):pc(t,e)};function ek(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Je(t,e,n):Pp(t)(t,e)}const VT=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>He.update(e,n),stop:()=>Zr(e),now:()=>Et.isProcessing?Et.timestamp:_t.now()}},tk=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let o=0;o<s;o++)r+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},mc=2e4;function Dp(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<mc;)e+=n,r=t.next(e);return e>=mc?1/0:e}function _T(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Dp(r),mc);return{type:"keyframes",ease:o=>r.next(s*o).value/e,duration:kn(s)}}const FT=5;function nk(t,e,n){const r=Math.max(e-FT,0);return Ov(n-t(r),e-r)}const Ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Af=.001;function $T({duration:t=Ze.duration,bounce:e=Ze.bounce,velocity:n=Ze.velocity,mass:r=Ze.mass}){let s,o,a=1-e;a=Gn(Ze.minDamping,Ze.maxDamping,a),t=Gn(Ze.minDuration,Ze.maxDuration,kn(t)),a<1?(s=f=>{const p=f*a,m=p*t,g=p-n,x=wh(f,a),w=Math.exp(-m);return Af-g/x*w},o=f=>{const m=f*a*t,g=m*n+n,x=Math.pow(a,2)*Math.pow(f,2)*t,w=Math.exp(-m),S=wh(Math.pow(f,2),a);return(-s(f)+Af>0?-1:1)*((g-x)*w)/S}):(s=f=>{const p=Math.exp(-f*t),m=(f-n)*t+1;return-Af+p*m},o=f=>{const p=Math.exp(-f*t),m=(n-f)*(t*t);return p*m});const c=5/t,d=UT(s,o,c);if(t=dr(t),isNaN(d))return{stiffness:Ze.stiffness,damping:Ze.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:a*2*Math.sqrt(r*f),duration:t}}}const HT=12;function UT(t,e,n){let r=n;for(let s=1;s<HT;s++)r=r-t(r)/e(r);return r}function wh(t,e){return t*Math.sqrt(1-e*e)}const WT=["duration","bounce"],KT=["stiffness","damping","mass"];function Iy(t,e){return e.some(n=>t[n]!==void 0)}function qT(t){let e={velocity:Ze.velocity,stiffness:Ze.stiffness,damping:Ze.damping,mass:Ze.mass,isResolvedFromDuration:!1,...t};if(!Iy(t,KT)&&Iy(t,WT))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,o=2*Gn(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ze.mass,stiffness:s,damping:o}}else{const n=$T(t);e={...e,...n,mass:Ze.mass},e.isResolvedFromDuration=!0}return e}function gc(t=Ze.visualDuration,e=Ze.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const o=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:f,mass:p,duration:m,velocity:g,isResolvedFromDuration:x}=qT({...n,velocity:-kn(n.velocity||0)}),w=g||0,S=f/(2*Math.sqrt(d*p)),b=a-o,T=kn(Math.sqrt(d/p)),N=Math.abs(b)<5;r||(r=N?Ze.restSpeed.granular:Ze.restSpeed.default),s||(s=N?Ze.restDelta.granular:Ze.restDelta.default);let D;if(S<1){const j=wh(T,S);D=z=>{const B=Math.exp(-S*T*z);return a-B*((w+S*T*b)/j*Math.sin(j*z)+b*Math.cos(j*z))}}else if(S===1)D=j=>a-Math.exp(-T*j)*(b+(w+T*b)*j);else{const j=T*Math.sqrt(S*S-1);D=z=>{const B=Math.exp(-S*T*z),F=Math.min(j*z,300);return a-B*((w+S*T*b)*Math.sinh(F)+j*b*Math.cosh(F))/j}}const V={calculatedDuration:x&&m||null,next:j=>{const z=D(j);if(x)c.done=j>=m;else{let B=j===0?w:0;S<1&&(B=j===0?dr(w):nk(D,j,z));const F=Math.abs(B)<=r,te=Math.abs(a-z)<=s;c.done=F&&te}return c.value=c.done?a:z,c},toString:()=>{const j=Math.min(Dp(V),mc),z=tk(B=>V.next(j*B).value,j,30);return j+"ms "+z},toTransition:()=>{}};return V}gc.applyToOptions=t=>{const e=_T(t,100,gc);return t.ease=e.ease,t.duration=dr(e.duration),t.type="keyframes",t};function Sh({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:d,restDelta:f=.5,restSpeed:p}){const m=t[0],g={done:!1,value:m},x=F=>c!==void 0&&F<c||d!==void 0&&F>d,w=F=>c===void 0?d:d===void 0||Math.abs(c-F)<Math.abs(d-F)?c:d;let S=n*e;const b=m+S,T=a===void 0?b:a(b);T!==b&&(S=T-m);const N=F=>-S*Math.exp(-F/r),D=F=>T+N(F),V=F=>{const te=N(F),ue=D(F);g.done=Math.abs(te)<=f,g.value=g.done?T:ue};let j,z;const B=F=>{x(g.value)&&(j=F,z=gc({keyframes:[g.value,w(g.value)],velocity:nk(D,F,g.value),damping:s,stiffness:o,restDelta:f,restSpeed:p}))};return B(0),{calculatedDuration:null,next:F=>{let te=!1;return!z&&j===void 0&&(te=!0,V(F),B(F)),j!==void 0&&F>=j?z.next(F-j):(!te&&V(F),g)}}}function GT(t,e,n){const r=[],s=n||pr.mix||ek,o=t.length-1;for(let a=0;a<o;a++){let c=s(t[a],t[a+1]);if(e){const d=Array.isArray(e)?e[a]||wn:e;c=wl(d,c)}r.push(c)}return r}function JT(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(Sp(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=GT(e,r,s),d=c.length,f=p=>{if(a&&p<t[0])return e[0];let m=0;if(d>1)for(;m<t.length-2&&!(p<t[m+1]);m++);const g=sl(t[m],t[m+1],p);return c[m](g)};return n?p=>f(Gn(t[0],t[o-1],p)):f}function YT(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=sl(0,e,r);t.push(Je(n,1,s))}}function XT(t){const e=[0];return YT(e,t.length-1),e}function QT(t,e){return t.map(n=>n*e)}function ZT(t,e){return t.map(()=>e||Hv).splice(0,t.length-1)}function Wo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=uT(r)?r.map(Ay):Ay(r),o={done:!1,value:e[0]},a=QT(n&&n.length===e.length?n:XT(e),t),c=JT(a,e,{ease:Array.isArray(s)?s:ZT(e,s)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const eE=t=>t!==null;function Rp(t,{repeat:e,repeatType:n="loop"},r,s=1){const o=t.filter(eE),c=s<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const tE={decay:Sh,inertia:Sh,tween:Wo,keyframes:Wo,spring:gc};function rk(t){typeof t.type=="string"&&(t.type=tE[t.type])}class jp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const nE=t=>t/100;class Op extends jp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==_t.now()&&this.tick(_t.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;rk(e);const{type:n=Wo,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:a=0}=e;let{keyframes:c}=e;const d=n||Wo;d!==Wo&&typeof c[0]!="number"&&(this.mixKeyframes=wl(nE,ek(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-a})),f.calculatedDuration===null&&(f.calculatedDuration=Dp(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:m,repeatType:g,repeatDelay:x,type:w,onUpdate:S,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-f*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?T<0:T>s;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let D=this.currentTime,V=r;if(m){const F=Math.min(this.currentTime,s)/c;let te=Math.floor(F),ue=F%1;!ue&&F>=1&&(ue=1),ue===1&&te--,te=Math.min(te,m+1),!!(te%2)&&(g==="reverse"?(ue=1-ue,x&&(ue-=x/c)):g==="mirror"&&(V=a)),D=Gn(0,1,ue)*c}const j=N?{done:!1,value:p[0]}:V.next(D);o&&(j.value=o(j.value));let{done:z}=j;!N&&d!==null&&(z=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return B&&w!==Sh&&(j.value=Rp(p,this.options,b,this.speed)),S&&S(j.value),B&&this.finish(),j}then(e,n){return this.finished.then(e,n)}get duration(){return kn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+kn(e)}get time(){return kn(this.currentTime)}set time(e){var n;e=dr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(_t.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=kn(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=VT,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(o=(s=this.options).onPlay)==null||o.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_t.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function rE(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ps=t=>t*180/Math.PI,bh=t=>{const e=Ps(Math.atan2(t[1],t[0]));return Ch(e)},sE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:bh,rotateZ:bh,skewX:t=>Ps(Math.atan(t[1])),skewY:t=>Ps(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ch=t=>(t=t%360,t<0&&(t+=360),t),Ly=bh,zy=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),By=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),iE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zy,scaleY:By,scale:t=>(zy(t)+By(t))/2,rotateX:t=>Ch(Ps(Math.atan2(t[6],t[5]))),rotateY:t=>Ch(Ps(Math.atan2(-t[2],t[0]))),rotateZ:Ly,rotate:Ly,skewX:t=>Ps(Math.atan(t[4])),skewY:t=>Ps(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Th(t){return t.includes("scale")?1:0}function Eh(t,e){if(!t||t==="none")return Th(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=iE,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=sE,s=c}if(!s)return Th(e);const o=r[e],a=s[1].split(",").map(lE);return typeof o=="function"?o(a):a[o]}const oE=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Eh(n,e)};function lE(t){return parseFloat(t.trim())}const Ui=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wi=new Set(Ui),Vy=t=>t===Hi||t===ee,aE=new Set(["x","y","z"]),cE=Ui.filter(t=>!aE.has(t));function uE(t){const e=[];return cE.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Wr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Eh(e,"x"),y:(t,{transform:e})=>Eh(e,"y")};Wr.translateX=Wr.x;Wr.translateY=Wr.y;const Is=new Set;let Nh=!1,Mh=!1,Ah=!1;function sk(){if(Mh){const t=Array.from(Is).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=uE(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,a])=>{var c;(c=r.getValue(o))==null||c.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Mh=!1,Nh=!1,Is.forEach(t=>t.complete(Ah)),Is.clear()}function ik(){Is.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Mh=!0)})}function dE(){Ah=!0,ik(),sk(),Ah=!1}class Ip{constructor(e,n,r,s,o,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Is.add(this),Nh||(Nh=!0,He.read(ik),He.resolveKeyframes(sk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),s&&o===void 0&&s.set(e[0])}rE(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Is.delete(this)}cancel(){this.state==="scheduled"&&(Is.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fE=t=>t.startsWith("--");function hE(t,e,n){fE(e)?t.style.setProperty(e,n):t.style[e]=n}const pE=bp(()=>window.ScrollTimeline!==void 0),mE={};function gE(t,e){const n=bp(t);return()=>mE[e]??n()}const ok=gE(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,_y={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bo([0,.65,.55,1]),circOut:Bo([.55,0,1,.45]),backIn:Bo([.31,.01,.66,-.59]),backOut:Bo([.33,1.53,.69,.99])};function lk(t,e){if(t)return typeof t=="function"?ok()?tk(t,e):"ease-out":Uv(t)?Bo(t):Array.isArray(t)?t.map(n=>lk(n,e)||_y.easeOut):_y[t]}function yE(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:a="loop",ease:c="easeOut",times:d}={},f=void 0){const p={[e]:n};d&&(p.offset=d);const m=lk(c,s);Array.isArray(m)&&(p.easing=m);const g={delay:r,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),t.animate(p,g)}function ak(t){return typeof t=="function"&&"applyToOptions"in t}function xE({type:t,...e}){return ak(t)&&ok()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class vE extends jp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=a,this.options=e,Sp(typeof e.type!="string");const f=xE(e);this.animation=yE(n,r,s,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=Rp(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):hE(n,r,p),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return kn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+kn(e)}get time(){return kn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=dr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&pE()?(this.animation.timeline=e,wn):n(this)}}const ck={anticipate:_v,backInOut:Vv,circInOut:$v};function kE(t){return t in ck}function wE(t){typeof t.ease=="string"&&kE(t.ease)&&(t.ease=ck[t.ease])}const Pf=10;class SE extends vE{constructor(e){wE(e),rk(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:o,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Op({...a,autoplay:!1}),d=Math.max(Pf,_t.now()-this.startTime),f=Gn(0,Pf,d-Pf);n.setWithVelocity(c.sample(Math.max(0,d-f)).value,c.sample(d).value,f),c.stop()}}const Fy=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(es.test(t)||t==="0")&&!t.startsWith("url("));function bE(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function CE(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],a=Fy(s,e),c=Fy(o,e);return!a||!c?!1:bE(t)||(n==="spring"||ak(n))&&r}function Ph(t){t.duration=0,t.type="keyframes"}const TE=new Set(["opacity","clipPath","filter","transform"]),EE=bp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NE(t){var p;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:o,type:a}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return EE()&&n&&TE.has(n)&&(n!=="transform"||!f)&&!d&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}const ME=40;class AE extends jp{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",keyframes:c,name:d,motionValue:f,element:p,...m}){var w;super(),this.stop=()=>{var S,b;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=_t.now();const g={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:a,name:d,motionValue:f,element:p,...m},x=(p==null?void 0:p.KeyframeResolver)||Ip;this.keyframeResolver=new x(c,(S,b,T)=>this.onKeyframesResolved(S,b,g,!T),d,f,p),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:o,type:a,velocity:c,delay:d,isHandoff:f,onUpdate:p}=r;this.resolvedAt=_t.now(),CE(e,o,a,c)||((pr.instantAnimations||!d)&&(p==null||p(Rp(e,r,n))),e[0]=e[e.length-1],Ph(r),r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>ME?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!f&&NE(g)?new SE({...g,element:g.motionValue.owner.current}):new Op(g);x.finished.then(()=>this.notifyFinished()).catch(wn),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),dE()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const PE=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DE(t){const e=PE.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function uk(t,e,n=1){const[r,s]=DE(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const a=o.trim();return Dv(a)?parseFloat(a):a}return Np(s)?uk(s,e,n+1):s}function Lp(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const RE={type:"spring",stiffness:500,damping:25,restSpeed:10},jE=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),OE={type:"keyframes",duration:.8},IE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LE=(t,{keyframes:e})=>e.length>2?OE:Wi.has(t)?t.startsWith("scale")?jE(e[1]):RE:IE;function zE({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:c,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const BE=t=>t!==null;function VE(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(BE),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[o]}function dk(t,e,n,r=0,s=1){const o=Array.from(t).sort((f,p)=>f.sortNodePosition(p)).indexOf(e),a=t.size,c=(a-1)*r;return typeof n=="function"?n(o,a):s===1?o*r:c-o*r}const zp=(t,e,n,r={},s,o)=>a=>{const c=Lp(r,t)||{},d=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-dr(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{a(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:s};zE(c)||Object.assign(p,LE(t,p)),p.duration&&(p.duration=dr(p.duration)),p.repeatDelay&&(p.repeatDelay=dr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let m=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Ph(p),p.delay===0&&(m=!0)),(pr.instantAnimations||pr.skipAnimations)&&(m=!0,Ph(p),p.delay=0),p.allowFlatten=!c.type&&!c.ease,m&&!o&&e.get()!==void 0){const g=VE(p.keyframes,c);if(g!==void 0){He.update(()=>{p.onUpdate(g),p.onComplete()});return}}return c.isSync?new Op(p):new AE(p)},fk=new Set(["width","height","top","left","right","bottom",...Ui]),$y=30,_E=t=>!isNaN(parseFloat(t));class FE{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const s=_t.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=_t.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_E(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cp);const r=this.events[e].add(n);return e==="change"?()=>{r(),He.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=_t.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$y)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$y);return Ov(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ii(t,e){return new FE(t,e)}function Hy(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Bp(t,e,n,r){if(typeof e=="function"){const[s,o]=Hy(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=Hy(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function Ri(t,e,n){const r=t.getProps();return Bp(r,e,n!==void 0?n:r.custom,t)}const Dh=t=>Array.isArray(t);function $E(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ii(n))}function HE(t){return Dh(t)?t[t.length-1]||0:t}function UE(t,e){const n=Ri(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const a in o){const c=HE(o[a]);$E(t,a,c)}}const It=t=>!!(t&&t.getVelocity);function WE(t){return!!(It(t)&&t.add)}function Rh(t,e){const n=t.getValue("willChange");if(WE(n))return n.add(e);if(!n&&pr.WillChange){const r=new pr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Vp(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const KE="framerAppearId",hk="data-"+Vp(KE);function pk(t){return t.props[hk]}function qE({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function mk(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(o=r);const d=[],f=s&&t.animationState&&t.animationState.getState()[s];for(const p in c){const m=t.getValue(p,t.latestValues[p]??null),g=c[p];if(g===void 0||f&&qE(f,p))continue;const x={delay:n,...Lp(o||{},p)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===w&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const T=pk(t);if(T){const N=window.MotionHandoffAnimation(T,p,He);N!==null&&(x.startTime=N,S=!0)}}Rh(t,p),m.start(zp(p,m,g,t.shouldReduceMotion&&fk.has(p)?{type:!1}:x,t,S));const b=m.animation;b&&d.push(b)}return a&&Promise.all(d).then(()=>{He.update(()=>{a&&UE(t,a)})}),d}function jh(t,e,n={}){var d;const r=Ri(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(mk(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:g}=s;return GE(t,e,f,p,m,g,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[f,p]=c==="beforeChildren"?[o,a]:[a,o];return f().then(()=>p())}else return Promise.all([o(),a(n.delay)])}function GE(t,e,n=0,r=0,s=0,o=1,a){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(jh(d,e,{...a,delay:n+(typeof r=="function"?0:r)+dk(t.variantChildren,d,r,s,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function JE(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>jh(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=jh(t,e,n);else{const s=typeof e=="function"?Ri(t,e,n.custom):e;r=Promise.all(mk(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const YE={test:t=>t==="auto",parse:t=>t},gk=t=>e=>e.test(t),yk=[Hi,ee,qn,zr,bT,ST,YE],Uy=t=>yk.find(gk(t));function XE(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jv(t):!0}const QE=new Set(["brightness","contrast","saturate","opacity"]);function ZE(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Mp)||[];if(!r)return t;const s=n.replace(r,"");let o=QE.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const eN=/\b([a-z-]*)\(.*?\)/gu,Oh={...es,getAnimatableNone:t=>{const e=t.match(eN);return e?e.map(ZE).join(" "):t}},Wy={...Hi,transform:Math.round},tN={rotate:zr,rotateX:zr,rotateY:zr,rotateZ:zr,scale:Fa,scaleX:Fa,scaleY:Fa,scaleZ:Fa,skew:zr,skewX:zr,skewY:zr,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:il,originX:Dy,originY:Dy,originZ:ee},_p={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,radius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,inset:ee,insetBlock:ee,insetBlockStart:ee,insetBlockEnd:ee,insetInline:ee,insetInlineStart:ee,insetInlineEnd:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,paddingBlock:ee,paddingBlockStart:ee,paddingBlockEnd:ee,paddingInline:ee,paddingInlineStart:ee,paddingInlineEnd:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,marginBlock:ee,marginBlockStart:ee,marginBlockEnd:ee,marginInline:ee,marginInlineStart:ee,marginInlineEnd:ee,backgroundPositionX:ee,backgroundPositionY:ee,...tN,zIndex:Wy,fillOpacity:il,strokeOpacity:il,numOctaves:Wy},nN={..._p,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:Oh,WebkitFilter:Oh},xk=t=>nN[t];function vk(t,e){let n=xk(t);return n!==Oh&&(n=es),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const rN=new Set(["auto","none","0"]);function sN(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!rN.has(o)&&ol(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=vk(n,s)}class iN extends Ip{constructor(e,n,r,s,o){super(e,n,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let m=e[p];if(typeof m=="string"&&(m=m.trim(),Np(m))){const g=uk(m,n.current);g!==void 0&&(e[p]=g),p===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!fk.has(r)||e.length!==2)return;const[s,o]=e,a=Uy(s),c=Uy(o),d=Py(s),f=Py(o);if(d!==f&&Wr[r]){this.needsMeasurement=!0;return}if(a!==c)if(Vy(a)&&Vy(c))for(let p=0;p<e.length;p++){const m=e[p];typeof m=="string"&&(e[p]=parseFloat(m))}else Wr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||XE(e[s]))&&r.push(s);r.length&&sN(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Wr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function oN(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const kk=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function wk(t){return Rv(t)&&"offsetHeight"in t}const{schedule:Fp}=Wv(queueMicrotask,!1),On={x:!1,y:!1};function Sk(){return On.x||On.y}function lN(t){return t==="x"||t==="y"?On[t]?null:(On[t]=!0,()=>{On[t]=!1}):On.x||On.y?null:(On.x=On.y=!0,()=>{On.x=On.y=!1})}function bk(t,e){const n=oN(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Ky(t){return!(t.pointerType==="touch"||Sk())}function aN(t,e,n={}){const[r,s,o]=bk(t,n),a=c=>{if(!Ky(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const p=m=>{Ky(m)&&(f(m),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,s)};return r.forEach(c=>{c.addEventListener("pointerenter",a,s)}),o}const Ck=(t,e)=>e?t===e?!0:Ck(t,e.parentElement):!1,$p=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,cN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Tk(t){return cN.has(t.tagName)||t.isContentEditable===!0}const oc=new WeakSet;function qy(t){return e=>{e.key==="Enter"&&t(e)}}function Df(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const uN=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=qy(()=>{if(oc.has(n))return;Df(n,"down");const s=qy(()=>{Df(n,"up")}),o=()=>Df(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Gy(t){return $p(t)&&!Sk()}function dN(t,e,n={}){const[r,s,o]=bk(t,n),a=c=>{const d=c.currentTarget;if(!Gy(c))return;oc.add(d);const f=e(d,c),p=(x,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),oc.has(d)&&oc.delete(d),Gy(x)&&typeof f=="function"&&f(x,{success:w})},m=x=>{p(x,d===window||d===document||n.useGlobalTarget||Ck(d,x.target))},g=x=>{p(x,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",g,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",a,s),wk(c)&&(c.addEventListener("focus",f=>uN(f,s)),!Tk(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function Ek(t){return Rv(t)&&"ownerSVGElement"in t}function fN(t){return Ek(t)&&t.tagName==="svg"}const hN=[...yk,ot,es],pN=t=>hN.find(gk(t)),Jy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mi=()=>({x:Jy(),y:Jy()}),Yy=()=>({min:0,max:0}),ft=()=>({x:Yy(),y:Yy()}),Ih={current:null},Nk={current:!1},mN=typeof window<"u";function gN(){if(Nk.current=!0,!!mN)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ih.current=t.matches;t.addEventListener("change",e),e()}else Ih.current=!1}const yN=new WeakMap;function hu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ll(t){return typeof t=="string"||Array.isArray(t)}const Hp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Up=["initial",...Hp];function pu(t){return hu(t.animate)||Up.some(e=>ll(t[e]))}function Mk(t){return!!(pu(t)||t.variants)}function xN(t,e,n){for(const r in e){const s=e[r],o=n[r];if(It(s))t.addValue(r,s);else if(It(o))t.addValue(r,Ii(s,{owner:t}));else if(o!==s)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(r);t.addValue(r,Ii(a!==void 0?a:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Xy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let yc={};function Ak(t){yc=t}function vN(){return yc}class kN{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:a},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ip,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=_t.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,He.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=a;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=pu(n),this.isVariantNode=Mk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const x=m[g];d[g]!==void 0&&It(x)&&x.set(d[g])}}mount(e){var n;this.current=e,yN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Nk.current||gN(),this.shouldReduceMotion=Ih.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Zr(this.notifyUpdate),Zr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Wi.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&He.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yc){const n=yc[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Xy.length;r++){const s=Xy[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,a=e[o];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=xN(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ii(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Dv(r)||jv(r))?r=parseFloat(r):!pN(r)&&es.test(n)&&(r=vk(e,n)),this.setBaseTarget(e,It(r)?r.get():r)),It(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=Bp(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!It(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Fp.render(this.render)}}class rs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Pk extends kN{constructor(){super(...arguments),this.KeyframeResolver=iN}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;It(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Dk({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function wN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function SN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Rf(t){return t===void 0||t===1}function Lh({scale:t,scaleX:e,scaleY:n}){return!Rf(t)||!Rf(e)||!Rf(n)}function Es(t){return Lh(t)||Rk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Rk(t){return Qy(t.x)||Qy(t.y)}function Qy(t){return t&&t!=="0%"}function xc(t,e,n){const r=t-n,s=e*r;return n+s}function Zy(t,e,n,r,s){return s!==void 0&&(t=xc(t,s,r)),xc(t,n,r)+e}function zh(t,e=0,n=1,r,s){t.min=Zy(t.min,e,n,r,s),t.max=Zy(t.max,e,n,r,s)}function jk(t,{x:e,y:n}){zh(t.x,e.translate,e.scale,e.originPoint),zh(t.y,n.translate,n.scale,n.originPoint)}const ex=.999999999999,tx=1.0000000000001;function bN(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,a;for(let c=0;c<s;c++){o=n[c],a=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Pi(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,jk(t,a)),r&&Es(o.latestValues)&&Pi(t,o.latestValues))}e.x<tx&&e.x>ex&&(e.x=1),e.y<tx&&e.y>ex&&(e.y=1)}function Ai(t,e){t.min=t.min+e,t.max=t.max+e}function nx(t,e,n,r,s=.5){const o=Je(t.min,t.max,s);zh(t,e,n,o,r)}function Pi(t,e){nx(t.x,e.x,e.scaleX,e.scale,e.originX),nx(t.y,e.y,e.scaleY,e.scale,e.originY)}function Ok(t,e){return Dk(SN(t.getBoundingClientRect(),e))}function CN(t,e,n){const r=Ok(t,n),{scroll:s}=e;return s&&(Ai(r.x,s.offset.x),Ai(r.y,s.offset.y)),r}const TN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EN=Ui.length;function NN(t,e,n){let r="",s=!0;for(let o=0;o<EN;o++){const a=Ui[o],c=t[a];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(a.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const f=kk(c,_p[a]);if(!d){s=!1;const p=TN[a]||a;r+=`${p}(${f}) `}n&&(e[a]=f)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Wp(t,e,n){const{style:r,vars:s,transformOrigin:o}=t;let a=!1,c=!1;for(const d in e){const f=e[d];if(Wi.has(d)){a=!0;continue}else if(qv(d)){s[d]=f;continue}else{const p=kk(f,_p[d]);d.startsWith("origin")?(c=!0,o[d]=p):r[d]=p}}if(e.transform||(a||n?r.transform=NN(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:p=0}=o;r.transformOrigin=`${d} ${f} ${p}`}}function Ik(t,{style:e,vars:n},r,s){const o=t.style;let a;for(a in e)o[a]=e[a];s==null||s.applyProjectionStyles(o,r);for(a in n)o.setProperty(a,n[a])}function rx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Oo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ee.test(t))t=parseFloat(t);else return t;const n=rx(t,e.target.x),r=rx(t,e.target.y);return`${n}% ${r}%`}},MN={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=es.parse(t);if(s.length>5)return r;const o=es.createTransformer(t),a=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+a]/=c,s[1+a]/=d;const f=Je(c,d,.5);return typeof s[2+a]=="number"&&(s[2+a]/=f),typeof s[3+a]=="number"&&(s[3+a]/=f),o(s)}},Bh={borderRadius:{...Oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oo,borderTopRightRadius:Oo,borderBottomLeftRadius:Oo,borderBottomRightRadius:Oo,boxShadow:MN};function Lk(t,{layout:e,layoutId:n}){return Wi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bh[t]||t==="opacity")}function Kp(t,e,n){var a;const r=t.style,s=e==null?void 0:e.style,o={};if(!r)return o;for(const c in r)(It(r[c])||s&&It(s[c])||Lk(c,t)||((a=n==null?void 0:n.getValue(c))==null?void 0:a.liveStyle)!==void 0)&&(o[c]=r[c]);return o}function AN(t){return window.getComputedStyle(t)}class PN extends Pk{constructor(){super(...arguments),this.type="html",this.renderInstance=Ik}readValueFromInstance(e,n){var r;if(Wi.has(n))return(r=this.projection)!=null&&r.isProjecting?Th(n):oE(e,n);{const s=AN(e),o=(qv(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Ok(e,n)}build(e,n,r){Wp(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Kp(e,n,r)}}const DN={offset:"stroke-dashoffset",array:"stroke-dasharray"},RN={offset:"strokeDashoffset",array:"strokeDasharray"};function jN(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?DN:RN;t[o.offset]=ee.transform(-r);const a=ee.transform(e),c=ee.transform(n);t[o.array]=`${a} ${c}`}const ON=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function zk(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...c},d,f,p){if(Wp(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete m.transformBox);for(const x of ON)m[x]!==void 0&&(g[x]=m[x],delete m[x]);e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&jN(m,s,o,a,!1)}const Bk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Vk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function IN(t,e,n,r){Ik(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Bk.has(s)?s:Vp(s),e.attrs[s])}function _k(t,e,n){const r=Kp(t,e,n);for(const s in t)if(It(t[s])||It(e[s])){const o=Ui.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}class LN extends Pk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wi.has(n)){const r=xk(n);return r&&r.default||0}return n=Bk.has(n)?n:Vp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return _k(e,n,r)}build(e,n,r){zk(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){IN(e,n,r,s)}mount(e){this.isSVGTag=Vk(e.tagName),super.mount(e)}}const zN=Up.length;function Fk(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Fk(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<zN;n++){const r=Up[n],s=t.props[r];(ll(s)||s===!1)&&(e[r]=s)}return e}function $k(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const BN=[...Hp].reverse(),VN=Hp.length;function _N(t){return e=>Promise.all(e.map(({animation:n,options:r})=>JE(t,n,r)))}function FN(t){let e=_N(t),n=sx(),r=!0;const s=d=>(f,p)=>{var g;const m=Ri(t,p,d==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:x,transitionEnd:w,...S}=m;f={...f,...S,...w}}return f};function o(d){e=d(t)}function a(d){const{props:f}=t,p=Fk(t.parent)||{},m=[],g=new Set;let x={},w=1/0;for(let b=0;b<VN;b++){const T=BN[b],N=n[T],D=f[T]!==void 0?f[T]:p[T],V=ll(D),j=T===d?N.isActive:null;j===!1&&(w=b);let z=D===p[T]&&D!==f[T]&&V;if(z&&r&&t.manuallyAnimateOnMount&&(z=!1),N.protectedKeys={...x},!N.isActive&&j===null||!D&&!N.prevProp||hu(D)||typeof D=="boolean")continue;const B=$N(N.prevProp,D);let F=B||T===d&&N.isActive&&!z&&V||b>w&&V,te=!1;const ue=Array.isArray(D)?D:[D];let Ae=ue.reduce(s(T),{});j===!1&&(Ae={});const{prevResolvedValues:Ne={}}=N,Pe={...Ne,...Ae},Ie=he=>{F=!0,g.has(he)&&(te=!0,g.delete(he)),N.needsAnimating[he]=!0;const J=t.getValue(he);J&&(J.liveStyle=!1)};for(const he in Pe){const J=Ae[he],le=Ne[he];if(x.hasOwnProperty(he))continue;let X=!1;Dh(J)&&Dh(le)?X=!$k(J,le):X=J!==le,X?J!=null?Ie(he):g.add(he):J!==void 0&&g.has(he)?Ie(he):N.protectedKeys[he]=!0}N.prevProp=D,N.prevResolvedValues=Ae,N.isActive&&(x={...x,...Ae}),r&&t.blockInitialAnimation&&(F=!1);const Oe=z&&B;F&&(!Oe||te)&&m.push(...ue.map(he=>{const J={type:T};if(typeof he=="string"&&r&&!Oe&&t.manuallyAnimateOnMount&&t.parent){const{parent:le}=t,X=Ri(le,he);if(le.enteringChildren&&X){const{delayChildren:P}=X.transition||{};J.delay=dk(le.enteringChildren,t,P)}}return{animation:he,options:J}}))}if(g.size){const b={};if(typeof f.initial!="boolean"){const T=Ri(t,Array.isArray(f.initial)?f.initial[0]:f.initial);T&&T.transition&&(b.transition=T.transition)}g.forEach(T=>{const N=t.getBaseTarget(T),D=t.getValue(T);D&&(D.liveStyle=!0),b[T]=N??null}),m.push({animation:b})}let S=!!m.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(m):Promise.resolve()}function c(d,f){var m;if(n[d].isActive===f)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(d,f)}),n[d].isActive=f;const p=a(d);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:a,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=sx()}}}function $N(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$k(e,t):!1}function bs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sx(){return{animate:bs(!0),whileInView:bs(),whileHover:bs(),whileTap:bs(),whileDrag:bs(),whileFocus:bs(),exit:bs()}}const Hk=1e-4,HN=1-Hk,UN=1+Hk,Uk=.01,WN=0-Uk,KN=0+Uk;function Ft(t){return t.max-t.min}function qN(t,e,n){return Math.abs(t-e)<=n}function ix(t,e,n,r=.5){t.origin=r,t.originPoint=Je(e.min,e.max,t.origin),t.scale=Ft(n)/Ft(e),t.translate=Je(n.min,n.max,t.origin)-t.originPoint,(t.scale>=HN&&t.scale<=UN||isNaN(t.scale))&&(t.scale=1),(t.translate>=WN&&t.translate<=KN||isNaN(t.translate))&&(t.translate=0)}function Ko(t,e,n,r){ix(t.x,e.x,n.x,r?r.originX:void 0),ix(t.y,e.y,n.y,r?r.originY:void 0)}function ox(t,e,n){t.min=n.min+e.min,t.max=t.min+Ft(e)}function GN(t,e,n){ox(t.x,e.x,n.x),ox(t.y,e.y,n.y)}function lx(t,e,n){t.min=e.min-n.min,t.max=t.min+Ft(e)}function vc(t,e,n){lx(t.x,e.x,n.x),lx(t.y,e.y,n.y)}function ax(t,e,n,r,s){return t-=e,t=xc(t,1/n,r),s!==void 0&&(t=xc(t,1/s,r)),t}function JN(t,e=0,n=1,r=.5,s,o=t,a=t){if(qn.test(e)&&(e=parseFloat(e),e=Je(a.min,a.max,e/100)-a.min),typeof e!="number")return;let c=Je(o.min,o.max,r);t===o&&(c-=e),t.min=ax(t.min,e,n,c,s),t.max=ax(t.max,e,n,c,s)}function cx(t,e,[n,r,s],o,a){JN(t,e[n],e[r],e[s],e.scale,o,a)}const YN=["x","scaleX","originX"],XN=["y","scaleY","originY"];function ux(t,e,n,r){cx(t.x,e,YN,n?n.x:void 0,r?r.x:void 0),cx(t.y,e,XN,n?n.y:void 0,r?r.y:void 0)}function dx(t,e){t.min=e.min,t.max=e.max}function jn(t,e){dx(t.x,e.x),dx(t.y,e.y)}function fx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function hx(t){return t.translate===0&&t.scale===1}function Wk(t){return hx(t.x)&&hx(t.y)}function px(t,e){return t.min===e.min&&t.max===e.max}function QN(t,e){return px(t.x,e.x)&&px(t.y,e.y)}function mx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Kk(t,e){return mx(t.x,e.x)&&mx(t.y,e.y)}function gx(t){return Ft(t.x)/Ft(t.y)}function yx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function gn(t){return[t("x"),t("y")]}function ZN(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((s||o||a)&&(r=`translate3d(${s}px, ${o}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:m,rotateY:g,skewX:x,skewY:w}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `),x&&(r+=`skewX(${x}deg) `),w&&(r+=`skewY(${w}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const qk=["TopLeft","TopRight","BottomLeft","BottomRight"],eM=qk.length,xx=t=>typeof t=="string"?parseFloat(t):t,vx=t=>typeof t=="number"||ee.test(t);function tM(t,e,n,r,s,o){s?(t.opacity=Je(0,n.opacity??1,nM(r)),t.opacityExit=Je(e.opacity??1,0,rM(r))):o&&(t.opacity=Je(e.opacity??1,n.opacity??1,r));for(let a=0;a<eM;a++){const c=`border${qk[a]}Radius`;let d=kx(e,c),f=kx(n,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||vx(d)===vx(f)?(t[c]=Math.max(Je(xx(d),xx(f),r),0),(qn.test(f)||qn.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=Je(e.rotate||0,n.rotate||0,r))}function kx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nM=Gk(0,.5,Fv),rM=Gk(.5,.95,wn);function Gk(t,e,n){return r=>r<t?0:r>e?1:n(sl(t,e,r))}function sM(t,e){const n=_t.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(Zr(r),t(o-e))};return He.setup(r,!0),()=>Zr(r)}function al(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function lc(t){return It(t)?t.get():t}function iM(t,e,n){const r=It(t)?t:Ii(t);return r.start(zp("",r,e,n)),r.animation}const oM=(t,e)=>t.depth-e.depth;class lM{constructor(){this.children=[],this.isDirty=!1}add(e){kp(this.children,e),this.isDirty=!0}remove(e){wp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oM),this.isDirty=!1,this.children.forEach(e)}}class aM{constructor(){this.members=[]}add(e){kp(this.members,e),e.scheduleRender()}remove(e){if(wp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1},jf=["","X","Y","Z"],cM=1e3;let uM=0;function Of(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Jk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=pk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",He,!(s||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Jk(r)}function Yk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(a={},c=e==null?void 0:e()){this.id=uM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hM),this.nodes.forEach(yM),this.nodes.forEach(xM),this.nodes.forEach(pM)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new lM)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Cp),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const d=this.eventHandlers.get(a);d&&d.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Ek(a)&&!fN(a),this.instance=a;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let p,m=0;const g=()=>this.root.updateBlockedByResize=!1;He.read(()=>{m=window.innerWidth}),t(a,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,p&&p(),p=sM(g,250),ac.hasAnimatedSinceResize&&(ac.hasAnimatedSinceResize=!1,this.nodes.forEach(bx)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||bM,{onLayoutAnimationStart:S,onLayoutAnimationComplete:b}=f.getProps(),T=!this.targetLayout||!Kk(this.targetLayout,x),N=!m&&g;if(this.options.layoutRoot||this.resumeFrom||N||m&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...Lp(w,"layout"),onPlay:S,onComplete:b};(f.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(p,N)}else m||bx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vM),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Jk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Sx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gM),this.nodes.forEach(dM),this.nodes.forEach(fM)):this.nodes.forEach(Sx),this.clearAllSnapshots();const c=_t.now();Et.delta=Gn(0,1e3/60,c-Et.timestamp),Et.timestamp=c,Et.isProcessing=!0,Tf.update.process(Et),Tf.preRender.process(Et),Tf.render.process(Et),Et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mM),this.sharedNodes.forEach(kM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,He.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){He.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ft(this.snapshot.measuredBox.x)&&!Ft(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!Wk(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;a&&this.instance&&(c||Es(this.latestValues)||p)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return a&&(d=this.removeTransform(d)),CM(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:a}=this.options;if(!a)return ft();const c=a.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(TM))){const{scroll:p}=this.root;p&&(Ai(c.x,p.offset.x),Ai(c.y,p.offset.y))}return c}removeElementScroll(a){var d;const c=ft();if(jn(c,a),(d=this.scroll)!=null&&d.wasRoot)return c;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:m,options:g}=p;p!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&jn(c,a),Ai(c.x,m.offset.x),Ai(c.y,m.offset.y))}return c}applyTransform(a,c=!1){const d=ft();jn(d,a);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Pi(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Es(p.latestValues)&&Pi(d,p.latestValues)}return Es(this.latestValues)&&Pi(d,this.latestValues),d}removeTransform(a){const c=ft();jn(c,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Es(f.latestValues))continue;Lh(f.latestValues)&&f.updateSnapshot();const p=ft(),m=f.measurePageBox();jn(p,m),ux(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Es(this.latestValues)&&ux(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var x;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!this.layout||!(p||m))return;this.resolvedRelativeTargetAt=Et.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jn(this.target,this.layout.layoutBox),jk(this.target,this.targetDelta)):jn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Lh(this.parent.latestValues)||Rk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,c,d){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),vc(this.relativeTargetOrigin,c,d),jn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var w;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Et.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;jn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;bN(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ft());const{target:x}=a;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fx(this.prevProjectionDelta.x,this.projectionDelta.x),fx(this.prevProjectionDelta.y,this.projectionDelta.y)),Ko(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!yx(this.projectionDelta.x,this.prevProjectionDelta.x)||!yx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),a){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mi(),this.projectionDelta=Mi(),this.projectionDeltaWithTransform=Mi()}setAnimationOrigin(a,c=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},m=Mi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=ft(),x=d?d.source:void 0,w=this.layout?this.layout.source:void 0,S=x!==w,b=this.getStack(),T=!b||b.members.length<=1,N=!!(S&&!T&&this.options.crossfade===!0&&!this.path.some(SM));this.animationProgress=0;let D;this.mixTargetDelta=V=>{const j=V/1e3;Cx(m.x,a.x,j),Cx(m.y,a.y,j),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vc(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wM(this.relativeTarget,this.relativeTargetOrigin,g,j),D&&QN(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=ft()),jn(D,this.relativeTarget)),S&&(this.animationValues=p,tM(p,f,this.latestValues,j,N,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var c,d,f;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(f=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=He.update(()=>{ac.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ii(0)),this.currentAnimation=iM(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),a.onUpdate&&a.onUpdate(p)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:p}=a;if(!(!c||!d||!f)){if(this!==a&&this.layout&&f&&Xk(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||ft();const m=Ft(this.layout.layoutBox.x);d.x.min=a.target.x.min,d.x.max=d.x.min+m;const g=Ft(this.layout.layoutBox.y);d.y.min=a.target.y.min,d.y.max=d.y.min+g}jn(c,d),Pi(c,p),Ko(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new aM),this.sharedNodes.get(a).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var c;const{layoutId:a}=this.options;return a?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:a}=this.options;return a?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:d}=a;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&Of("z",a,f,this.animationValues);for(let p=0;p<jf.length;p++)Of(`rotate${jf[p]}`,a,f,this.animationValues),Of(`skew${jf[p]}`,a,f,this.animationValues);a.render();for(const p in f)a.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);a.scheduleRender()}applyProjectionStyles(a,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=lc(c==null?void 0:c.pointerEvents)||"",a.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=lc(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Es(this.latestValues)&&(a.transform=d?d({},""):"none",this.hasProjected=!1);return}a.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let m=ZN(this.projectionDeltaWithTransform,this.treeScale,p);d&&(m=d(p,m)),a.transform=m;const{x:g,y:x}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,f.animationValues?a.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:a.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Bh){if(p[w]===void 0)continue;const{correct:S,applyTo:b,isCSSVariable:T}=Bh[w],N=m==="none"?p[w]:S(p[w],f);if(b){const D=b.length;for(let V=0;V<D;V++)a[b[V]]=N}else T?this.options.visualElement.renderState.vars[w]=N:a[w]=N}this.options.layoutId&&(a.pointerEvents=f===this?lc(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(wx),this.root.sharedNodes.clear()}}}function dM(t){t.updateLayout()}function fM(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,a=e.source!==t.layout.source;o==="size"?gn(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],x=Ft(g);g.min=r[m].min,g.max=g.min+x}):Xk(o,e.layoutBox,r)&&gn(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],x=Ft(r[m]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const c=Mi();Ko(c,r,e.layoutBox);const d=Mi();a?Ko(d,t.applyTransform(s,!0),e.measuredBox):Ko(d,r,e.layoutBox);const f=!Wk(c);let p=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:x}=m;if(g&&x){const w=ft();vc(w,e.layoutBox,g.layoutBox);const S=ft();vc(S,r,x.layoutBox),Kk(w,S)||(p=!0),m.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=w,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hM(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mM(t){t.clearSnapshot()}function wx(t){t.clearMeasurements()}function Sx(t){t.isLayoutDirty=!1}function gM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function bx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yM(t){t.resolveTargetDelta()}function xM(t){t.calcProjection()}function vM(t){t.resetSkewAndRotation()}function kM(t){t.removeLeadSnapshot()}function Cx(t,e,n){t.translate=Je(e.translate,0,n),t.scale=Je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Tx(t,e,n,r){t.min=Je(e.min,n.min,r),t.max=Je(e.max,n.max,r)}function wM(t,e,n,r){Tx(t.x,e.x,n.x,r),Tx(t.y,e.y,n.y,r)}function SM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bM={duration:.45,ease:[.4,0,.1,1]},Ex=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Nx=Ex("applewebkit/")&&!Ex("chrome/")?Math.round:wn;function Mx(t){t.min=Nx(t.min),t.max=Nx(t.max)}function CM(t){Mx(t.x),Mx(t.y)}function Xk(t,e,n){return t==="position"||t==="preserve-aspect"&&!qN(gx(e),gx(n),.2)}function TM(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const EM=Yk({attachResizeListener:(t,e)=>al(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),If={current:void 0},Qk=Yk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!If.current){const t=new EM({});t.mount(window),t.setOptions({layoutScroll:!0}),If.current=t}return If.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qp=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Ax(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function NM(...t){return e=>{let n=!1;const r=t.map(s=>{const o=Ax(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Ax(t[s],null)}}}}function MM(...t){return _.useCallback(NM(...t),t)}class AM extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=wk(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PM({children:t,isPresent:e,anchorX:n,root:r}){var p;const s=_.useId(),o=_.useRef(null),a=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=_.useContext(qp),d=((p=t.props)==null?void 0:p.ref)??(t==null?void 0:t.ref),f=MM(o,d);return _.useInsertionEffect(()=>{const{width:m,height:g,top:x,left:w,right:S}=a.current;if(e||!o.current||!m||!g)return;const b=n==="left"?`left: ${w}`:`right: ${S}`;o.current.dataset.motionPopId=s;const T=document.createElement("style");c&&(T.nonce=c);const N=r??document.head;return N.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${b}px !important;
            top: ${x}px !important;
          }
        `),()=>{N.contains(T)&&N.removeChild(T)}},[e]),v.jsx(AM,{isPresent:e,childRef:o,sizeRef:a,children:_.cloneElement(t,{ref:f})})}const DM=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:a,anchorX:c,root:d})=>{const f=vp(RM),p=_.useId();let m=!0,g=_.useMemo(()=>(m=!1,{id:p,initial:e,isPresent:n,custom:s,onExitComplete:x=>{f.set(x,!0);for(const w of f.values())if(!w)return;r&&r()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,r]);return o&&m&&(g={...g}),_.useMemo(()=>{f.forEach((x,w)=>f.set(w,!1))},[n]),_.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),a==="popLayout"&&(t=v.jsx(PM,{isPresent:n,anchorX:c,root:d,children:t})),v.jsx(fu.Provider,{value:g,children:t})};function RM(){return new Map}function Zk(t=!0){const e=_.useContext(fu);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,o=_.useId();_.useEffect(()=>{if(t)return s(o)},[t]);const a=_.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,a]:[!0]}const $a=t=>t.key||"";function Px(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const jM=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:o="sync",propagate:a=!1,anchorX:c="left",root:d})=>{const[f,p]=Zk(a),m=_.useMemo(()=>Px(t),[t]),g=a&&!f?[]:m.map($a),x=_.useRef(!0),w=_.useRef(m),S=vp(()=>new Map),b=_.useRef(new Set),[T,N]=_.useState(m),[D,V]=_.useState(m);Pv(()=>{x.current=!1,w.current=m;for(let B=0;B<D.length;B++){const F=$a(D[B]);g.includes(F)?(S.delete(F),b.current.delete(F)):S.get(F)!==!0&&S.set(F,!1)}},[D,g.length,g.join("-")]);const j=[];if(m!==T){let B=[...m];for(let F=0;F<D.length;F++){const te=D[F],ue=$a(te);g.includes(ue)||(B.splice(F,0,te),j.push(te))}return o==="wait"&&j.length&&(B=j),V(Px(B)),N(m),null}const{forceRender:z}=_.useContext(xp);return v.jsx(v.Fragment,{children:D.map(B=>{const F=$a(B),te=a&&!f?!1:m===D||g.includes(F),ue=()=>{if(b.current.has(F))return;if(b.current.add(F),S.has(F))S.set(F,!0);else return;let Ae=!0;S.forEach(Ne=>{Ne||(Ae=!1)}),Ae&&(z==null||z(),V(w.current),a&&(p==null||p()),r&&r())};return v.jsx(DM,{isPresent:te,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:d,onExitComplete:te?void 0:ue,anchorX:c,children:B},F)})})},ew=_.createContext({strict:!1}),Dx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Rx=!1;function OM(){if(Rx)return;const t={};for(const e in Dx)t[e]={isEnabled:n=>Dx[e].some(r=>!!n[r])};Ak(t),Rx=!0}function tw(){return OM(),vN()}function IM(t){const e=tw();for(const n in t)e[n]={...e[n],...t[n]};Ak(e)}const LM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||LM.has(t)}let nw=t=>!kc(t);function zM(t){typeof t=="function"&&(nw=e=>e.startsWith("on")?!kc(e):t(e))}try{zM(require("@emotion/is-prop-valid").default)}catch{}function BM(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(nw(s)||n===!0&&kc(s)||!e&&!kc(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const mu=_.createContext({});function VM(t,e){if(pu(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ll(n)?n:void 0,animate:ll(r)?r:void 0}}return t.inherit!==!1?e:{}}function _M(t){const{initial:e,animate:n}=VM(t,_.useContext(mu));return _.useMemo(()=>({initial:e,animate:n}),[jx(e),jx(n)])}function jx(t){return Array.isArray(t)?t.join(" "):t}const Gp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rw(t,e,n){for(const r in e)!It(e[r])&&!Lk(r,n)&&(t[r]=e[r])}function FM({transformTemplate:t},e){return _.useMemo(()=>{const n=Gp();return Wp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $M(t,e){const n=t.style||{},r={};return rw(r,n,t),Object.assign(r,FM(t,e)),r}function HM(t,e){const n={},r=$M(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const sw=()=>({...Gp(),attrs:{}});function UM(t,e,n,r){const s=_.useMemo(()=>{const o=sw();return zk(o,e,Vk(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};rw(o,t.style,t),s.style={...o,...s.style}}return s}const WM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jp(t){return typeof t!="string"||t.includes("-")?!1:!!(WM.indexOf(t)>-1||/[A-Z]/u.test(t))}function KM(t,e,n,{latestValues:r},s,o=!1,a){const d=(a??Jp(t)?UM:HM)(e,r,s,t),f=BM(e,typeof t=="string",o),p=t!==_.Fragment?{...f,...d,ref:n}:{},{children:m}=e,g=_.useMemo(()=>It(m)?m.get():m,[m]);return _.createElement(t,{...p,children:g})}function qM({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:GM(n,r,s,t),renderState:e()}}function GM(t,e,n,r){const s={},o=r(t,{});for(const g in o)s[g]=lc(o[g]);let{initial:a,animate:c}=t;const d=pu(t),f=Mk(t);e&&f&&!d&&t.inherit!==!1&&(a===void 0&&(a=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||a===!1;const m=p?c:a;if(m&&typeof m!="boolean"&&!hu(m)){const g=Array.isArray(m)?m:[m];for(let x=0;x<g.length;x++){const w=Bp(t,g[x]);if(w){const{transitionEnd:S,transition:b,...T}=w;for(const N in T){let D=T[N];if(Array.isArray(D)){const V=p?D.length-1:0;D=D[V]}D!==null&&(s[N]=D)}for(const N in S)s[N]=S[N]}}}return s}const iw=t=>(e,n)=>{const r=_.useContext(mu),s=_.useContext(fu),o=()=>qM(t,e,r,s);return n?o():vp(o)},JM=iw({scrapeMotionValuesFromProps:Kp,createRenderState:Gp}),YM=iw({scrapeMotionValuesFromProps:_k,createRenderState:sw}),XM=Symbol.for("motionComponentSymbol");function QM(t,e,n){const r=_.useRef(n);_.useInsertionEffect(()=>{r.current=n});const s=_.useRef(null);return _.useCallback(o=>{var c;o&&((c=t.onMount)==null||c.call(t,o)),e&&(o?e.mount(o):e.unmount());const a=r.current;if(typeof a=="function")if(o){const d=a(o);typeof d=="function"&&(s.current=d)}else s.current?(s.current(),s.current=null):a(o);else a&&(a.current=o)},[e])}const ow=_.createContext({});function Vo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZM(t,e,n,r,s,o){var b,T;const{visualElement:a}=_.useContext(mu),c=_.useContext(ew),d=_.useContext(fu),f=_.useContext(qp).reducedMotion,p=_.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f,isSVG:o}));const m=p.current,g=_.useContext(ow);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&e3(p.current,n,s,g);const x=_.useRef(!1);_.useInsertionEffect(()=>{m&&x.current&&m.update(n,d)});const w=n[hk],S=_.useRef(!!w&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,w))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,w)));return Pv(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),_.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,w)}),S.current=!1),m.enteringChildren=void 0)}),m}function e3(t,e,n,r){const{layoutId:s,layout:o,drag:a,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:lw(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!a||c&&Vo(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:f})}function lw(t){if(t)return t.options.allowProjection!==!1?t.projection:lw(t.parent)}function Lf(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&IM(r);const o=n?n==="svg":Jp(t),a=o?YM:JM;function c(f,p){let m;const g={..._.useContext(qp),...f,layoutId:t3(f)},{isStatic:x}=g,w=_M(f),S=a(f,x);if(!x&&Av){n3();const b=r3(g);m=b.MeasureLayout,w.visualElement=ZM(t,S,g,s,b.ProjectionNode,o)}return v.jsxs(mu.Provider,{value:w,children:[m&&w.visualElement?v.jsx(m,{visualElement:w.visualElement,...g}):null,KM(t,f,QM(S,w.visualElement,p),S,x,e,o)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=_.forwardRef(c);return d[XM]=t,d}function t3({layoutId:t}){const e=_.useContext(xp).id;return e&&t!==void 0?e+"-"+t:t}function n3(t,e){_.useContext(ew).strict}function r3(t){const e=tw(),{drag:n,layout:r}=e;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function s3(t,e){if(typeof Proxy>"u")return Lf;const n=new Map,r=(o,a)=>Lf(o,a,t,e),s=(o,a)=>r(o,a);return new Proxy(s,{get:(o,a)=>a==="create"?r:(n.has(a)||n.set(a,Lf(a,void 0,t,e)),n.get(a))})}const i3=(t,e)=>e.isSVG??Jp(t)?new LN(e):new PN(e,{allowProjection:t!==_.Fragment});class o3 extends rs{constructor(e){super(e),e.animationState||(e.animationState=FN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let l3=0;class a3 extends rs{constructor(){super(...arguments),this.id=l3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const c3={animation:{Feature:o3},exit:{Feature:a3}};function Cl(t){return{point:{x:t.pageX,y:t.pageY}}}const u3=t=>e=>$p(e)&&t(e,Cl(e));function qo(t,e,n,r){return al(t,e,u3(n),r)}const aw=({current:t})=>t?t.ownerDocument.defaultView:null,Ox=(t,e)=>Math.abs(t-e);function d3(t,e){const n=Ox(t.x,e.x),r=Ox(t.y,e.y);return Math.sqrt(n**2+r**2)}const Ix=new Set(["auto","scroll"]);class cw{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:a=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Bf(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=d3(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!S)return;const{point:b}=x,{timestamp:T}=Et;this.history.push({...b,timestamp:T});const{onStart:N,onMove:D}=this.handlers;w||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,x)},this.handlePointerMove=(x,w)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=zf(w,this.transformPagePoint),He.update(this.updatePoint,!0)},this.handlePointerUp=(x,w)=>{this.end();const{onEnd:S,onSessionEnd:b,resumeAnimation:T}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Bf(x.type==="pointercancel"?this.lastMoveEventInfo:zf(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,N),b&&b(x,N)},!$p(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=s||window;const d=Cl(e),f=zf(d,this.transformPagePoint),{point:p}=f,{timestamp:m}=Et;this.history=[{...p,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Bf(f,this.history)),this.removeListeners=wl(qo(this.contextWindow,"pointermove",this.handlePointerMove),qo(this.contextWindow,"pointerup",this.handlePointerUp),qo(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(Ix.has(r.overflowX)||Ix.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:s.x-n.x,y:s.y-n.y};o.x===0&&o.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,s),He.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Zr(this.updatePoint)}}function zf(t,e){return e?{point:e(t.point)}:t}function Lx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bf({point:t},e){return{point:t,delta:Lx(t,uw(e)),offset:Lx(t,f3(e)),velocity:h3(e,.1)}}function f3(t){return t[0]}function uw(t){return t[t.length-1]}function h3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=uw(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>dr(e)));)n--;if(!r)return{x:0,y:0};const o=kn(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function p3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Je(n,t,r.max):Math.min(t,n)),t}function zx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function m3(t,{top:e,left:n,bottom:r,right:s}){return{x:zx(t.x,n,s),y:zx(t.y,e,r)}}function Bx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function g3(t,e){return{x:Bx(t.x,e.x),y:Bx(t.y,e.y)}}function y3(t,e){let n=.5;const r=Ft(t),s=Ft(e);return s>r?n=sl(e.min,e.max-r,t.min):r>s&&(n=sl(t.min,t.max-s,e.min)),Gn(0,1,n)}function x3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Vh=.35;function v3(t=Vh){return t===!1?t=0:t===!0&&(t=Vh),{x:Vx(t,"left","right"),y:Vx(t,"top","bottom")}}function Vx(t,e,n){return{min:_x(t,e),max:_x(t,n)}}function _x(t,e){return typeof t=="number"?t:t[e]||0}const k3=new WeakMap;class w3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=m=>{n?(this.stopAnimation(),this.snapToCursor(Cl(m).point)):this.pauseAnimation()},a=(m,g)=>{this.stopAnimation();const{drag:x,dragPropagation:w,onDragStart:S}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lN(x),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gn(T=>{let N=this.getAxisMotionValue(T).get()||0;if(qn.test(N)){const{projection:D}=this.visualElement;if(D&&D.layout){const V=D.layout.layoutBox[T];V&&(N=Ft(V)*(parseFloat(N)/100))}}this.originPoint[T]=N}),S&&He.postRender(()=>S(m,g)),Rh(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:S,onDrag:b}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:T}=g;if(w&&this.currentDirection===null){this.currentDirection=S3(T),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,T),this.updateAxis("y",g.point,T),this.visualElement.render(),b&&b(m,g)},d=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>gn(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new cw(e,{onSessionStart:o,onStart:a,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:aw(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&He.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Ha(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=p3(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&Vo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=m3(r.layoutBox,e):this.constraints=!1,this.elastic=v3(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&gn(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=x3(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Vo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=CN(r,s.root,this.visualElement.getTransformPagePoint());let a=g3(s.layout.layoutBox,o);if(n){const c=n(wN(a));this.hasMutatedConstraints=!!c,c&&(a=Dk(c))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=gn(p=>{if(!Ha(p,n,this.currentDirection))return;let m=d&&d[p]||{};a&&(m={min:0,max:0});const g=s?200:1e6,x=s?40:1e7,w={type:"inertia",velocity:r?e[p]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(p,w)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Rh(this.visualElement,e),r.start(zp(e,r,0,n,this.visualElement,!1))}stopAnimation(){gn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){gn(n=>{const{drag:r}=this.getProps();if(!Ha(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:a,max:c}=s.layout.layoutBox[n],d=o.get()||0;o.set(e[n]-Je(a,c,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Vo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};gn(a=>{const c=this.getAxisMotionValue(a);if(c&&this.constraints!==!1){const d=c.get();s[a]=y3({min:d,max:d},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gn(a=>{if(!Ha(a,e,null))return;const c=this.getAxisMotionValue(a),{min:d,max:f}=this.constraints[a];c.set(Je(d,f,s[a]))})}addListeners(){if(!this.visualElement.current)return;k3.set(this.visualElement,this);const e=this.visualElement.current,n=qo(e,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&!Tk(d.target)&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Vo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),He.read(r);const a=al(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(gn(p=>{const m=this.getAxisMotionValue(p);m&&(this.originPoint[p]+=d[p].translate,m.set(m.get()+d[p].translate))}),this.visualElement.render())}));return()=>{a(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=Vh,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:c}}}function Ha(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function S3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class b3 extends rs{constructor(e){super(e),this.removeGroupControls=wn,this.removeListeners=wn,this.controls=new w3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const Fx=t=>(e,n)=>{t&&He.postRender(()=>t(e,n))};class C3 extends rs{constructor(){super(...arguments),this.removePointerDownListener=wn}onPointerDown(e){this.session=new cw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Fx(e),onStart:Fx(n),onMove:r,onEnd:(o,a)=>{delete this.session,s&&He.postRender(()=>s(o,a))}}}mount(){this.removePointerDownListener=qo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Vf=!1;class T3 extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),Vf&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,{projection:a}=r;return a&&(a.isPresent=o,Vf=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||He.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;Vf=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dw(t){const[e,n]=Zk(),r=_.useContext(xp);return v.jsx(T3,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(ow),isPresent:e,safeToRemove:n})}const E3={pan:{Feature:C3},drag:{Feature:b3,ProjectionNode:Qk,MeasureLayout:dw}};function $x(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,o=r[s];o&&He.postRender(()=>o(e,Cl(e)))}class N3 extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=aN(e,(n,r)=>($x(this.node,r,"Start"),s=>$x(this.node,s,"End"))))}unmount(){}}class M3 extends rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wl(al(this.node.current,"focus",()=>this.onFocus()),al(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Hx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),o=r[s];o&&He.postRender(()=>o(e,Cl(e)))}class A3 extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=dN(e,(n,r)=>(Hx(this.node,r,"Start"),(s,{success:o})=>Hx(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _h=new WeakMap,_f=new WeakMap,P3=t=>{const e=_h.get(t.target);e&&e(t)},D3=t=>{t.forEach(P3)};function R3({root:t,...e}){const n=t||document;_f.has(n)||_f.set(n,{});const r=_f.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(D3,{root:t,...e})),r[s]}function j3(t,e,n){const r=R3(e);return _h.set(t,n),r.observe(t),()=>{_h.delete(t),r.unobserve(t)}}const O3={some:0,all:1};class I3 extends rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:O3[s]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:m}=this.node.getProps(),g=f?p:m;g&&g(d)};return j3(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(L3(e,n))&&this.startObserver()}unmount(){}}function L3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const z3={inView:{Feature:I3},tap:{Feature:A3},focus:{Feature:M3},hover:{Feature:N3}},B3={layout:{ProjectionNode:Qk,MeasureLayout:dw}},V3={...c3,...z3,...E3,...B3},$r=s3(V3,i3);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _3={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e,n,r)=>{const s=_.forwardRef(({color:o="currentColor",size:a=24,stroke:c=2,title:d,className:f,children:p,...m},g)=>_.createElement("svg",{ref:g,..._3[t],width:a,height:a,className:["tabler-icon",`tabler-icon-${e}`,f].join(" "),strokeWidth:c,stroke:o,...m},[d&&_.createElement("title",{key:"svg-title"},d),...r.map(([x,w])=>_.createElement(x,w)),...Array.isArray(p)?p:[p]]));return s.displayName=`${n}`,s};/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"M12 6a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M6 12a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M15 18a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]],$3=xe("outline","adjustments-horizontal","AdjustmentsHorizontal",F3);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],U3=xe("outline","alert-circle","AlertCircle",H3);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]],fw=xe("outline","arrow-left","ArrowLeft",W3);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],wc=xe("outline","arrow-right","ArrowRight",K3);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M3 9l4 -4l4 4m-4 -4v14",key:"svg-0"}],["path",{d:"M21 15l-4 4l-4 -4m4 4v-14",key:"svg-1"}]],Ua=xe("outline","arrows-sort","ArrowsSort",q3);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6",key:"svg-0"}],["path",{d:"M9 17v1a3 3 0 0 0 6 0v-1",key:"svg-1"}]],J3=xe("outline","bell","Bell",G3);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]],X3=xe("outline","book","Book",Y3);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M3 13a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v6a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -6",key:"svg-0"}],["path",{d:"M15 9a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v10a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -10",key:"svg-1"}],["path",{d:"M9 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -14",key:"svg-2"}],["path",{d:"M4 20h14",key:"svg-3"}]],Z3=xe("outline","chart-bar","ChartBar",Q3);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],t5=xe("outline","check","Check",e5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],hw=xe("outline","chevron-down","ChevronDown",n5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],s5=xe("outline","chevron-left","ChevronLeft",r5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],o5=xe("outline","chevron-right","ChevronRight",i5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 5a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2",key:"svg-1"}],["path",{d:"M9 14l2 2l4 -4",key:"svg-2"}]],a5=xe("outline","clipboard-check","ClipboardCheck",l5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]],u5=xe("outline","clock","Clock",c5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M13 12v.01",key:"svg-0"}],["path",{d:"M3 21h18",key:"svg-1"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5",key:"svg-2"}],["path",{d:"M14 7h7m-3 -3l3 3l-3 3",key:"svg-3"}]],f5=xe("outline","door-exit","DoorExit",d5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]],p5=xe("outline","eye","Eye",h5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2",key:"svg-1"}],["path",{d:"M9 9l1 0",key:"svg-2"}],["path",{d:"M9 13l6 0",key:"svg-3"}],["path",{d:"M9 17l6 0",key:"svg-4"}]],g5=xe("outline","file-text","FileText",m5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M12 10.941c2.333 -3.308 .167 -7.823 -1 -8.941c0 3.395 -2.235 5.299 -3.667 6.706c-1.43 1.408 -2.333 3.294 -2.333 5.588c0 3.704 3.134 6.706 7 6.706c3.866 0 7 -3.002 7 -6.706c0 -1.712 -1.232 -4.403 -2.333 -5.588c-2.084 3.353 -3.257 3.353 -4.667 2.235",key:"svg-0"}]],x5=xe("outline","flame","Flame",y5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2",key:"svg-0"}]],Ux=xe("outline","folder","Folder",v5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M4 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -4",key:"svg-0"}],["path",{d:"M14 5a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -4",key:"svg-1"}],["path",{d:"M4 15a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -4",key:"svg-2"}],["path",{d:"M14 15a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1l0 -4",key:"svg-3"}]],Fh=xe("outline","layout-grid","LayoutGrid",k5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M12 3a9 9 0 1 0 9 9",key:"svg-0"}]],pw=xe("outline","loader-2","Loader2",w5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12",key:"svg-2"}]],b5=xe("outline","message","Message",S5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["path",{d:"M9 5a3 3 0 0 1 3 -3a3 3 0 0 1 3 3v5a3 3 0 0 1 -3 3a3 3 0 0 1 -3 -3l0 -5",key:"svg-0"}],["path",{d:"M5 10a7 7 0 0 0 14 0",key:"svg-1"}],["path",{d:"M8 21l8 0",key:"svg-2"}],["path",{d:"M12 17l0 4",key:"svg-3"}]],T5=xe("outline","microphone","Microphone",C5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M12 21a9 9 0 1 1 0 -18a9 9 0 0 1 0 18",key:"svg-0"}],["path",{d:"M8 9l2 1",key:"svg-1"}],["path",{d:"M16 9l-2 1",key:"svg-2"}],["path",{d:"M14.5 16.05a3.5 3.5 0 0 0 -5 0",key:"svg-3"}]],Wx=xe("outline","mood-angry","MoodAngry",E5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 9l.01 0",key:"svg-1"}],["path",{d:"M15 9l.01 0",key:"svg-2"}],["path",{d:"M8 13a4 4 0 1 0 8 0h-8",key:"svg-3"}]],M5=xe("outline","mood-happy","MoodHappy",N5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 10l.01 0",key:"svg-1"}],["path",{d:"M15 10l.01 0",key:"svg-2"}]],Kx=xe("outline","mood-neutral","MoodNeutral",A5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 10l.01 0",key:"svg-1"}],["path",{d:"M15 10l.01 0",key:"svg-2"}],["path",{d:"M9.5 15.25a3.5 3.5 0 0 1 5 0",key:"svg-3"}]],D5=xe("outline","mood-sad","MoodSad",P5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]],Cs=xe("outline","pencil","Pencil",R5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=[["path",{d:"M3 21l18 -18",key:"svg-0"}],["path",{d:"M5.831 14.161a15.946 15.946 0 0 1 -2.831 -8.161a2 2 0 0 1 2 -2h4l2 5l-2.5 1.5c.108 .22 .223 .435 .345 .645m1.751 2.277c.843 .84 1.822 1.544 2.904 2.078l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a15.963 15.963 0 0 1 -10.344 -4.657",key:"svg-1"}]],O5=xe("outline","phone-off","PhoneOff",j5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]],L5=xe("outline","photo","Photo",I5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M5 7a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2l0 -10",key:"svg-0"}]],qx=xe("outline","player-stop","PlayerStop",z5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]],Ns=xe("outline","plus","Plus",B5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]],_5=xe("outline","refresh","Refresh",V5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M3 10a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],mw=xe("outline","search","Search",F5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]],gw=xe("outline","settings","Settings",$5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M9 9v6",key:"svg-0"}],["path",{d:"M12 11v2a2 2 0 1 0 4 0v-2a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M3 12v.01",key:"svg-2"}],["path",{d:"M21 12v.01",key:"svg-3"}],["path",{d:"M12 21v.01",key:"svg-4"}],["path",{d:"M7.5 4.2v.01",key:"svg-5"}],["path",{d:"M16.5 19.8v.01",key:"svg-6"}],["path",{d:"M7.5 19.8v.01",key:"svg-7"}],["path",{d:"M4.2 16.5v.01",key:"svg-8"}],["path",{d:"M19.8 16.5v.01",key:"svg-9"}],["path",{d:"M4.2 7.5v.01",key:"svg-10"}],["path",{d:"M19.81 7.527a8.994 8.994 0 0 0 -7.81 -4.527",key:"svg-11"}]],U5=xe("outline","time-duration-10","TimeDuration10",H5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]],K5=xe("outline","trash","Trash",W5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-1"}],["path",{d:"M19 22v-6",key:"svg-2"}],["path",{d:"M22 19l-3 -3l-3 3",key:"svg-3"}]],G5=xe("outline","user-up","UserUp",q5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]],Wa=xe("outline","user","User",J5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M5 7a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]],yw=xe("outline","users","Users",Y5);/**
 * @license @tabler/icons-react v3.36.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],Ff=xe("outline","x","X",X5);function Q5({onNavigateToRoleplay:t,onNavigateToSimulation:e,attachedRoleplays:n=[]}){const[r,s]=_.useState(!1),o=a=>n.some(c=>c.workflowName===a);return v.jsx("div",{className:"flex-1 bg-[#fcfcfd] flex flex-col overflow-hidden",children:v.jsxs("div",{className:"flex flex-col gap-[16px] items-start p-[24px] flex-1 overflow-auto",children:[v.jsxs("div",{className:"content-stretch flex flex-col gap-[16px] items-start relative shrink-0 w-full",children:[v.jsx("h1",{className:"font-['Inter:Bold',sans-serif] font-bold leading-[30px] not-italic text-[#3d3c52] text-[22px]",children:"Workflows"}),v.jsxs("div",{className:"content-stretch flex gap-[16px] items-center justify-between relative shrink-0 w-full",children:[v.jsxs("div",{className:"flex gap-[16px]",children:[v.jsx("button",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#6b697b] text-[14px] hover:text-[#3d3c52]",children:"Draft"}),v.jsxs("button",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] not-italic text-[#0975d7] text-[14px] relative",children:["Ready",v.jsx("div",{className:"absolute bottom-[-8px] left-0 right-0 h-[2px] bg-[#0975d7]"})]}),v.jsx("button",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#6b697b] text-[14px] hover:text-[#3d3c52]",children:"Production"})]}),v.jsxs("div",{className:"flex gap-[12px] items-center",children:[v.jsxs("div",{className:"relative",children:[v.jsxs("button",{className:"bg-[#0975d7] content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] hover:bg-[#0861b8] transition-colors",onClick:()=>s(!r),children:[v.jsx(Ns,{className:"size-[16px] text-white",stroke:2}),v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[14px] text-center text-nowrap text-white",children:"Create"})]}),r&&v.jsxs("div",{className:"absolute right-0 top-[calc(100%+4px)] bg-white rounded-[8px] shadow-[0px_4px_12px_rgba(0,0,0,0.15)] py-[4px] min-w-[160px] z-50",children:[v.jsxs("button",{className:"flex items-center gap-[8px] px-[16px] py-[10px] w-full hover:bg-[#f5f5f5] transition-colors",onClick:()=>{s(!1),t()},children:[v.jsx(yw,{className:"size-[16px] text-[#3d3c52]",stroke:2}),v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Roleplay"})]}),v.jsxs("button",{className:"flex items-center gap-[8px] px-[16px] py-[10px] w-full hover:bg-[#f5f5f5] transition-colors",onClick:()=>{s(!1),e()},children:[v.jsx(Ux,{className:"size-[16px] text-[#3d3c52]",stroke:2}),v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic text-[#3d3c52] text-[14px]",children:"Simulation"})]})]})]}),v.jsxs("button",{className:"content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[12px] py-[10px] relative rounded-[4px] border border-[#d7d6d1] hover:bg-[#f5f5f5] transition-colors",children:[v.jsx(mw,{className:"size-[16px] text-[#3d3c52]",stroke:2}),v.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] not-italic text-[#6b697b] text-[14px]",children:"Search folder"})]}),v.jsx("button",{className:"content-stretch flex items-center justify-center overflow-clip p-[10px] relative rounded-[4px] border border-[#d7d6d1] hover:bg-[#f5f5f5] transition-colors",children:v.jsx($3,{className:"size-[20px] text-[#3d3c52]",stroke:2})}),v.jsx("button",{className:"content-stretch flex items-center justify-center overflow-clip p-[10px] relative rounded-[4px] border border-[#d7d6d1] hover:bg-[#f5f5f5] transition-colors",children:v.jsx(Fh,{className:"size-[20px] text-[#3d3c52]",stroke:2})})]})]})]}),v.jsx("div",{className:"flex-1 w-full overflow-auto",children:v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b border-[#ececf3]",children:[v.jsx("th",{className:"text-left p-[16px] font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] text-[#3d3c52] text-[14px]",children:v.jsxs("div",{className:"flex items-center gap-[4px]",children:["Name",v.jsx(Ua,{className:"size-[16px] text-[#6b697b]",stroke:1.5})]})}),v.jsx("th",{className:"text-left p-[16px] font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] text-[#3d3c52] text-[14px]",children:v.jsxs("div",{className:"flex items-center gap-[4px]",children:["Type",v.jsx(Ua,{className:"size-[16px] text-[#6b697b]",stroke:1.5})]})}),v.jsx("th",{className:"text-left p-[16px] font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] text-[#3d3c52] text-[14px]",children:v.jsxs("div",{className:"flex items-center gap-[4px]",children:["Created by",v.jsx(Ua,{className:"size-[16px] text-[#6b697b]",stroke:1.5})]})}),v.jsx("th",{className:"text-left p-[16px] font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] text-[#3d3c52] text-[14px]",children:v.jsxs("div",{className:"flex items-center gap-[4px]",children:["Last updated on",v.jsx(Ua,{className:"size-[16px] text-[#6b697b]",stroke:1.5})]})})]})}),v.jsx("tbody",{children:[{name:"H2 2025 Learning",count:"7",type:"Simulation",creator:"Mark S",updated:"Simulation",isWorkflow:!1},{name:"Guidewire environment 2",count:"5",type:"Simulation",creator:"Ann Perkins",updated:"Simulation",isWorkflow:!1},{name:"Guidewire workflow list archive 2",count:"9",type:"Simulation",creator:"Ann Perkins",updated:"Simulation",isWorkflow:!1},{name:"New claim | Guidewire 2",count:"5",type:"Workflow",creator:"Juliette Nichols",updated:"Simulation",isWorkflow:!0}].map((a,c)=>v.jsxs("tr",{className:"border-b border-[#ececf3] hover:bg-[#f9f9f9]",children:[v.jsx("td",{className:"p-[16px]",children:v.jsxs("div",{className:"flex items-center gap-[12px]",children:[v.jsx("input",{type:"checkbox",className:"size-[16px] rounded border-[#d7d6d1]"}),a.isWorkflow?v.jsx("div",{className:"flex items-center justify-center size-[16px]",children:v.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#6b697b",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),v.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),v.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),v.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}):v.jsx(Ux,{className:"size-[16px] text-[#6b697b]",stroke:2}),v.jsx("span",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:a.name}),v.jsx("span",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#6b697b] text-[14px]",children:a.count}),o(a.name)&&v.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-[#ecfdf5] text-[#059669] text-xs font-medium",children:[v.jsx(_5,{className:"size-3",stroke:2}),"Roleplay enabled"]})]})}),v.jsx("td",{className:"p-[16px]",children:v.jsx("span",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:a.type})}),v.jsx("td",{className:"p-[16px]",children:v.jsx("span",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:a.creator})}),v.jsx("td",{className:"p-[16px]",children:v.jsx("span",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:a.updated})})]},c))})]})}),v.jsxs("div",{className:"flex items-center justify-between w-full",children:[v.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#6b697b] text-[14px]",children:"Rows 1-15 of 120"}),v.jsxs("div",{className:"flex items-center gap-[8px]",children:[v.jsx("button",{className:"p-[8px] hover:bg-[#f5f5f5] rounded",children:v.jsx(s5,{className:"size-[16px] text-[#3d3c52]",stroke:2})}),v.jsx("button",{className:"px-[12px] py-[8px] font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px] hover:bg-[#f5f5f5] rounded",children:"1"}),v.jsx("button",{className:"px-[12px] py-[8px] font-['Inter:Regular',sans-serif] font-semibold leading-[20px] text-white text-[14px] bg-[#0975d7] rounded",children:"2"}),v.jsx("button",{className:"px-[12px] py-[8px] font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px] hover:bg-[#f5f5f5] rounded",children:"3"}),v.jsx("span",{className:"px-[12px] py-[8px] font-['Inter:Regular',sans-serif] leading-[20px] text-[#6b697b] text-[14px]",children:"..."}),v.jsx("button",{className:"px-[12px] py-[8px] font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px] hover:bg-[#f5f5f5] rounded",children:"21"}),v.jsx("button",{className:"p-[8px] hover:bg-[#f5f5f5] rounded",children:v.jsx(o5,{className:"size-[16px] text-[#3d3c52]",stroke:2})})]})]})]})})}function Z5({onBack:t,onSwitchToPrompt:e,onGenerateScenario:n}){const[r,s]=_.useState(null),[o,a]=_.useState(null),[c,d]=_.useState(""),[f,p]=_.useState(!1),m=_.useRef({}),[g,x]=_.useState({trainee:"Customer support executives",customerName:"Alex",emotion:"Frustrated",scenario:"they want a full refund for a product they bought",objective:"De-escalate the situation",criteria1:"Empathy",criteria2:"De-escalation",criteria3:"Policy adherence",modality:"Audio call",difficulty:"High"}),w={trainee:["Customer support executives","Sales executives","Managers","Technical support team","Add custom..."],customerName:["Alex","Jordan","Sam","Taylor","Morgan","Add custom..."],emotion:["Frustrated","Angry","Confused","Disappointed","Anxious","Add custom..."],scenario:["they want a full refund for a product they bought","their order was delayed","they received a damaged product","they can't access their account","Add custom..."],objective:["De-escalate the situation","Resolve the complaint","Upsell additional services","Gather customer feedback","Add custom..."],criteria1:["Empathy","Active listening","Problem-solving","Communication","Add custom..."],criteria2:["De-escalation","Conflict resolution","Patience","Professionalism","Add custom..."],criteria3:["Policy adherence","Product knowledge","Time management","Documentation","Add custom..."],modality:["Audio call","Video call","Chat","Email","Add custom..."],difficulty:["Low","Medium","High"]},S=(N,D)=>{D==="Add custom..."?(a(N),d("")):(x({...g,[N]:D}),s(null))},b=N=>{c.trim()&&(x({...g,[N]:c.trim()}),s(null),a(null),d(""))},T=({field:N,value:D,options:V})=>{const j=_.useRef(null);return _.useEffect(()=>{const z=B=>{j.current&&!j.current.contains(B.target)&&r===N&&(s(null),a(null),d(""))};if(r===N)return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[r,N]),v.jsxs("div",{className:"relative inline-block",ref:j,children:[v.jsx("button",{onClick:()=>{s(r===N?null:N),a(null),d("")},className:"flex flex-col justify-center relative shrink-0 text-[#3d3c52] text-[0px] hover:text-[#0975d7] transition-colors",children:v.jsx("p",{className:"[text-decoration-skip-ink:none] [text-underline-position:from-font] decoration-dotted font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[20px] not-italic text-[16px] text-nowrap underline",children:D})}),r===N&&v.jsx("div",{className:"absolute left-0 top-[calc(100%+4px)] bg-white rounded-[8px] shadow-[0px_4px_12px_rgba(0,0,0,0.15)] py-[4px] min-w-[200px] max-w-[400px] z-50",children:o===N?v.jsxs("div",{className:"flex flex-col gap-[8px] px-[16px] py-[10px] w-full",children:[v.jsx("input",{type:"text",value:c,onChange:z=>d(z.target.value),onKeyDown:z=>{z.key==="Enter"?b(N):z.key==="Escape"&&(a(null),d(""))},className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px] border border-[#d7d6d1] rounded-[4px] px-[12px] py-[8px] outline-none focus:border-[#0975d7]",placeholder:"Enter custom value",autoFocus:!0}),v.jsxs("div",{className:"flex gap-[8px] justify-end",children:[v.jsx("button",{onClick:()=>{a(null),d("")},className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-[#6b697b] text-[14px] px-[12px] py-[6px] rounded-[4px] hover:bg-[#f5f5f5] transition-colors",children:"Cancel"}),v.jsx("button",{onClick:()=>b(N),className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-white text-[14px] bg-[#0975d7] px-[12px] py-[6px] rounded-[4px] hover:bg-[#0861b8] transition-colors",children:"Add"})]})]}):V.map((z,B)=>v.jsx("button",{className:"flex items-center px-[16px] py-[10px] w-full hover:bg-[#f5f5f5] transition-colors text-left",onClick:()=>S(N,z),children:v.jsx("p",{className:"font-['Inter:Regular',sans-serif] leading-[20px] text-[#3d3c52] text-[14px]",children:z})},B))})]})};return _.useEffect(()=>{const N=m.current[r||""];N&&N.scrollIntoView({behavior:"smooth",block:"nearest"})},[r]),v.jsx("div",{className:"flex-1 bg-[#fcfcfd] flex flex-col overflow-hidden",children:v.jsxs("div",{className:"flex flex-col gap-[12px] items-start p-[16px] flex-1 overflow-auto",children:[v.jsxs("div",{className:"content-stretch flex gap-[16px] items-start justify-between relative shrink-0 w-full",children:[v.jsxs("div",{className:"content-stretch flex gap-[12px] items-center relative shrink-0",children:[v.jsx("button",{onClick:t,className:"flex items-center justify-center p-[8px] rounded-[4px] hover:bg-[#f5f5f5] transition-colors","aria-label":"Go back",children:v.jsx(fw,{className:"size-[20px] text-[#3d3c52]",stroke:2})}),v.jsx("p",{className:"font-['Inter:Bold',sans-serif] font-bold leading-[30px] not-italic relative shrink-0 text-[#3d3c52] text-[22px] text-nowrap",children:"Roleplay"})]}),v.jsx("div",{className:"basis-0 content-stretch flex gap-[602px] grow items-start justify-end min-h-px min-w-px relative shrink-0",children:v.jsx("button",{onClick:t,className:"content-stretch flex flex-col gap-[6px] items-start relative shrink-0 hover:opacity-80 transition-opacity",children:v.jsx("p",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[24px] not-italic relative shrink-0 text-[#0975d7] text-[16px] text-nowrap",children:"All existing roleplays"})})})]}),v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full relative",children:[v.jsx("div",{"aria-hidden":"true",className:"absolute border-[#ececf3] border-[1px_0px_0px] border-solid inset-0 pointer-events-none"}),v.jsxs("div",{className:"flex flex-col gap-[12px] items-start relative w-[590px]",children:[v.jsxs("div",{className:"flex gap-[8px] items-center bg-white rounded-[8px] p-[4px] border border-[#ececf3] w-fit",children:[v.jsx($r.button,{onClick:()=>{},className:"px-[16px] py-[8px] rounded-[6px] font-['Inter:Semi_Bold',sans-serif] font-semibold text-[14px] text-[#3d3c52] bg-[#f0f0f0] transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Scenario builder"}),v.jsx($r.button,{onClick:e,className:"px-[16px] py-[8px] rounded-[6px] font-['Inter:Medium',sans-serif] font-medium text-[14px] text-[#6b697b] hover:text-[#3d3c52] hover:bg-[#f5f5f5] transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Prompt"})]}),v.jsxs($r.div,{className:"content-stretch flex flex-col gap-[24px] items-start relative shrink-0 w-full pb-[8px] mt-[16px]",initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2,ease:[.4,0,.2,1]},children:[v.jsxs("div",{className:"content-start flex flex-wrap font-['Inter:Semi_Bold',sans-serif] font-semibold gap-[6px_8px] items-start leading-[0] not-italic relative shrink-0 text-nowrap w-full",children:[v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#6b697b] text-[16px]",children:v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-nowrap",children:"I want to train"})}),v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#3d3c52] text-[0px]",children:v.jsx(T,{field:"trainee",value:g.trainee,options:w.trainee})}),v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#6b697b] text-[16px]",children:v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-nowrap",children:"The customer is"})}),v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#3d3c52] text-[0px]",children:v.jsx(T,{field:"customerName",value:g.customerName,options:w.customerName})}),v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#6b697b] text-[16px]",children:v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-nowrap",children:"Who is"})}),v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#3d3c52] text-[0px]",children:v.jsx(T,{field:"emotion",value:g.emotion,options:w.emotion})}),v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#6b697b] text-[16px]",children:v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-nowrap",children:"because"})}),v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#3d3c52] text-[0px]",children:v.jsx(T,{field:"scenario",value:g.scenario,options:w.scenario})})]}),v.jsxs("div",{className:"content-start flex flex-wrap gap-[6px_8px] items-start leading-[0] not-italic relative shrink-0 text-nowrap w-full mt-[4px]",children:[v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#6b697b] text-[16px]",children:v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-nowrap",children:"The learner should"})}),v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#3d3c52] text-[0px]",children:v.jsx(T,{field:"objective",value:g.objective,options:w.objective})})]}),v.jsxs("div",{className:"content-start flex flex-wrap gap-[6px_8px] items-start leading-[0] not-italic relative shrink-0 text-nowrap w-full mt-[4px]",children:[v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#6b697b] text-[16px]",children:v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-nowrap",children:"Evaluate on"})}),v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#3d3c52] text-[0px]",children:v.jsx(T,{field:"criteria1",value:g.criteria1,options:w.criteria1})}),v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#3d3c52] text-[0px]",children:v.jsx(T,{field:"criteria2",value:g.criteria2,options:w.criteria2})}),v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#6b697b] text-[16px]",children:v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-nowrap",children:"&"})}),v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#3d3c52] text-[0px]",children:v.jsx(T,{field:"criteria3",value:g.criteria3,options:w.criteria3})})]}),v.jsxs("div",{className:"content-start flex flex-wrap gap-[6px_8px] items-start leading-[0] not-italic relative shrink-0 text-nowrap w-full mt-[4px]",children:[v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#6b697b] text-[16px]",children:v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-nowrap",children:"The modality is"})}),v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#3d3c52] text-[0px]",children:v.jsx(T,{field:"modality",value:g.modality,options:w.modality})})]}),v.jsxs("div",{className:"content-start flex flex-wrap gap-[6px_8px] items-start leading-[0] not-italic relative shrink-0 text-nowrap w-full mt-[4px]",children:[v.jsx("div",{className:"flex flex-col justify-center relative shrink-0 text-[#6b697b] text-[16px]",children:v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-nowrap",children:"The difficulty level should be"})}),v.jsx("div",{className:"flex flex-col justify-center overflow-ellipsis overflow-hidden relative shrink-0 text-[#3d3c52] text-[0px]",children:v.jsx(T,{field:"difficulty",value:g.difficulty,options:w.difficulty})})]}),v.jsx("button",{className:"bg-[#c74900] content-stretch flex gap-[8px] items-center justify-center overflow-clip px-[16px] py-[10px] relative rounded-[4px] shrink-0 hover:bg-[#b04200] transition-colors disabled:opacity-70 disabled:cursor-not-allowed mt-[4px]",onClick:()=>{p(!0),n()},disabled:f,children:f?v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[14px] text-center text-nowrap text-white",children:"Generating scenario"}),v.jsx(pw,{className:"size-[20px] text-white animate-spin",stroke:2})]}):v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[14px] text-center text-nowrap text-white",children:"Generate detailed scenario"}),v.jsx(wc,{className:"size-[20px] text-white",stroke:2})]})})]})]})]})]})})}const eA=[{title:"Customer Service",content:"Create a training scenario for customer service representatives to handle an angry customer who wants to return a product but doesn't have a receipt. The customer should be frustrated and the representative needs to de-escalate the situation while following company policies."},{title:"Sales Training",content:"Design a roleplay scenario where a sales executive needs to upsell additional services to a customer who is already interested in the base product. The customer should be price-conscious and the executive needs to demonstrate value without being pushy."},{title:"Technical Support",content:"Build a scenario for technical support staff to help a confused customer troubleshoot a software issue. The customer has limited technical knowledge and the support agent needs to explain steps clearly and patiently."},{title:"Conflict Resolution",content:"Create a training scenario for managers to mediate a conflict between two team members. One team member feels their work is being undermined while the other believes they're just trying to help. The manager needs to facilitate a productive conversation."},{title:"Product Demo",content:"Design a roleplay where a sales representative needs to demonstrate a new product feature to a skeptical customer. The customer has concerns about complexity and the representative needs to show how the feature solves their specific problem."}];function tA({onBack:t,onSwitchToBuilder:e,onGenerateScenario:n}){const[r,s]=_.useState(""),[o,a]=_.useState(!1),c=f=>{s(f)},d=()=>{r.trim()&&!o&&(a(!0),setTimeout(()=>{n()},2e3))};return v.jsx("div",{className:"flex-1 bg-[#fcfcfd] flex flex-col overflow-hidden",children:v.jsxs("div",{className:"flex flex-col gap-[12px] items-start p-[16px] flex-1 overflow-auto",children:[v.jsxs("div",{className:"content-stretch flex gap-[16px] items-start justify-between relative shrink-0 w-full",children:[v.jsxs("div",{className:"content-stretch flex gap-[12px] items-center relative shrink-0",children:[v.jsx("button",{onClick:t,className:"flex items-center justify-center p-[8px] rounded-[4px] hover:bg-[#f5f5f5] transition-colors","aria-label":"Go back",children:v.jsx(fw,{className:"size-[20px] text-[#3d3c52]",stroke:2})}),v.jsx("p",{className:"font-['Inter:Bold',sans-serif] font-bold leading-[30px] not-italic relative shrink-0 text-[#3d3c52] text-[22px] text-nowrap",children:"Roleplay"})]}),v.jsx("div",{className:"basis-0 content-stretch flex gap-[602px] grow items-start justify-end min-h-px min-w-px relative shrink-0",children:v.jsx("button",{onClick:t,className:"content-stretch flex flex-col gap-[6px] items-start relative shrink-0 hover:opacity-80 transition-opacity",children:v.jsx("p",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[24px] not-italic relative shrink-0 text-[#0975d7] text-[16px] text-nowrap",children:"All existing roleplays"})})})]}),v.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center w-full relative",children:[v.jsx("div",{"aria-hidden":"true",className:"absolute border-[#ececf3] border-[1px_0px_0px] border-solid inset-0 pointer-events-none"}),v.jsxs("div",{className:"flex flex-col gap-[12px] items-start relative w-[590px]",children:[v.jsxs("div",{className:"flex gap-[8px] items-center bg-white rounded-[8px] p-[4px] border border-[#ececf3] w-fit",children:[v.jsx($r.button,{onClick:e,className:"px-[16px] py-[8px] rounded-[6px] font-['Inter:Medium',sans-serif] font-medium text-[14px] text-[#6b697b] hover:text-[#3d3c52] hover:bg-[#f5f5f5] transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Scenario builder"}),v.jsx($r.button,{onClick:()=>{},className:"px-[16px] py-[8px] rounded-[6px] font-['Inter:Semi_Bold',sans-serif] font-semibold text-[14px] text-[#3d3c52] bg-[#f0f0f0] transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Prompt"})]}),v.jsx($r.div,{className:"content-stretch flex flex-col items-start relative shrink-0 w-full mt-[16px]",initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2,ease:[.4,0,.2,1]},children:v.jsxs("div",{className:"bg-white relative rounded-[12px] shrink-0 w-full",children:[v.jsx("div",{"aria-hidden":"true",className:"absolute border border-[#dfdde7] border-solid inset-0 pointer-events-none rounded-[12px] shadow-[0px_12px_12px_0px_rgba(0,0,0,0.04)]"}),v.jsxs("div",{className:"content-stretch flex flex-col gap-[8px] items-start px-[16px] py-[12px] relative w-full",children:[v.jsx("div",{className:"relative shrink-0 w-full",children:v.jsx("div",{className:"flex flex-row items-center size-full",children:v.jsx("div",{className:"content-stretch flex items-center px-[8px] py-[12px] relative w-full",children:v.jsx("textarea",{value:r,onChange:f=>s(f.target.value),className:"basis-0 font-['Inter:Regular',sans-serif] grow leading-[20px] min-h-[60px] min-w-px not-italic relative shrink-0 text-[#3d3c52] text-[14px] border-none outline-none resize-none bg-transparent w-full placeholder:text-[#8c899f]",placeholder:"For eg. Make learners learn about how to handle an angry customer who is not able to return a product item"})})})}),v.jsxs("div",{className:"content-stretch flex items-start justify-between relative shrink-0 w-full",children:[v.jsxs("div",{className:"content-stretch flex gap-[8px] items-center relative shrink-0 w-[180px]",children:[v.jsx("div",{className:"content-stretch flex items-center relative shrink-0",children:v.jsx("button",{className:"bg-[#f6f6f9] content-stretch flex items-center overflow-clip p-[8px] relative rounded-[24px] shrink-0 hover:bg-[#ececf3] transition-colors",children:v.jsx("div",{className:"relative shrink-0 size-[20px]",children:v.jsx(Ns,{className:"size-[20px] text-[#8C899F]",stroke:2.5})})})}),v.jsx("div",{className:"content-stretch flex items-center relative shrink-0",children:v.jsx("button",{className:"bg-[#f6f6f9] content-stretch flex items-center overflow-clip p-[8px] relative rounded-[24px] shrink-0 hover:bg-[#ececf3] transition-colors",children:v.jsx("div",{className:"relative shrink-0 size-[20px]",children:v.jsx(T5,{className:"size-[20px] text-[#8C899F]",stroke:2.5})})})})]}),v.jsx("div",{className:"content-stretch flex gap-[8px] items-center relative shrink-0",children:v.jsx("button",{onClick:d,className:`content-stretch flex items-center overflow-clip p-[8px] relative rounded-[24px] shrink-0 transition-all ${r.trim()&&!o?"bg-[#0975d7] hover:bg-[#0861b8] cursor-pointer":"bg-[#d0d0d0] hover:bg-[#c0c0c0] cursor-not-allowed opacity-50"}`,disabled:!r.trim()||o,children:v.jsx("div",{className:"relative shrink-0 size-[20px]",children:o?v.jsx(pw,{className:"size-[20px] text-white animate-spin",stroke:2.5}):v.jsx(wc,{className:`size-[20px] ${r.trim()?"text-white":"text-[#8C899F]"}`,stroke:2.5})})})})]})]})]})}),v.jsxs($r.div,{className:"content-stretch flex flex-col gap-[12px] items-start relative shrink-0 w-full mt-[24px] pb-[8px]",initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2,ease:[.4,0,.2,1]},children:[v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-[#6b697b] text-[14px]",children:"Prompt Templates"}),v.jsx("div",{className:"flex flex-wrap gap-[8px] items-start relative w-full",children:eA.map((f,p)=>v.jsx($r.button,{onClick:()=>c(f.content),className:"bg-white border border-[#ececf3] rounded-[8px] px-[12px] py-[8px] hover:bg-[#f5f5f5] hover:border-[#0975d7] transition-all text-left",whileHover:{scale:1.02},whileTap:{scale:.98},children:v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] text-[#3d3c52] text-[14px]",children:f.title})},p))})]})]})]})]})})}const nA="/assets/Alex-DaADlV7i.png";var rA=Mv();const sA=Nv(rA);var $f={exports:{}},Hf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function iA(){if(Gx)return Hf;Gx=1;var t=kl();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,o=t.useLayoutEffect,a=t.useDebugValue;function c(m,g){var x=g(),w=r({inst:{value:x,getSnapshot:g}}),S=w[0].inst,b=w[1];return o(function(){S.value=x,S.getSnapshot=g,d(S)&&b({inst:S})},[m,x,g]),s(function(){return d(S)&&b({inst:S}),m(function(){d(S)&&b({inst:S})})},[m]),a(x),x}function d(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!n(m,x)}catch{return!0}}function f(m,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Hf.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Hf}var Jx;function xw(){return Jx||(Jx=1,$f.exports=iA()),$f.exports}var vw=xw();function Tt(t){this.content=t}Tt.prototype={constructor:Tt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),o=r.content.slice();return s==-1?o.push(n||t,e):(o[s+1]=e,n&&(o[s]=n)),new Tt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Tt(n)},addToStart:function(t,e){return new Tt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Tt(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),o=r.find(t);return s.splice(o==-1?s.length:o,0,e,n),new Tt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Tt.from(t),t.size?new Tt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Tt.from(t),t.size?new Tt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Tt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Tt.from=function(t){if(t instanceof Tt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Tt(e)};function kw(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),o=e.child(r);if(s==o){n+=s.nodeSize;continue}if(!s.sameMarkup(o))return n;if(s.isText&&s.text!=o.text){for(let a=0;s.text[a]==o.text[a];a++)n++;return n}if(s.content.size||o.content.size){let a=kw(s.content,o.content,n+1);if(a!=null)return a}n+=s.nodeSize}}function ww(t,e,n,r){for(let s=t.childCount,o=e.childCount;;){if(s==0||o==0)return s==o?null:{a:n,b:r};let a=t.child(--s),c=e.child(--o),d=a.nodeSize;if(a==c){n-=d,r-=d;continue}if(!a.sameMarkup(c))return{a:n,b:r};if(a.isText&&a.text!=c.text){let f=0,p=Math.min(a.text.length,c.text.length);for(;f<p&&a.text[a.text.length-f-1]==c.text[c.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(a.content.size||c.content.size){let f=ww(a.content,c.content,n-1,r-1);if(f)return f}n-=d,r-=d}}class K{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,o){for(let a=0,c=0;c<n;a++){let d=this.content[a],f=c+d.nodeSize;if(f>e&&r(d,s+c,o||null,a)!==!1&&d.content.size){let p=c+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,s+p)}c=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let o="",a=!0;return this.nodesBetween(e,n,(c,d)=>{let f=c.isText?c.text.slice(Math.max(e,d)-d,n-d):c.isLeaf?s?typeof s=="function"?s(c):s:c.type.spec.leafText?c.type.spec.leafText(c):"":"";c.isBlock&&(c.isLeaf&&f||c.isTextblock)&&r&&(a?a=!1:o+=r),o+=f},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)s.push(e.content[o]);return new K(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let o=0,a=0;a<n;o++){let c=this.content[o],d=a+c.nodeSize;d>e&&((a<e||d>n)&&(c.isText?c=c.cut(Math.max(0,e-a),Math.min(c.text.length,n-a)):c=c.cut(Math.max(0,e-a-1),Math.min(c.content.size,n-a-1))),r.push(c),s+=c.nodeSize),a=d}return new K(r,s)}cutByIndex(e,n){return e==n?K.empty:e==0&&n==this.content.length?this:new K(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new K(s,o)}addToStart(e){return new K([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new K(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return kw(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return ww(this,e,n,r)}findIndex(e){if(e==0)return Ka(0,e);if(e==this.size)return Ka(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),o=r+s.nodeSize;if(o>=e)return o==e?Ka(n+1,o):Ka(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return K.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new K(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return K.empty;let n,r=0;for(let s=0;s<e.length;s++){let o=e[s];r+=o.nodeSize,s&&o.isText&&e[s-1].sameMarkup(o)?(n||(n=e.slice(0,s)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new K(n||e,r)}static from(e){if(!e)return K.empty;if(e instanceof K)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new K([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}K.empty=new K([],0);const Uf={index:0,offset:0};function Ka(t,e){return Uf.index=t,Uf.offset=e,Uf}function Sc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Sc(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Sc(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Be=class $h{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let o=e[s];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,s));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Sc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let s=r.create(n.attrs);return r.checkAttrs(s.attrs),s}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return $h.none;if(e instanceof $h)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};Be.none=[];class bc extends Error{}class Z{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=bw(this.content,e+this.openStart,n);return r&&new Z(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Z(Sw(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Z.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Z(K.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)s++;return new Z(e,r,s)}}Z.empty=new Z(K.empty,0,0);function Sw(t,e,n){let{index:r,offset:s}=t.findIndex(e),o=t.maybeChild(r),{index:a,offset:c}=t.findIndex(n);if(s==e||o.isText){if(c!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(Sw(o.content,e-s-1,n-s-1)))}function bw(t,e,n,r){let{index:s,offset:o}=t.findIndex(e),a=t.maybeChild(s);if(o==e||a.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=bw(a.content,e-o-1,n,a);return c&&t.replaceChild(s,a.copy(c))}function oA(t,e,n){if(n.openStart>t.depth)throw new bc("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new bc("Inconsistent open depths");return Cw(t,e,n,0)}function Cw(t,e,n,r){let s=t.index(r),o=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let a=Cw(t,e,n,r+1);return o.copy(o.content.replaceChild(s,a))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let a=t.parent,c=a.content;return zs(a,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:a,end:c}=lA(n,t);return zs(o,Ew(t,a,c,e,r))}else return zs(o,Cc(t,e,r))}function Tw(t,e){if(!e.type.compatibleContent(t.type))throw new bc("Cannot join "+e.type.name+" onto "+t.type.name)}function Hh(t,e,n){let r=t.node(n);return Tw(r,e.node(n)),r}function Ls(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Go(t,e,n,r){let s=(e||t).node(n),o=0,a=e?e.index(n):s.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Ls(t.nodeAfter,r),o++));for(let c=o;c<a;c++)Ls(s.child(c),r);e&&e.depth==n&&e.textOffset&&Ls(e.nodeBefore,r)}function zs(t,e){return t.type.checkContent(e),t.copy(e)}function Ew(t,e,n,r,s){let o=t.depth>s&&Hh(t,e,s+1),a=r.depth>s&&Hh(n,r,s+1),c=[];return Go(null,t,s,c),o&&a&&e.index(s)==n.index(s)?(Tw(o,a),Ls(zs(o,Ew(t,e,n,r,s+1)),c)):(o&&Ls(zs(o,Cc(t,e,s+1)),c),Go(e,n,s,c),a&&Ls(zs(a,Cc(n,r,s+1)),c)),Go(r,null,s,c),new K(c)}function Cc(t,e,n){let r=[];if(Go(null,t,n,r),t.depth>n){let s=Hh(t,e,n+1);Ls(zs(s,Cc(t,e,n+1)),r)}return Go(e,null,n,r),new K(r)}function lA(t,e){let n=e.depth-t.openStart,s=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)s=e.node(o).copy(K.from(s));return{start:s.resolveNoCache(t.openStart+n),end:s.resolveNoCache(s.content.size-t.openEnd-n)}}class cl{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)s+=r.child(o).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Be.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let c=r;r=s,s=c}let o=r.marks;for(var a=0;a<o.length;a++)o[a].type.spec.inclusive===!1&&(!s||!o[a].isInSet(s.marks))&&(o=o[a--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!s||!r[o].isInSet(s.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Tc(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,o=n;for(let a=e;;){let{index:c,offset:d}=a.content.findIndex(o),f=o-d;if(r.push(a,c,s+d),!f||(a=a.child(c),a.isText))break;o=f-1,s+=d+1}return new cl(n,r,o)}static resolveCached(e,n){let r=Yx.get(e);if(r)for(let o=0;o<r.elts.length;o++){let a=r.elts[o];if(a.pos==n)return a}else Yx.set(e,r=new aA);let s=r.elts[r.i]=cl.resolve(e,n);return r.i=(r.i+1)%cA,s}}class aA{constructor(){this.elts=[],this.i=0}}const cA=12,Yx=new WeakMap;class Tc{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const uA=Object.create(null);class zn{constructor(e,n,r,s=Be.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||K.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Sc(this.attrs,n||e.defaultAttrs||uA)&&Be.sameSet(this.marks,r||Be.none)}copy(e=null){return e==this.content?this:new zn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new zn(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Z.empty;let s=this.resolve(e),o=this.resolve(n),a=r?0:s.sharedDepth(n),c=s.start(a),f=s.node(a).content.cut(s.pos-c,o.pos-c);return new Z(f,s.depth-a,o.depth-a)}replace(e,n,r){return oA(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return cl.resolveCached(this,e)}resolveNoCache(e){return cl.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Nw(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=K.empty,s=0,o=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,s,o),c=a&&a.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let d=s;d<o;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let o=this.contentMatchAt(e).matchType(r),a=o&&o.matchFragment(this.content,n);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Be.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Be.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=K.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,s,r);return o.type.checkAttrs(o.attrs),o}}zn.prototype.text=void 0;class Ec extends zn{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Nw(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ec(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ec(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Nw(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class $s{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new dA(e,n);if(r.next==null)return $s.empty;let s=Mw(r);r.next&&r.err("Unexpected trailing text");let o=xA(yA(s));return vA(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let o=n;s&&o<r;o++)s=s.matchType(e.child(o).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function o(a,c){let d=a.matchFragment(e,r);if(d&&(!n||d.validEnd))return K.from(c.map(f=>f.createAndFill()));for(let f=0;f<a.next.length;f++){let{type:p,next:m}=a.next[f];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let g=o(m,c.concat(p));if(g)return g}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),o=s.match;if(o.matchType(e)){let a=[];for(let c=s;c.type;c=c.via)a.push(c.type);return a.reverse()}for(let a=0;a<o.next.length;a++){let{type:c,next:d}=o.next[a];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!s.type||d.validEnd)&&(r.push({match:c.contentMatch,type:c,via:s}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let o=s+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)o+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return o}).join(`
`)}}$s.empty=new $s(!0);class dA{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Mw(t){let e=[];do e.push(fA(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function fA(t){let e=[];do e.push(hA(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function hA(t){let e=gA(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=pA(t,e);else break;return e}function Xx(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function pA(t,e){let n=Xx(t),r=n;return t.eat(",")&&(t.next!="}"?r=Xx(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function mA(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let o in n){let a=n[o];a.isInGroup(e)&&s.push(a)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function gA(t){if(t.eat("(")){let e=Mw(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=mA(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function yA(t){let e=[[]];return s(o(t,0),n()),e;function n(){return e.push([])-1}function r(a,c,d){let f={term:d,to:c};return e[a].push(f),f}function s(a,c){a.forEach(d=>d.to=c)}function o(a,c){if(a.type=="choice")return a.exprs.reduce((d,f)=>d.concat(o(f,c)),[]);if(a.type=="seq")for(let d=0;;d++){let f=o(a.exprs[d],c);if(d==a.exprs.length-1)return f;s(f,c=n())}else if(a.type=="star"){let d=n();return r(c,d),s(o(a.expr,d),d),[r(d)]}else if(a.type=="plus"){let d=n();return s(o(a.expr,c),d),s(o(a.expr,d),d),[r(d)]}else{if(a.type=="opt")return[r(c)].concat(o(a.expr,c));if(a.type=="range"){let d=c;for(let f=0;f<a.min;f++){let p=n();s(o(a.expr,d),p),d=p}if(a.max==-1)s(o(a.expr,d),d);else for(let f=a.min;f<a.max;f++){let p=n();r(d,p),s(o(a.expr,d),p),d=p}return[r(d)]}else{if(a.type=="name")return[r(c,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Aw(t,e){return e-t}function Qx(t,e){let n=[];return r(e),n.sort(Aw);function r(s){let o=t[s];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(s);for(let a=0;a<o.length;a++){let{term:c,to:d}=o[a];!c&&n.indexOf(d)==-1&&r(d)}}}function xA(t){let e=Object.create(null);return n(Qx(t,0));function n(r){let s=[];r.forEach(a=>{t[a].forEach(({term:c,to:d})=>{if(!c)return;let f;for(let p=0;p<s.length;p++)s[p][0]==c&&(f=s[p][1]);Qx(t,d).forEach(p=>{f||s.push([c,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let o=e[r.join(",")]=new $s(r.indexOf(t.length-1)>-1);for(let a=0;a<s.length;a++){let c=s[a][1].sort(Aw);o.next.push({type:s[a][0],next:e[c.join(",")]||n(c)})}return o}}function vA(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],o=!s.validEnd,a=[];for(let c=0;c<s.next.length;c++){let{type:d,next:f}=s.next[c];a.push(d.name),o&&!(d.isText||d.hasRequiredAttrs())&&(o=!1),r.indexOf(f)==-1&&r.push(f)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Pw(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Dw(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let o=t[r];if(o.hasDefault)s=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function Rw(t,e,n,r){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${n} of type ${s}`);for(let s in t){let o=t[s];o.validate&&o.validate(e[s])}}function jw(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new wA(t,r,e[r]);return n}let Zx=class Ow{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=jw(e,r.attrs),this.defaultAttrs=Pw(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==$s.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Dw(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new zn(this,this.computeAttrs(e),K.from(n),Be.setFrom(r))}createChecked(e=null,n,r){return n=K.from(n),this.checkContent(n),new zn(this,this.computeAttrs(e),n,Be.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=K.from(n),n.size){let a=this.contentMatch.fillBefore(n);if(!a)return null;n=a.append(n)}let s=this.contentMatch.matchFragment(n),o=s&&s.fillBefore(K.empty,!0);return o?new zn(this,e,n.append(o),Be.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Rw(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Be.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,a)=>r[o]=new Ow(o,n,a));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function kA(t,e,n){let r=n.split("|");return s=>{let o=s===null?"null":typeof s;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class wA{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?kA(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class gu{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=jw(e,s.attrs),this.excluded=null;let o=Pw(this.attrs);this.instance=o?new Be(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Be(this,Dw(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((o,a)=>r[o]=new gu(o,s++,n,a)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Rw(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Iw{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Tt.from(e.nodes),n.marks=Tt.from(e.marks||{}),this.nodes=Zx.compile(this.spec.nodes,this),this.marks=gu.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let o=this.nodes[s],a=o.spec.content||"",c=o.spec.marks;if(o.contentMatch=r[a]||(r[a]=$s.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=c=="_"?null:c?e1(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let s in this.marks){let o=this.marks[s],a=o.spec.excludes;o.excluded=a==null?[o]:a==""?[]:e1(this,a.split(" "))}this.nodeFromJSON=s=>zn.fromJSON(this,s),this.markFromJSON=s=>Be.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Zx){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Ec(r,r.defaultAttrs,e,Be.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function e1(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],o=t.marks[s],a=o;if(o)n.push(o);else for(let c in t.marks){let d=t.marks[c];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&n.push(a=d)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function SA(t){return t.tag!=null}function bA(t){return t.style!=null}class Jr{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(s=>{if(SA(s))this.tags.push(s);else if(bA(s)){let o=/[^=]*/.exec(s.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let o=e.nodes[s.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new n1(this,n,!1);return r.addAll(e,Be.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new n1(this,n,!0);return r.addAll(e,Be.none,n.from,n.to),Z.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let o=this.tags[s];if(EA(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let a=o.getAttrs(e);if(a===!1)continue;o.attrs=a||void 0}return o}}}matchStyle(e,n,r,s){for(let o=s?this.styles.indexOf(s)+1:0;o<this.styles.length;o++){let a=this.styles[o],c=a.style;if(!(c.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(a.getAttrs){let d=a.getAttrs(n);if(d===!1)continue;a.attrs=d||void 0}return a}}}static schemaRules(e){let n=[];function r(s){let o=s.priority==null?50:s.priority,a=0;for(;a<n.length;a++){let c=n[a];if((c.priority==null?50:c.priority)<o)break}n.splice(a,0,s)}for(let s in e.marks){let o=e.marks[s].spec.parseDOM;o&&o.forEach(a=>{r(a=r1(a)),a.mark||a.ignore||a.clearMark||(a.mark=s)})}for(let s in e.nodes){let o=e.nodes[s].spec.parseDOM;o&&o.forEach(a=>{r(a=r1(a)),a.node||a.ignore||a.mark||(a.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Jr(e,Jr.schemaRules(e)))}}const Lw={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},CA={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},zw={ol:!0,ul:!0},ul=1,Uh=2,Jo=4;function t1(t,e,n){return e!=null?(e?ul:0)|(e==="full"?Uh:0):t&&t.whitespace=="pre"?ul|Uh:n&~Jo}class qa{constructor(e,n,r,s,o,a){this.type=e,this.attrs=n,this.marks=r,this.solid=s,this.options=a,this.content=[],this.activeMarks=Be.none,this.match=o||(a&Jo?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(K.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ul)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-s[0].length))}}let n=K.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Lw.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class n1{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let s=n.topNode,o,a=t1(null,n.preserveWhitespace,0)|(r?Jo:0);s?o=new qa(s.type,s.attrs,Be.none,!0,n.topMatch||s.type.contentMatch,a):r?o=new qa(null,null,Be.none,!0,null,a):o=new qa(e.schema.topNodeType,null,Be.none,!0,null,a),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,s=this.top,o=s.options&Uh?"full":this.localPreserveWS||(s.options&ul)>0,{schema:a}=this.parser;if(o==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let c=r.split(/\r?\n|\r/);for(let d=0;d<c.length;d++)d&&this.insertNode(a.linebreakReplacement.create(),n,!0),c[d]&&this.insertNode(a.text(c[d]),n,!/\S/.test(c[d]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let c=s.content[s.content.length-1],d=e.previousSibling;(!c||d&&d.nodeName=="BR"||c.isText&&/[ \t\r\n\u000c]$/.test(c.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),n,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let s=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),c;zw.hasOwnProperty(a)&&this.parser.normalizeLists&&TA(e);let d=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(c=this.parser.matchTag(e,this,r));e:if(d?d.ignore:CA.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,n);else if(!d||d.skip||d.closeParent){d&&d.closeParent?this.open=Math.max(0,this.open-1):d&&d.skip.nodeType&&(e=d.skip);let f,p=this.needsBlock;if(Lw.hasOwnProperty(a))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),f=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let m=d&&d.skip?n:this.readStyles(e,n);m&&this.addAll(e,m),f&&this.sync(o),this.needsBlock=p}else{let f=this.readStyles(e,n);f&&this.addElementByRule(e,d,f,d.consuming===!1?c:void 0)}this.localPreserveWS=s}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let o=this.parser.matchedStyles[s],a=r.getPropertyValue(o);if(a)for(let c=void 0;;){let d=this.parser.matchStyle(o,a,this,c);if(!d)break;if(d.ignore)return null;if(d.clearMark?n=n.filter(f=>!d.clearMark(f)):n=n.concat(this.parser.schema.marks[d.mark].create(d.attrs)),d.consuming===!1)c=d;else break}}return n}addElementByRule(e,n,r,s){let o,a;if(n.node)if(a=this.parser.schema.nodes[n.node],a.isLeaf)this.insertNode(a.create(n.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let d=this.enter(a,n.attrs||null,r,n.preserveWhitespace);d&&(o=!0,r=d)}else{let d=this.parser.schema.marks[n.mark];r=r.concat(d.create(n.attrs))}let c=this.top;if(a&&a.isLeaf)this.findInside(e);else if(s)this.addElement(e,r,s);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d,r,!1));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d,r),this.findAround(e,d,!1)}o&&this.sync(c)&&this.open--}addAll(e,n,r,s){let o=r||0;for(let a=r?e.childNodes[r]:e.firstChild,c=s==null?null:e.childNodes[s];a!=c;a=a.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(a,n);this.findAtPoint(e,o)}findPlace(e,n,r){let s,o;for(let a=this.open,c=0;a>=0;a--){let d=this.nodes[a],f=d.findWrapping(e);if(f&&(!s||s.length>f.length+c)&&(s=f,o=d,!f.length))break;if(d.solid){if(r)break;c+=2}}if(!s)return null;this.sync(o);for(let a=0;a<s.length;a++)n=this.enterInner(s[a],null,n,!1);return n}insertNode(e,n,r){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let s=this.findPlace(e,n,r);if(s){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let a=Be.none;for(let c of s.concat(e.marks))(o.type?o.type.allowsMarkType(c.type):s1(c.type,e.type))&&(a=c.addToSet(a));return o.content.push(e.mark(a)),!0}return!1}enter(e,n,r,s){let o=this.findPlace(e.create(n),r,!1);return o&&(o=this.enterInner(e,n,r,!0,s)),o}enterInner(e,n,r,s=!1,o){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let c=t1(e,o,a.options);a.options&Jo&&a.content.length==0&&(c|=Jo);let d=Be.none;return r=r.filter(f=>(a.type?a.type.allowsMarkType(f.type):s1(f.type,e))?(d=f.addToSet(d),!1):!0),this.nodes.push(new qa(e,n,d,s,null,c)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=ul)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(s?0:1),a=(c,d)=>{for(;c>=0;c--){let f=n[c];if(f==""){if(c==n.length-1||c==0)continue;for(;d>=o;d--)if(a(c-1,d))return!0;return!1}else{let p=d>0||d==0&&s?this.nodes[d].type:r&&d>=o?r.node(d-o).type:null;if(!p||p.name!=f&&!p.isInGroup(f))return!1;d--}}return!0};return a(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function TA(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&zw.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function EA(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function r1(t){let e={};for(let n in t)e[n]=t[n];return e}function s1(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let o=[],a=c=>{o.push(c);for(let d=0;d<c.edgeCount;d++){let{type:f,next:p}=c.edge(d);if(f==e||o.indexOf(p)<0&&a(p))return!0}};if(a(s.contentMatch))return!0}}class qs{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Wf(n).createDocumentFragment());let s=r,o=[];return e.forEach(a=>{if(o.length||a.marks.length){let c=0,d=0;for(;c<o.length&&d<a.marks.length;){let f=a.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(o[c][0])||f.type.spec.spanning===!1)break;c++,d++}for(;c<o.length;)s=o.pop()[1];for(;d<a.marks.length;){let f=a.marks[d++],p=this.serializeMark(f,a.isInline,n);p&&(o.push([f,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(a,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=cc(Wf(n),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let o=this.serializeMark(e.marks[s],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&cc(Wf(r),s(e,n),null,e.attrs)}static renderSpec(e,n,r=null,s){return cc(e,n,r,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new qs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=i1(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return i1(e.marks)}}function i1(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Wf(t){return t.document||window.document}const o1=new WeakMap;function NA(t){let e=o1.get(t);return e===void 0&&o1.set(t,e=MA(t)),e}function MA(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let s=0;s<r.length;s++)n(r[s]);else for(let s in r)n(r[s])}return n(t),e}function cc(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],o;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=NA(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=s.indexOf(" ");a>0&&(n=s.slice(0,a),s=s.slice(a+1));let c,d=n?t.createElementNS(n,s):t.createElement(s),f=e[1],p=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){p=2;for(let m in f)if(f[m]!=null){let g=m.indexOf(" ");g>0?d.setAttributeNS(m.slice(0,g),m.slice(g+1),f[m]):m=="style"&&d.style?d.style.cssText=f[m]:d.setAttribute(m,f[m])}}for(let m=p;m<e.length;m++){let g=e[m];if(g===0){if(m<e.length-1||m>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}else{let{dom:x,contentDOM:w}=cc(t,g,n,r);if(d.appendChild(x),w){if(c)throw new RangeError("Multiple content holes");c=w}}}return{dom:d,contentDOM:c}}const Bw=65535,Vw=Math.pow(2,16);function AA(t,e){return t+e*Vw}function l1(t){return t&Bw}function PA(t){return(t-(t&Bw))/Vw}const _w=1,Fw=2,uc=4,$w=8;class Wh{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&$w)>0}get deletedBefore(){return(this.delInfo&(_w|uc))>0}get deletedAfter(){return(this.delInfo&(Fw|uc))>0}get deletedAcross(){return(this.delInfo&uc)>0}}class on{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&on.empty)return on.empty}recover(e){let n=0,r=l1(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+PA(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,o=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?s:0);if(d>e)break;let f=this.ranges[c+o],p=this.ranges[c+a],m=d+f;if(e<=m){let g=f?e==d?-1:e==m?1:n:n,x=d+s+(g<0?0:p);if(r)return x;let w=e==(n<0?d:m)?null:AA(c/3,e-d),S=e==d?Fw:e==m?_w:uc;return(n<0?e!=d:e!=m)&&(S|=$w),new Wh(x,S,w)}s+=p-f}return r?e+s:new Wh(e+s,0,null)}touches(e,n){let r=0,s=l1(n),o=this.inverted?2:1,a=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let d=this.ranges[c]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[c+o],p=d+f;if(e<=p&&c==s*3)return!0;r+=this.ranges[c+a]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,o=0;s<this.ranges.length;s+=3){let a=this.ranges[s],c=a-(this.inverted?o:0),d=a+(this.inverted?0:o),f=this.ranges[s+n],p=this.ranges[s+r];e(c,c+f,d,d+p),o+=p-f}}invert(){return new on(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?on.empty:new on(e<0?[0,-e,0]:[0,0,e])}}on.empty=new on([]);class dl{constructor(e,n,r=0,s=e?e.length:0){this.mirror=n,this.from=r,this.to=s,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new dl(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,r=this._maps.length;n<e._maps.length;n++){let s=e.getMirror(n);this.appendMap(e._maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this._maps.length+e._maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e._maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new dl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let o=this.from;o<this.to;o++){let a=this._maps[o],c=a.mapResult(e,n);if(c.recover!=null){let d=this.getMirror(o);if(d!=null&&d>o&&d<this.to){o=d,e=this._maps[d].recover(c.recover);continue}}s|=c.delInfo,e=c.pos}return r?e:new Wh(e,s,null)}}const Kf=Object.create(null);class zt{getMap(){return on.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Kf[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Kf)throw new RangeError("Duplicate use of step JSON ID "+e);return Kf[e]=n,n.prototype.jsonID=e,n}}class lt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new lt(e,null)}static fail(e){return new lt(null,e)}static fromReplace(e,n,r,s){try{return lt.ok(e.replace(n,r,s))}catch(o){if(o instanceof bc)return lt.fail(o.message);throw o}}}function Yp(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let o=t.child(s);o.content.size&&(o=o.copy(Yp(o.content,e,o))),o.isInline&&(o=e(o,n,s)),r.push(o)}return K.fromArray(r)}class Kr extends zt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),o=new Z(Yp(n.content,(a,c)=>!a.isAtom||!c.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),s),n.openStart,n.openEnd);return lt.fromReplace(e,this.from,this.to,o)}invert(){return new Ln(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Kr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Kr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Kr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Kr(n.from,n.to,e.markFromJSON(n.mark))}}zt.jsonID("addMark",Kr);class Ln extends zt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Z(Yp(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return lt.fromReplace(e,this.from,this.to,r)}invert(){return new Kr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ln(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ln&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ln(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ln(n.from,n.to,e.markFromJSON(n.mark))}}zt.jsonID("removeMark",Ln);class qr extends zt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return lt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return lt.fromReplace(e,this.pos,this.pos+1,new Z(K.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new qr(this.pos,n.marks[s]);return new qr(this.pos,this.mark)}}return new Hs(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new qr(n.pos,e.markFromJSON(n.mark))}}zt.jsonID("addNodeMark",qr);class Hs extends zt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return lt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return lt.fromReplace(e,this.pos,this.pos+1,new Z(K.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new qr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Hs(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Hs(n.pos,e.markFromJSON(n.mark))}}zt.jsonID("removeNodeMark",Hs);class xt extends zt{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&Kh(e,this.from,this.to)?lt.fail("Structure replace would overwrite content"):lt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new on([this.from,this.to-this.from,this.slice.size])}invert(e){return new xt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new xt(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof xt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Z.empty:new Z(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new xt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Z.empty:new Z(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new xt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new xt(n.from,n.to,Z.fromJSON(e,n.slice),!!n.structure)}}zt.jsonID("replace",xt);class kt extends zt{constructor(e,n,r,s,o,a,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=o,this.insert=a,this.structure=c}apply(e){if(this.structure&&(Kh(e,this.from,this.gapFrom)||Kh(e,this.gapTo,this.to)))return lt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return lt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?lt.fromReplace(e,this.from,this.to,r):lt.fail("Content does not fit in gap")}getMap(){return new on([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new kt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||o>r.pos?null:new kt(n.pos,r.pos,s,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new kt(n.from,n.to,n.gapFrom,n.gapTo,Z.fromJSON(e,n.slice),n.insert,!!n.structure)}}zt.jsonID("replaceAround",kt);function Kh(t,e,n){let r=t.resolve(e),s=n-e,o=r.depth;for(;s>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,s--;if(s>0){let a=r.node(o).maybeChild(r.indexAfter(o));for(;s>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,s--}}return!1}function DA(t,e,n,r){let s=[],o=[],a,c;t.doc.nodesBetween(e,n,(d,f,p)=>{if(!d.isInline)return;let m=d.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let g=Math.max(f,e),x=Math.min(f+d.nodeSize,n),w=r.addToSet(m);for(let S=0;S<m.length;S++)m[S].isInSet(w)||(a&&a.to==g&&a.mark.eq(m[S])?a.to=x:s.push(a=new Ln(g,x,m[S])));c&&c.to==g?c.to=x:o.push(c=new Kr(g,x,r))}}),s.forEach(d=>t.step(d)),o.forEach(d=>t.step(d))}function RA(t,e,n,r){let s=[],o=0;t.doc.nodesBetween(e,n,(a,c)=>{if(!a.isInline)return;o++;let d=null;if(r instanceof gu){let f=a.marks,p;for(;p=r.isInSet(f);)(d||(d=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(a.marks)&&(d=[r]):d=a.marks;if(d&&d.length){let f=Math.min(c+a.nodeSize,n);for(let p=0;p<d.length;p++){let m=d[p],g;for(let x=0;x<s.length;x++){let w=s[x];w.step==o-1&&m.eq(s[x].style)&&(g=w)}g?(g.to=f,g.step=o):s.push({style:m,from:Math.max(c,e),to:f,step:o})}}}),s.forEach(a=>t.step(new Ln(a.from,a.to,a.style)))}function Xp(t,e,n,r=n.contentMatch,s=!0){let o=t.doc.nodeAt(e),a=[],c=e+1;for(let d=0;d<o.childCount;d++){let f=o.child(d),p=c+f.nodeSize,m=r.matchType(f.type);if(!m)a.push(new xt(c,p,Z.empty));else{r=m;for(let g=0;g<f.marks.length;g++)n.allowsMarkType(f.marks[g].type)||t.step(new Ln(c,p,f.marks[g]));if(s&&f.isText&&n.whitespace!="pre"){let g,x=/\r?\n|\r/g,w;for(;g=x.exec(f.text);)w||(w=new Z(K.from(n.schema.text(" ",n.allowedMarks(f.marks))),0,0)),a.push(new xt(c+g.index,c+g.index+g[0].length,w))}}c=p}if(!r.validEnd){let d=r.fillBefore(K.empty,!0);t.replace(c,c,new Z(d,0,0))}for(let d=a.length-1;d>=0;d--)t.step(a[d])}function jA(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Ki(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth,s=0,o=0;;--r){let a=t.$from.node(r),c=t.$from.index(r)+s,d=t.$to.indexAfter(r)-o;if(r<t.depth&&a.canReplace(c,d,n))return r;if(r==0||a.type.spec.isolating||!jA(a,c,d))break;c&&(s=1),d<a.childCount&&(o=1)}return null}function OA(t,e,n){let{$from:r,$to:s,depth:o}=e,a=r.before(o+1),c=s.after(o+1),d=a,f=c,p=K.empty,m=0;for(let w=o,S=!1;w>n;w--)S||r.index(w)>0?(S=!0,p=K.from(r.node(w).copy(p)),m++):d--;let g=K.empty,x=0;for(let w=o,S=!1;w>n;w--)S||s.after(w+1)<s.end(w)?(S=!0,g=K.from(s.node(w).copy(g)),x++):f++;t.step(new kt(d,f,a,c,new Z(p.append(g),m,x),p.size-m,!0))}function Qp(t,e,n=null,r=t){let s=IA(t,e),o=s&&LA(r,e);return o?s.map(a1).concat({type:e,attrs:n}).concat(o.map(a1)):null}function a1(t){return{type:t,attrs:null}}function IA(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return n.canReplaceWith(r,s,a)?o:null}function LA(t,e){let{parent:n,startIndex:r,endIndex:s}=t,o=n.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let d=(a.length?a[a.length-1]:e).contentMatch;for(let f=r;d&&f<s;f++)d=d.matchType(n.child(f).type);return!d||!d.validEnd?null:a}function zA(t,e,n){let r=K.empty;for(let a=n.length-1;a>=0;a--){if(r.size){let c=n[a].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=K.from(n[a].type.create(n[a].attrs,r))}let s=e.start,o=e.end;t.step(new kt(s,o,s,o,new Z(r,0,0),n.length,!0))}function BA(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(a,c)=>{let d=typeof s=="function"?s(a):s;if(a.isTextblock&&!a.hasMarkup(r,d)&&VA(t.doc,t.mapping.slice(o).map(c),r)){let f=null;if(r.schema.linebreakReplacement){let x=r.whitespace=="pre",w=!!r.contentMatch.matchType(r.schema.linebreakReplacement);x&&!w?f=!1:!x&&w&&(f=!0)}f===!1&&Uw(t,a,c,o),Xp(t,t.mapping.slice(o).map(c,1),r,void 0,f===null);let p=t.mapping.slice(o),m=p.map(c,1),g=p.map(c+a.nodeSize,1);return t.step(new kt(m,g,m+1,g-1,new Z(K.from(r.create(d,null,a.marks)),0,0),1,!0)),f===!0&&Hw(t,a,c,o),!1}})}function Hw(t,e,n,r){e.forEach((s,o)=>{if(s.isText){let a,c=/\r?\n|\r/g;for(;a=c.exec(s.text);){let d=t.mapping.slice(r).map(n+1+o+a.index);t.replaceWith(d,d+1,e.type.schema.linebreakReplacement.create())}}})}function Uw(t,e,n,r){e.forEach((s,o)=>{if(s.type==s.type.schema.linebreakReplacement){let a=t.mapping.slice(r).map(n+1+o);t.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function VA(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function _A(t,e,n,r,s){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let a=n.create(r,null,s||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new kt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new Z(K.from(a),0,0),1,!0))}function fr(t,e,n=1,r){let s=t.resolve(e),o=s.depth-n,a=r&&r[r.length-1]||s.parent;if(o<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!a.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let f=s.depth-1,p=n-2;f>o;f--,p--){let m=s.node(f),g=s.index(f);if(m.type.spec.isolating)return!1;let x=m.content.cutByIndex(g,m.childCount),w=r&&r[p+1];w&&(x=x.replaceChild(0,w.type.create(w.attrs)));let S=r&&r[p]||m;if(!m.canReplace(g+1,m.childCount)||!S.type.validContent(x))return!1}let c=s.indexAfter(o),d=r&&r[0];return s.node(o).canReplaceWith(c,c,d?d.type:s.node(o+1).type)}function FA(t,e,n=1,r){let s=t.doc.resolve(e),o=K.empty,a=K.empty;for(let c=s.depth,d=s.depth-n,f=n-1;c>d;c--,f--){o=K.from(s.node(c).copy(o));let p=r&&r[f];a=K.from(p?p.type.create(p.attrs,a):s.node(c).copy(a))}t.step(new xt(e,e,new Z(o.append(a),n,n),!0))}function ss(t,e){let n=t.resolve(e),r=n.index();return Ww(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function $A(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let s=0;s<e.childCount;s++){let o=e.child(s),a=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(a),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function Ww(t,e){return!!(t&&e&&!t.isLeaf&&$A(t,e))}function yu(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let o,a,c=r.index(s);if(s==r.depth?(o=r.nodeBefore,a=r.nodeAfter):n>0?(o=r.node(s+1),c++,a=r.node(s).maybeChild(c)):(o=r.node(s).maybeChild(c-1),a=r.node(s+1)),o&&!o.isTextblock&&Ww(o,a)&&r.node(s).canReplace(c,c+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function HA(t,e,n){let r=null,{linebreakReplacement:s}=t.doc.type.schema,o=t.doc.resolve(e-n),a=o.node().type;if(s&&a.inlineContent){let p=a.whitespace=="pre",m=!!a.contentMatch.matchType(s);p&&!m?r=!1:!p&&m&&(r=!0)}let c=t.steps.length;if(r===!1){let p=t.doc.resolve(e+n);Uw(t,p.node(),p.before(),c)}a.inlineContent&&Xp(t,e+n-1,a,o.node().contentMatchAt(o.index()),r==null);let d=t.mapping.slice(c),f=d.map(e-n);if(t.step(new xt(f,d.map(e+n,-1),Z.empty,!0)),r===!0){let p=t.doc.resolve(f);Hw(t,p.node(),p.before(),t.steps.length)}return t}function UA(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let o=r.index(s);if(r.node(s).canReplaceWith(o,o,n))return r.before(s+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let o=r.indexAfter(s);if(r.node(s).canReplaceWith(o,o,n))return r.after(s+1);if(o<r.node(s).childCount)return null}return null}function Kw(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let o=0;o<n.openStart;o++)s=s.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let a=r.depth;a>=0;a--){let c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,d=r.index(a)+(c>0?1:0),f=r.node(a),p=!1;if(o==1)p=f.canReplace(d,d,s);else{let m=f.contentMatchAt(d).findWrapping(s.firstChild.type);p=m&&f.canReplaceWith(d,d,m[0])}if(p)return c==0?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function xu(t,e,n=e,r=Z.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),o=t.resolve(n);return qw(s,o,r)?new xt(e,n,r):new WA(s,o,r).fit()}function qw(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class WA{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=K.empty;for(let s=0;s<=e.depth;s++){let o=e.node(s);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=K.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let o=this.placed,a=r.depth,c=s.depth;for(;a&&c&&o.childCount==1;)o=o.firstChild.content,a--,c--;let d=new Z(o,a,c);return e>-1?new kt(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new xt(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(s=0),o.type.spec.isolating&&s<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,o=null;r?(o=qf(this.unplaced.content,r-1).firstChild,s=o.content):s=this.unplaced.content;let a=s.firstChild;for(let c=this.depth;c>=0;c--){let{type:d,match:f}=this.frontier[c],p,m=null;if(n==1&&(a?f.matchType(a.type)||(m=f.fillBefore(K.from(a),!1)):o&&d.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:m};if(n==2&&a&&(p=f.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:p};if(o&&f.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=qf(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Z(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=qf(e,n);if(s.childCount<=1&&n>0){let o=e.size-n<=n+s.size;this.unplaced=new Z(_o(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Z(_o(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let S=0;S<o.length;S++)this.openFrontierNode(o[S]);let a=this.unplaced,c=r?r.content:a.content,d=a.openStart-e,f=0,p=[],{match:m,type:g}=this.frontier[n];if(s){for(let S=0;S<s.childCount;S++)p.push(s.child(S));m=m.matchFragment(s)}let x=c.size+e-(a.content.size-a.openEnd);for(;f<c.childCount;){let S=c.child(f),b=m.matchType(S.type);if(!b)break;f++,(f>1||d==0||S.content.size)&&(m=b,p.push(Gw(S.mark(g.allowedMarks(S.marks)),f==1?d:0,f==c.childCount?x:-1)))}let w=f==c.childCount;w||(x=-1),this.placed=Fo(this.placed,n,K.from(p)),this.frontier[n].match=m,w&&x<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,b=c;S<x;S++){let T=b.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),b=T.content}this.unplaced=w?e==0?Z.empty:new Z(_o(a.content,e-1,1),e-1,x<0?a.openEnd:e-1):new Z(_o(a.content,e,f),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Gf(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),a=Gf(e,n,s,r,o);if(a){for(let c=n-1;c>=0;c--){let{match:d,type:f}=this.frontier[c],p=Gf(e,c,f,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:a,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Fo(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),o=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,o)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Fo(this.placed,this.depth,K.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(K.empty,!0);n.childCount&&(this.placed=Fo(this.placed,this.frontier.length,n))}}function _o(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(_o(t.firstChild.content,e-1,n)))}function Fo(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Fo(t.lastChild.content,e-1,n)))}function qf(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Gw(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Gw(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(K.empty,!0)))),t.copy(r)}function Gf(t,e,n,r,s){let o=t.node(e),a=s?t.indexAfter(e):t.index(e);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,a);return c&&!KA(n,o.content,a)?c:null}function KA(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function qA(t){return t.spec.defining||t.spec.definingForContent}function GA(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),o=t.doc.resolve(n);if(qw(s,o,r))return t.step(new xt(e,n,r));let a=Yw(s,o);a[a.length-1]==0&&a.pop();let c=-(s.depth+1);a.unshift(c);for(let g=s.depth,x=s.pos-1;g>0;g--,x--){let w=s.node(g).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;a.indexOf(g)>-1?c=g:s.before(g)==x&&a.splice(1,0,-g)}let d=a.indexOf(c),f=[],p=r.openStart;for(let g=r.content,x=0;;x++){let w=g.firstChild;if(f.push(w),x==r.openStart)break;g=w.content}for(let g=p-1;g>=0;g--){let x=f[g],w=qA(x.type);if(w&&!x.sameMarkup(s.node(Math.abs(c)-1)))p=g;else if(w||!x.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let x=(g+p+1)%(r.openStart+1),w=f[x];if(w)for(let S=0;S<a.length;S++){let b=a[(S+d)%a.length],T=!0;b<0&&(T=!1,b=-b);let N=s.node(b-1),D=s.index(b-1);if(N.canReplaceWith(D,D,w.type,w.marks))return t.replace(s.before(b),T?o.after(b):n,new Z(Jw(r.content,0,r.openStart,x),x,r.openEnd))}}let m=t.steps.length;for(let g=a.length-1;g>=0&&(t.replace(e,n,r),!(t.steps.length>m));g--){let x=a[g];x<0||(e=s.before(x),n=o.after(x))}}function Jw(t,e,n,r,s){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(Jw(o.content,e+1,n,r,o)))}if(e>r){let o=s.contentMatchAt(0),a=o.fillBefore(t).append(t);t=a.append(o.matchFragment(a).fillBefore(K.empty,!0))}return t}function JA(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=UA(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new Z(K.from(r),0,0))}function YA(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),o=Yw(r,s);for(let a=0;a<o.length;a++){let c=o[a],d=a==o.length-1;if(d&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),s.end(c));if(c>0&&(d||r.node(c-1).canReplace(r.index(c-1),s.indexAfter(c-1))))return t.delete(r.before(c),s.after(c))}for(let a=1;a<=r.depth&&a<=s.depth;a++)if(e-r.start(a)==r.depth-a&&n>r.end(a)&&s.end(a)-n!=s.depth-a&&r.start(a-1)==s.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),s.index(a-1)))return t.delete(r.before(a),n);t.delete(e,n)}function Yw(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let o=t.start(s);if(o<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(o==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==o-1)&&n.push(s)}return n}class ji extends zt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return lt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return lt.fromReplace(e,this.pos,this.pos+1,new Z(K.from(s),0,n.isLeaf?0:1))}getMap(){return on.empty}invert(e){return new ji(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ji(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ji(n.pos,n.attr,n.value)}}zt.jsonID("attr",ji);class fl extends zt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return lt.ok(r)}getMap(){return on.empty}invert(e){return new fl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new fl(n.attr,n.value)}}zt.jsonID("docAttr",fl);let Li=class extends Error{};Li=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Li.prototype=Object.create(Error.prototype);Li.prototype.constructor=Li;Li.prototype.name="TransformError";class Xw{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new dl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Li(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Z.empty){let s=xu(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new Z(K.from(r),0,0))}delete(e,n){return this.replace(e,n,Z.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return GA(this,e,n,r),this}replaceRangeWith(e,n,r){return JA(this,e,n,r),this}deleteRange(e,n){return YA(this,e,n),this}lift(e,n){return OA(this,e,n),this}join(e,n=1){return HA(this,e,n),this}wrap(e,n){return zA(this,e,n),this}setBlockType(e,n=e,r,s=null){return BA(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return _A(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new ji(e,n,r)),this}setDocAttribute(e,n){return this.step(new fl(e,n)),this}addNodeMark(e,n){return this.step(new qr(e,n)),this}removeNodeMark(e,n){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n instanceof Be)n.isInSet(r.marks)&&this.step(new Hs(e,n));else{let s=r.marks,o,a=[];for(;o=n.isInSet(s);)a.push(new Hs(e,o)),s=o.removeFromSet(s);for(let c=a.length-1;c>=0;c--)this.step(a[c])}return this}split(e,n=1,r){return FA(this,e,n,r),this}addMark(e,n,r){return DA(this,e,n,r),this}removeMark(e,n,r){return RA(this,e,n,r),this}clearIncompatible(e,n,r){return Xp(this,e,n,r),this}}const Jf=Object.create(null);class we{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new XA(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Z.empty){let r=n.content.lastChild,s=null;for(let c=0;c<n.openEnd;c++)s=r,r=r.lastChild;let o=e.steps.length,a=this.ranges;for(let c=0;c<a.length;c++){let{$from:d,$to:f}=a[c],p=e.mapping.slice(o);e.replaceRange(p.map(d.pos),p.map(f.pos),c?Z.empty:n),c==0&&d1(e,o,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let o=0;o<s.length;o++){let{$from:a,$to:c}=s[o],d=e.mapping.slice(r),f=d.map(a.pos),p=d.map(c.pos);o?e.deleteRange(f,p):(e.replaceRangeWith(f,p,n),d1(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new me(e):bi(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let o=e.depth-1;o>=0;o--){let a=n<0?bi(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):bi(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(a)return a}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new ln(e.node(0))}static atStart(e){return bi(e,e,0,0,1)||new ln(e)}static atEnd(e){return bi(e,e,e.content.size,e.childCount,-1)||new ln(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Jf[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Jf)throw new RangeError("Duplicate use of selection JSON ID "+e);return Jf[e]=n,n.prototype.jsonID=e,n}getBookmark(){return me.between(this.$anchor,this.$head).getBookmark()}}we.prototype.visible=!0;class XA{constructor(e,n){this.$from=e,this.$to=n}}let c1=!1;function u1(t){!c1&&!t.parent.inlineContent&&(c1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class me extends we{constructor(e,n=e){u1(e),u1(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return we.near(r);let s=e.resolve(n.map(this.anchor));return new me(s.parent.inlineContent?s:r,r)}replace(e,n=Z.empty){if(super.replace(e,n),n==Z.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof me&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new vu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new me(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let o=we.findFrom(n,r,!0)||we.findFrom(n,-r,!0);if(o)n=o.$head;else return we.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(we.findFrom(e,-r,!0)||we.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new me(e,n)}}we.jsonID("text",me);class vu{constructor(e,n){this.anchor=e,this.head=n}map(e){return new vu(e.map(this.anchor),e.map(this.head))}resolve(e){return me.between(e.resolve(this.anchor),e.resolve(this.head))}}class ce extends we{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),o=e.resolve(s);return r?we.near(o):new ce(o)}content(){return new Z(K.from(this.node),0,0)}eq(e){return e instanceof ce&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Zp(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new ce(e.resolve(n.anchor))}static create(e,n){return new ce(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}ce.prototype.visible=!1;we.jsonID("node",ce);class Zp{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new vu(r,r):new Zp(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&ce.isSelectable(r)?new ce(n):we.near(n)}}class ln extends we{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Z.empty){if(n==Z.empty){e.delete(0,e.doc.content.size);let r=we.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new ln(e)}map(e){return new ln(e)}eq(e){return e instanceof ln}getBookmark(){return QA}}we.jsonID("all",ln);const QA={map(){return this},resolve(t){return new ln(t)}};function bi(t,e,n,r,s,o=!1){if(e.inlineContent)return me.create(t,n);for(let a=r-(s>0?0:1);s>0?a<e.childCount:a>=0;a+=s){let c=e.child(a);if(c.isAtom){if(!o&&ce.isSelectable(c))return ce.create(t,n-(s<0?c.nodeSize:0))}else{let d=bi(t,c,n+s,s<0?c.childCount:0,s,o);if(d)return d}n+=c.nodeSize*s}return null}function d1(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof xt||s instanceof kt))return;let o=t.mapping.maps[r],a;o.forEach((c,d,f,p)=>{a==null&&(a=p)}),t.setSelection(we.near(t.doc.resolve(a),n))}const f1=1,Ga=2,h1=4;class ZA extends Xw{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|f1)&~Ga,this.storedMarks=null,this}get selectionSet(){return(this.updated&f1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Ga,this}ensureMarks(e){return Be.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ga)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Ga,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Be.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let a=this.doc.resolve(n);o=r==n?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,o)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(we.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=h1,this}get scrolledIntoView(){return(this.updated&h1)>0}}function p1(t,e){return!e||!t?t:t.bind(e)}class $o{constructor(e,n,r){this.name=e,this.init=p1(n.init,r),this.apply=p1(n.apply,r)}}const e4=[new $o("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new $o("selection",{init(t,e){return t.selection||we.atStart(e.doc)},apply(t){return t.selection}}),new $o("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new $o("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Yf{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=e4.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new $o(r.key,r.spec.state,r))})}}class Di{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let o=!1;for(let a=0;a<this.config.plugins.length;a++){let c=this.config.plugins[a];if(c.spec.appendTransaction){let d=s?s[a].n:0,f=s?s[a].state:this,p=d<n.length&&c.spec.appendTransaction.call(c,d?n.slice(d):n,f,r);if(p&&r.filterTransaction(p,a)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<a?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),o=!0}s&&(s[a]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Di(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let o=r[s];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new ZA(this)}static create(e){let n=new Yf(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Di(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new Yf(this.schema,e.plugins),r=n.fields,s=new Di(n);for(let o=0;o<r.length;o++){let a=r[o].name;s[a]=this.hasOwnProperty(a)?this[a]:r[o].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],o=s.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Yf(e.schema,e.plugins),o=new Di(s);return s.fields.forEach(a=>{if(a.name=="doc")o.doc=zn.fromJSON(e.schema,n.doc);else if(a.name=="selection")o.selection=we.fromJSON(o.doc,n.selection);else if(a.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let d=r[c],f=d.spec.state;if(d.key==a.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){o[a.name]=f.fromJSON.call(d,e,n[c],o);return}}o[a.name]=a.init(e,o)}}),o}}function Qw(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=Qw(s,e,{})),n[r]=s}return n}class Ye{constructor(e){this.spec=e,this.props={},e.props&&Qw(e.props,this,this.props),this.key=e.key?e.key.key:Zw("plugin")}getState(e){return e[this.key]}}const Xf=Object.create(null);function Zw(t){return t in Xf?t+"$"+ ++Xf[t]:(Xf[t]=0,t+"$")}class ht{constructor(e="key"){this.key=Zw(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const em=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function eS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const tS=(t,e,n)=>{let r=eS(t,n);if(!r)return!1;let s=tm(r);if(!s){let a=r.blockRange(),c=a&&Ki(a);return c==null?!1:(e&&e(t.tr.lift(a,c).scrollIntoView()),!0)}let o=s.nodeBefore;if(uS(t,s,e,-1))return!0;if(r.parent.content.size==0&&(zi(o,"end")||ce.isSelectable(o)))for(let a=r.depth;;a--){let c=xu(t.doc,r.before(a),r.after(a),Z.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=t.tr.step(c);d.setSelection(zi(o,"end")?we.findFrom(d.doc.resolve(d.mapping.map(s.pos,-1)),-1):ce.create(d.doc,s.pos-o.nodeSize)),e(d.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-o.nodeSize,s.pos).scrollIntoView()),!0):!1},t4=(t,e,n)=>{let r=eS(t,n);if(!r)return!1;let s=tm(r);return s?nS(t,s,e):!1},n4=(t,e,n)=>{let r=sS(t,n);if(!r)return!1;let s=nm(r);return s?nS(t,s,e):!1};function nS(t,e,n){let r=e.nodeBefore,s=r,o=e.pos-1;for(;!s.isTextblock;o--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let a=e.nodeAfter,c=a,d=e.pos+1;for(;!c.isTextblock;d++){if(c.type.spec.isolating)return!1;let p=c.firstChild;if(!p)return!1;c=p}let f=xu(t.doc,o,d,Z.empty);if(!f||f.from!=o||f instanceof xt&&f.slice.size>=d-o)return!1;if(n){let p=t.tr.step(f);p.setSelection(me.create(p.doc,o)),n(p.scrollIntoView())}return!0}function zi(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const rS=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=tm(r)}let a=o&&o.nodeBefore;return!a||!ce.isSelectable(a)?!1:(e&&e(t.tr.setSelection(ce.create(t.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)};function tm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function sS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const iS=(t,e,n)=>{let r=sS(t,n);if(!r)return!1;let s=nm(r);if(!s)return!1;let o=s.nodeAfter;if(uS(t,s,e,1))return!0;if(r.parent.content.size==0&&(zi(o,"start")||ce.isSelectable(o))){let a=xu(t.doc,r.before(),r.after(),Z.empty);if(a&&a.slice.size<a.to-a.from){if(e){let c=t.tr.step(a);c.setSelection(zi(o,"start")?we.findFrom(c.doc.resolve(c.mapping.map(s.pos)),1):ce.create(c.doc,c.mapping.map(s.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+o.nodeSize).scrollIntoView()),!0):!1},oS=(t,e,n)=>{let{$head:r,empty:s}=t.selection,o=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=nm(r)}let a=o&&o.nodeAfter;return!a||!ce.isSelectable(a)?!1:(e&&e(t.tr.setSelection(ce.create(t.doc,o.pos)).scrollIntoView()),!0)};function nm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const r4=(t,e)=>{let n=t.selection,r=n instanceof ce,s;if(r){if(n.node.isTextblock||!ss(t.doc,n.from))return!1;s=n.from}else if(s=yu(t.doc,n.from,-1),s==null)return!1;if(e){let o=t.tr.join(s);r&&o.setSelection(ce.create(o.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},s4=(t,e)=>{let n=t.selection,r;if(n instanceof ce){if(n.node.isTextblock||!ss(t.doc,n.to))return!1;r=n.to}else if(r=yu(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},i4=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),o=s&&Ki(s);return o==null?!1:(e&&e(t.tr.lift(s,o).scrollIntoView()),!0)},lS=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function rm(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const o4=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),o=n.indexAfter(-1),a=rm(s.contentMatchAt(o));if(!a||!s.canReplaceWith(o,o,a))return!1;if(e){let c=n.after(),d=t.tr.replaceWith(c,c,a.createAndFill());d.setSelection(we.near(d.doc.resolve(c),1)),e(d.scrollIntoView())}return!0},aS=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof ln||r.parent.inlineContent||s.parent.inlineContent)return!1;let o=rm(s.parent.contentMatchAt(s.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let a=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,c=t.tr.insert(a,o.createAndFill());c.setSelection(me.create(c.doc,a+1)),e(c.scrollIntoView())}return!0},cS=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(fr(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Ki(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)};function l4(t){return(e,n)=>{let{$from:r,$to:s}=e.selection;if(e.selection instanceof ce&&e.selection.node.isBlock)return!r.parentOffset||!fr(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],a,c,d=!1,f=!1;for(let x=r.depth;;x--)if(r.node(x).isBlock){d=r.end(x)==r.pos+(r.depth-x),f=r.start(x)==r.pos-(r.depth-x),c=rm(r.node(x-1).contentMatchAt(r.indexAfter(x-1))),o.unshift(d&&c?{type:c}:null),a=x;break}else{if(x==1)return!1;o.unshift(null)}let p=e.tr;(e.selection instanceof me||e.selection instanceof ln)&&p.deleteSelection();let m=p.mapping.map(r.pos),g=fr(p.doc,m,o.length,o);if(g||(o[0]=c?{type:c}:null,g=fr(p.doc,m,o.length,o)),!g)return!1;if(p.split(m,o.length,o),!d&&f&&r.node(a).type!=c){let x=p.mapping.map(r.before(a)),w=p.doc.resolve(x);c&&r.node(a-1).canReplaceWith(w.index(),w.index()+1,c)&&p.setNodeMarkup(p.mapping.map(r.before(a)),c)}return n&&n(p.scrollIntoView()),!0}}const a4=l4(),c4=(t,e)=>{let{$from:n,to:r}=t.selection,s,o=n.sharedDepth(r);return o==0?!1:(s=n.before(o),e&&e(t.tr.setSelection(ce.create(t.doc,s))),!0)};function u4(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,o=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(s.isTextblock||ss(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function uS(t,e,n,r){let s=e.nodeBefore,o=e.nodeAfter,a,c,d=s.type.spec.isolating||o.type.spec.isolating;if(!d&&u4(t,e,n))return!0;let f=!d&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(a=(c=s.contentMatchAt(s.childCount)).findWrapping(o.type))&&c.matchType(a[0]||o.type).validEnd){if(n){let x=e.pos+o.nodeSize,w=K.empty;for(let T=a.length-1;T>=0;T--)w=K.from(a[T].create(null,w));w=K.from(s.copy(w));let S=t.tr.step(new kt(e.pos-1,x,e.pos,x,new Z(w,1,0),a.length,!0)),b=S.doc.resolve(x+2*a.length);b.nodeAfter&&b.nodeAfter.type==s.type&&ss(S.doc,b.pos)&&S.join(b.pos),n(S.scrollIntoView())}return!0}let p=o.type.spec.isolating||r>0&&d?null:we.findFrom(e,1),m=p&&p.$from.blockRange(p.$to),g=m&&Ki(m);if(g!=null&&g>=e.depth)return n&&n(t.tr.lift(m,g).scrollIntoView()),!0;if(f&&zi(o,"start",!0)&&zi(s,"end")){let x=s,w=[];for(;w.push(x),!x.isTextblock;)x=x.lastChild;let S=o,b=1;for(;!S.isTextblock;S=S.firstChild)b++;if(x.canReplace(x.childCount,x.childCount,S.content)){if(n){let T=K.empty;for(let D=w.length-1;D>=0;D--)T=K.from(w[D].copy(T));let N=t.tr.step(new kt(e.pos-w.length,e.pos+o.nodeSize,e.pos+b,e.pos+o.nodeSize-b,new Z(T,w.length,0),0,!0));n(N.scrollIntoView())}return!0}}return!1}function dS(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,o=s.depth;for(;s.node(o).isInline;){if(!o)return!1;o--}return s.node(o).isTextblock?(n&&n(e.tr.setSelection(me.create(e.doc,t<0?s.start(o):s.end(o)))),!0):!1}}const d4=dS(-1),f4=dS(1);function h4(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,a=s.blockRange(o),c=a&&Qp(a,t,e);return c?(r&&r(n.tr.wrap(a,c).scrollIntoView()),!0):!1}}function m1(t,e=null){return function(n,r){let s=!1;for(let o=0;o<n.selection.ranges.length&&!s;o++){let{$from:{pos:a},$to:{pos:c}}=n.selection.ranges[o];n.doc.nodesBetween(a,c,(d,f)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)s=!0;else{let p=n.doc.resolve(f),m=p.index();s=p.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(r){let o=n.tr;for(let a=0;a<n.selection.ranges.length;a++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[a];o.setBlockType(c,d,t,e)}r(o.scrollIntoView())}return!0}}function sm(...t){return function(e,n,r){for(let s=0;s<t.length;s++)if(t[s](e,n,r))return!0;return!1}}sm(em,tS,rS);sm(em,iS,oS);sm(lS,aS,cS,a4);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function p4(t,e=null){return function(n,r){let{$from:s,$to:o}=n.selection,a=s.blockRange(o);if(!a)return!1;let c=r?n.tr:null;return m4(c,a,t,e)?(r&&r(c.scrollIntoView()),!0):!1}}function m4(t,e,n,r=null){let s=!1,o=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let d=a.resolve(e.start-2);o=new Tc(d,d,e.depth),e.endIndex<e.parent.childCount&&(e=new Tc(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let c=Qp(o,n,r,e);return c?(t&&g4(t,e,c,s,n),!0):!1}function g4(t,e,n,r,s){let o=K.empty;for(let p=n.length-1;p>=0;p--)o=K.from(n[p].type.create(n[p].attrs,o));t.step(new kt(e.start-(r?2:0),e.end,e.start,e.end,new Z(o,0,0),n.length,!0));let a=0;for(let p=0;p<n.length;p++)n[p].type==s&&(a=p+1);let c=n.length-a,d=e.start+n.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,g=!0;p<m;p++,g=!1)!g&&fr(t.doc,d,c)&&(t.split(d,c),d+=2*c),d+=f.child(p).nodeSize;return t}function y4(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,a=>a.childCount>0&&a.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?x4(e,n,t,o):v4(e,n,o):!0:!1}}function x4(t,e,n,r){let s=t.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(s.step(new kt(o-1,a,o,a,new Z(K.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Tc(s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const c=Ki(r);if(c==null)return!1;s.lift(r,c);let d=s.doc.resolve(s.mapping.map(o,-1)-1);return ss(s.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&s.join(d.pos),e(s.scrollIntoView()),!0}function v4(t,e,n){let r=t.tr,s=n.parent;for(let x=n.end,w=n.endIndex-1,S=n.startIndex;w>S;w--)x-=s.child(w).nodeSize,r.delete(x-1,x+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,d=n.endIndex==s.childCount,f=o.node(-1),p=o.index(-1);if(!f.canReplace(p+(c?0:1),p+1,a.content.append(d?K.empty:K.from(s))))return!1;let m=o.pos,g=m+a.nodeSize;return r.step(new kt(m-(c?1:0),g+(d?1:0),m+1,g-1,new Z((c?K.empty:K.from(s.copy(K.empty))).append(d?K.empty:K.from(s.copy(K.empty))),c?0:1,d?0:1),c?0:1)),e(r.scrollIntoView()),!0}function k4(t){return function(e,n){let{$from:r,$to:s}=e.selection,o=r.blockRange(s,f=>f.childCount>0&&f.firstChild.type==t);if(!o)return!1;let a=o.startIndex;if(a==0)return!1;let c=o.parent,d=c.child(a-1);if(d.type!=t)return!1;if(n){let f=d.lastChild&&d.lastChild.type==c.type,p=K.from(f?t.create():null),m=new Z(K.from(t.create(null,K.from(c.type.create(null,p)))),f?3:1,0),g=o.start,x=o.end;n(e.tr.step(new kt(g-(f?3:1),x,g,x,m,1,!0)).scrollIntoView())}return!0}}const Nt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Bi=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let qh=null;const cr=function(t,e,n){let r=qh||(qh=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},w4=function(){qh=null},Us=function(t,e,n,r){return n&&(g1(t,e,n,r,-1)||g1(t,e,n,r,1))},S4=/^(img|br|input|textarea|hr)$/i;function g1(t,e,n,r,s){for(var o;;){if(t==n&&e==r)return!0;if(e==(s<0?0:vn(t))){let a=t.parentNode;if(!a||a.nodeType!=1||Tl(t)||S4.test(t.nodeName)||t.contentEditable=="false")return!1;e=Nt(t)+(s<0?0:1),t=a}else if(t.nodeType==1){let a=t.childNodes[e+(s<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((o=a.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=s;else return!1;else t=a,e=s<0?vn(t):0}else return!1}}function vn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function b4(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=vn(t)}else if(t.parentNode&&!Tl(t))e=Nt(t),t=t.parentNode;else return null}}function C4(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Tl(t))e=Nt(t)+1,t=t.parentNode;else return null}}function T4(t,e,n){for(let r=e==0,s=e==vn(t);r||s;){if(t==n)return!0;let o=Nt(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,s=s&&o==vn(t)}}function Tl(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const ku=function(t){return t.focusNode&&Us(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ms(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function E4(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function N4(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(vn(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(vn(r.startContainer),r.startOffset)}}}const Jn=typeof navigator<"u"?navigator:null,y1=typeof document<"u"?document:null,is=Jn&&Jn.userAgent||"",Gh=/Edge\/(\d+)/.exec(is),fS=/MSIE \d/.exec(is),Jh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(is),Qt=!!(fS||Jh||Gh),Yr=fS?document.documentMode:Jh?+Jh[1]:Gh?+Gh[1]:0,Sn=!Qt&&/gecko\/(\d+)/i.test(is);Sn&&+(/Firefox\/(\d+)/.exec(is)||[0,0])[1];const Yh=!Qt&&/Chrome\/(\d+)/.exec(is),vt=!!Yh,hS=Yh?+Yh[1]:0,Lt=!Qt&&!!Jn&&/Apple Computer/.test(Jn.vendor),Vi=Lt&&(/Mobile\/\w+/.test(is)||!!Jn&&Jn.maxTouchPoints>2),xn=Vi||(Jn?/Mac/.test(Jn.platform):!1),pS=Jn?/Win/.test(Jn.platform):!1,ur=/Android \d/.test(is),El=!!y1&&"webkitFontSmoothing"in y1.documentElement.style,M4=El?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function A4(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ir(t,e){return typeof t=="number"?t:t[e]}function P4(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function x1(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let a=n||t.dom;a;){if(a.nodeType!=1){a=Bi(a);continue}let c=a,d=c==o.body,f=d?A4(o):P4(c),p=0,m=0;if(e.top<f.top+ir(r,"top")?m=-(f.top-e.top+ir(s,"top")):e.bottom>f.bottom-ir(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+ir(s,"top")-f.top:e.bottom-f.bottom+ir(s,"bottom")),e.left<f.left+ir(r,"left")?p=-(f.left-e.left+ir(s,"left")):e.right>f.right-ir(r,"right")&&(p=e.right-f.right+ir(s,"right")),p||m)if(d)o.defaultView.scrollBy(p,m);else{let x=c.scrollLeft,w=c.scrollTop;m&&(c.scrollTop+=m),p&&(c.scrollLeft+=p);let S=c.scrollLeft-x,b=c.scrollTop-w;e={left:e.left-S,top:e.top-b,right:e.right-S,bottom:e.bottom-b}}let g=d?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(g))break;a=g=="absolute"?a.offsetParent:Bi(a)}}function D4(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let o=(e.left+e.right)/2,a=n+1;a<Math.min(innerHeight,e.bottom);a+=5){let c=t.root.elementFromPoint(o,a);if(!c||c==t.dom||!t.dom.contains(c))continue;let d=c.getBoundingClientRect();if(d.top>=n-20){r=c,s=d.top;break}}return{refDOM:r,refTop:s,stack:mS(t.dom)}}function mS(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Bi(r));return e}function R4({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;gS(n,r==0?0:r-e)}function gS(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:o}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let wi=null;function j4(t){if(t.setActive)return t.setActive();if(wi)return t.focus(wi);let e=mS(t);t.focus(wi==null?{get preventScroll(){return wi={preventScroll:!0},!0}}:void 0),wi||(wi=!1,gS(e,0))}function yS(t,e){let n,r=2e8,s,o=0,a=e.top,c=e.top,d,f;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let g;if(p.nodeType==1)g=p.getClientRects();else if(p.nodeType==3)g=cr(p).getClientRects();else continue;for(let x=0;x<g.length;x++){let w=g[x];if(w.top<=a&&w.bottom>=c){a=Math.max(w.bottom,a),c=Math.min(w.top,c);let S=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(S<r){n=p,r=S,s=S&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&S&&(o=m+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!d&&w.left<=e.left&&w.right>=e.left&&(d=p,f={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(o=m+1)}}return!n&&d&&(n=d,s=f,r=0),n&&n.nodeType==3?O4(n,s):!n||r&&n.nodeType==1?{node:t,offset:o}:yS(n,s)}function O4(t,e){let n=t.nodeValue.length,r=document.createRange(),s;for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let a=Br(r,1);if(a.top!=a.bottom&&im(e,a)){s={node:t,offset:o+(e.left>=(a.left+a.right)/2?1:0)};break}}return r.detach(),s||{node:t,offset:0}}function im(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function I4(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function L4(t,e,n){let{node:r,offset:s}=yS(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();o=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(r,s,o)}function z4(t,e,n,r){let s=-1;for(let o=e,a=!1;o!=t.dom;){let c=t.docView.nearestDesc(o,!0),d;if(!c)return null;if(c.dom.nodeType==1&&(c.node.isBlock&&c.parent||!c.contentDOM)&&((d=c.dom.getBoundingClientRect()).width||d.height)&&(c.node.isBlock&&c.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(c.dom.nodeName)&&(!a&&d.left>r.left||d.top>r.top?s=c.posBefore:(!a&&d.right<r.left||d.bottom<r.top)&&(s=c.posAfter),a=!0),!c.contentDOM&&s<0&&!c.node.isText))return(c.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?c.posBefore:c.posAfter;o=c.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function xS(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=s;;){let a=t.childNodes[o];if(a.nodeType==1){let c=a.getClientRects();for(let d=0;d<c.length;d++){let f=c[d];if(im(e,f))return xS(a,e,f)}}if((o=(o+1)%r)==s)break}return t}function B4(t,e){let n=t.dom.ownerDocument,r,s=0,o=N4(n,e.left,e.top);o&&({node:r,offset:s}=o);let a=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),c;if(!a||!t.dom.contains(a.nodeType!=1?a.parentNode:a)){let f=t.dom.getBoundingClientRect();if(!im(e,f)||(a=xS(t.dom,e,f),!a))return null}if(Lt)for(let f=a;r&&f;f=Bi(f))f.draggable&&(r=void 0);if(a=I4(a,e),r){if(Sn&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let p=r.childNodes[s],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let f;El&&s&&r.nodeType==1&&(f=r.childNodes[s-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?c=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(c=z4(t,r,s,e))}c==null&&(c=L4(t,a,e));let d=t.docView.nearestDesc(a,!0);return{pos:c,inside:d?d.posAtStart-d.border:-1}}function v1(t){return t.top<t.bottom||t.left<t.right}function Br(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(v1(r))return r}return Array.prototype.find.call(n,v1)||t.getBoundingClientRect()}const V4=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function vS(t,e,n){let{node:r,offset:s,atom:o}=t.docView.domFromPos(e,n<0?-1:1),a=El||Sn;if(r.nodeType==3)if(a&&(V4.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let d=Br(cr(r,s,s),n);if(Sn&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let f=Br(cr(r,s-1,s-1),-1);if(f.top==d.top){let p=Br(cr(r,s,s+1),-1);if(p.top!=d.top)return Io(p,p.left<f.left)}}return d}else{let d=s,f=s,p=n<0?1:-1;return n<0&&!s?(f++,p=-1):n>=0&&s==r.nodeValue.length?(d--,p=1):n<0?d--:f++,Io(Br(cr(r,d,f),p),p<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&s&&(n<0||s==vn(r))){let d=r.childNodes[s-1];if(d.nodeType==1)return Qf(d.getBoundingClientRect(),!1)}if(o==null&&s<vn(r)){let d=r.childNodes[s];if(d.nodeType==1)return Qf(d.getBoundingClientRect(),!0)}return Qf(r.getBoundingClientRect(),n>=0)}if(o==null&&s&&(n<0||s==vn(r))){let d=r.childNodes[s-1],f=d.nodeType==3?cr(d,vn(d)-(a?0:1)):d.nodeType==1&&(d.nodeName!="BR"||!d.nextSibling)?d:null;if(f)return Io(Br(f,1),!1)}if(o==null&&s<vn(r)){let d=r.childNodes[s];for(;d.pmViewDesc&&d.pmViewDesc.ignoreForCoords;)d=d.nextSibling;let f=d?d.nodeType==3?cr(d,0,a?0:1):d.nodeType==1?d:null:null;if(f)return Io(Br(f,-1),!0)}return Io(Br(r.nodeType==3?cr(r):r,-n),n>=0)}function Io(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Qf(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function kS(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function _4(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return kS(t,e,()=>{let{node:o}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let a=vS(t,s.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=cr(c,0,c.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.bottom>p.top+1&&(n=="up"?a.top-p.top>(p.bottom-a.top)*2:p.bottom-a.bottom>(a.bottom-p.top)*2))return!1}}return!0})}const F4=/[\u0590-\u08ac]/;function $4(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,o=!s,a=s==r.parent.content.size,c=t.domSelection();return c?!F4.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?o:a:kS(t,e,()=>{let{focusNode:d,focusOffset:f,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),g=c.caretBidiLevel;c.modify("move",n,"character");let x=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:S}=t.domSelectionRange(),b=w&&!x.contains(w.nodeType==1?w:w.parentNode)||d==w&&f==S;try{c.collapse(p,m),d&&(d!=p||f!=m)&&c.extend&&c.extend(d,f)}catch{}return g!=null&&(c.caretBidiLevel=g),b}):r.pos==r.start()||r.pos==r.end()}let k1=null,w1=null,S1=!1;function H4(t,e,n){return k1==e&&w1==n?S1:(k1=e,w1=n,S1=n=="up"||n=="down"?_4(t,e,n):$4(t,e,n))}const bn=0,b1=1,Ds=2,Yn=3;class Nl{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=bn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,a;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(a)+a.size:this.posAtStart}else{let o,a;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((a=o.pmViewDesc)&&a.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Nt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!1;break}if(o.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){s=!0;break}if(o.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let o=this.getDesc(s),a;if(o&&(!n||o.node))if(r&&(a=o.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let o=this.getDesc(s);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],o=r+s.size;if(r==e&&o!=r){for(;!s.border&&s.children.length;)for(let a=0;a<s.children.length;a++){let c=s.children[a];if(c.size){s=c;break}}return s}if(e<o)return s.descAt(e-r-s.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let o=0;r<this.children.length;r++){let a=this.children[r],c=o+a.size;if(c>e||a instanceof SS){s=e-o;break}o=c}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof wS&&o.side>=0;r--);if(n<=0){let o,a=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,a=!1);return o&&n&&a&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Nt(o.dom)+1:0}}else{let o,a=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,a=!1);return o&&a&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Nt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,o=-1;for(let a=r,c=0;;c++){let d=this.children[c],f=a+d.size;if(s==-1&&e<=f){let p=a+d.border;if(e>=p&&n<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,p);e=a;for(let m=c;m>0;m--){let g=this.children[m-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){s=Nt(g.dom)+1;break}e-=g.size}s==-1&&(s=0)}if(s>-1&&(f>n||c==this.children.length-1)){n=f;for(let p=c+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){o=Nt(m.dom);break}n+=m.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=f}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let o=Math.min(e,n),a=Math.max(e,n);for(let x=0,w=0;x<this.children.length;x++){let S=this.children[x],b=w+S.size;if(o>w&&a<b)return S.setSelection(e-w-S.border,n-w-S.border,r,s);w=b}let c=this.domFromPos(e,e?-1:1),d=n==e?c:this.domFromPos(n,n?-1:1),f=r.root.getSelection(),p=r.domSelectionRange(),m=!1;if((Sn||Lt)&&e==n){let{node:x,offset:w}=c;if(x.nodeType==3){if(m=!!(w&&x.nodeValue[w-1]==`
`),m&&w==x.nodeValue.length)for(let S=x,b;S;S=S.parentNode){if(b=S.nextSibling){b.nodeName=="BR"&&(c=d={node:b.parentNode,offset:Nt(b)+1});break}let T=S.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let S=x.childNodes[w-1];m=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(Sn&&p.focusNode&&p.focusNode!=d.node&&p.focusNode.nodeType==1){let x=p.focusNode.childNodes[p.focusOffset];x&&x.contentEditable=="false"&&(s=!0)}if(!(s||m&&Lt)&&Us(c.node,c.offset,p.anchorNode,p.anchorOffset)&&Us(d.node,d.offset,p.focusNode,p.focusOffset))return;let g=!1;if((f.extend||e==n)&&!(m&&Sn)){f.collapse(c.node,c.offset);try{e!=n&&f.extend(d.node,d.offset),g=!0}catch{}}if(!g){if(e>n){let w=c;c=d,d=w}let x=document.createRange();x.setEnd(d.node,d.offset),x.setStart(c.node,c.offset),f.removeAllRanges(),f.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let o=this.children[s],a=r+o.size;if(r==a?e<=a&&n>=r:e<a&&n>r){let c=r+o.border,d=a-o.border;if(e>=c&&n<=d){this.dirty=e==r||n==a?Ds:b1,e==c&&n==d&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Yn:o.markDirty(e-c,n-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Ds:Yn}r=a}this.dirty=Ds}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ds:b1;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class wS extends Nl{constructor(e,n,r,s){let o,a=n.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!o)return s;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(a.nodeType!=1){let c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==bn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class U4 extends Nl{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Ws extends Nl{constructor(e,n,r,s,o){super(e,[],r,s),this.mark=n,this.spec=o}static create(e,n,r,s){let o=s.nodeViews[n.type.name],a=o&&o(n,s,r);return(!a||!a.dom)&&(a=qs.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Ws(e,n,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Yn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Yn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=bn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=bn}}slice(e,n,r){let s=Ws.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=Qh(o,n,a,r)),e>0&&(o=Qh(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=s;return s.children=o,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Xr extends Nl{constructor(e,n,r,s,o,a,c,d,f){super(e,[],o,a),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=c}static create(e,n,r,s,o,a){let c=o.nodeViews[n.type.name],d,f=c&&c(n,o,()=>{if(!d)return a;if(d.parent)return d.parent.posBeforeChild(d)},r,s),p=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=qs.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let g=p;return p=TS(p,r,n),f?d=new W4(e,n,r,s,p,m||null,g,f,o,a+1):n.isText?new wu(e,n,r,s,p,g,o):new Xr(e,n,r,s,p,m||null,g,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>K.empty)}return e}matchesNode(e,n,r){return this.dirty==bn&&e.eq(this.node)&&Nc(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,o=e.composing?this.localCompositionInfo(e,n):null,a=o&&o.pos>-1?o:null,c=o&&o.pos<0,d=new q4(this,a&&a.node,e);Y4(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&d.syncToMarks(p==this.node.childCount?Be.none:this.node.child(p).marks,r,e),d.placeWidget(f,e,s)},(f,p,m,g)=>{d.syncToMarks(f.marks,r,e);let x;d.findNodeMatch(f,p,m,g)||c&&e.state.selection.from>s&&e.state.selection.to<s+f.nodeSize&&(x=d.findIndexWithChild(o.node))>-1&&d.updateNodeAt(f,p,m,x,e)||d.updateNextNode(f,p,m,e,g,s)||d.addNode(f,p,m,e,s),s+=f.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Ds)&&(a&&this.protectLocalComposition(e,a),bS(this.contentDOM,this.children,e),Vi&&X4(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof me)||r<n||s>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let a=o.nodeValue,c=Q4(this.node.content,a,r-n,s-n);return c<0?null:{node:o,pos:c,text:a}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let a=new U4(this,o,n,s);e.input.compositionNodes.push(a),this.children=Qh(this.children,r,r+s.length,e,a)}update(e,n,r,s){return this.dirty==Yn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=bn}updateOuterDeco(e){if(Nc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=CS(this.dom,this.nodeDOM,Xh(this.outerDeco,this.node,n),Xh(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function C1(t,e,n,r,s){TS(r,e,t);let o=new Xr(void 0,t,e,n,r,r,r,s,0);return o.contentDOM&&o.updateChildren(s,0),o}class wu extends Xr{constructor(e,n,r,s,o,a,c){super(e,n,r,s,o,null,a,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==Yn||this.dirty!=bn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=bn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=bn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),o=document.createTextNode(s.text);return new wu(this.parent,s,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Yn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class SS extends Nl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==bn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class W4 extends Xr{constructor(e,n,r,s,o,a,c,d,f,p){super(e,n,r,s,o,a,c,f,p),this.spec=d}update(e,n,r,s){if(this.dirty==Yn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,s),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r.root):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function bS(t,e,n){let r=t.firstChild,s=!1;for(let o=0;o<e.length;o++){let a=e[o],c=a.dom;if(c.parentNode==t){for(;c!=r;)r=T1(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(c,r);if(a instanceof Ws){let d=r?r.previousSibling:t.lastChild;bS(a.contentDOM,a.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=T1(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Yo=function(t){t&&(this.nodeName=t)};Yo.prototype=Object.create(null);const Rs=[new Yo];function Xh(t,e,n){if(t.length==0)return Rs;let r=n?Rs[0]:new Yo,s=[r];for(let o=0;o<t.length;o++){let a=t[o].type.attrs;if(a){a.nodeName&&s.push(r=new Yo(a.nodeName));for(let c in a){let d=a[c];d!=null&&(n&&s.length==1&&s.push(r=new Yo(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+d:c=="style"?r.style=(r.style?r.style+";":"")+d:c!="nodeName"&&(r[c]=d))}}}return s}function CS(t,e,n,r){if(n==Rs&&r==Rs)return e;let s=e;for(let o=0;o<r.length;o++){let a=r[o],c=n[o];if(o){let d;c&&c.nodeName==a.nodeName&&s!=t&&(d=s.parentNode)&&d.nodeName.toLowerCase()==a.nodeName||(d=document.createElement(a.nodeName),d.pmIsDeco=!0,d.appendChild(s),c=Rs[0]),s=d}K4(s,c||Rs[0],a)}return s}function K4(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)s.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<s.length;o++)r.indexOf(s[o])==-1&&t.classList.add(s[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function TS(t,e,n){return CS(t,t,Rs,Xh(e,n,t.nodeType!=1))}function Nc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function T1(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class q4{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=G4(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,o=this.stack.length>>1,a=Math.min(o,e.length);for(;s<a&&(s==o-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<o;)this.destroyRest(),this.top.dirty=bn,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let f=this.top.children[d];if(f.matchesMark(e[o])&&!this.isLocked(f.dom)){c=d;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let d=Ws.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,s){let o=-1,a;if(s>=this.preMatch.index&&(a=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&a.matchesNode(e,n,r))o=this.top.children.indexOf(a,this.index);else for(let c=this.index,d=Math.min(this.top.children.length,c+5);c<d;c++){let f=this.top.children[c];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,s,o){let a=this.top.children[s];return a.dirty==Yn&&a.dom==a.contentDOM&&(a.dirty=Ds),a.update(e,n,r,o)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,o,a){for(let c=this.index;c<this.top.children.length;c++){let d=this.top.children[c];if(d instanceof Xr){let f=this.preMatch.matched.get(d);if(f!=null&&f!=o)return!1;let p=d.dom,m,g=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Yn&&Nc(n,d.outerDeco));if(!g&&d.update(e,n,r,s))return this.destroyBetween(this.index,c),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!g&&(m=this.recreateWrapper(d,e,n,r,s,a)))return this.destroyBetween(this.index,c),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Ds,m.updateChildren(s,a+1),m.dirty=bn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,o,a){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Nc(r,e.outerDeco)||!s.eq(e.innerDeco))return null;let c=Xr.create(this.top,n,r,s,o,a);if(c.contentDOM){c.children=e.children,e.children=[];for(let d of c.children)d.parent=c}return e.destroy(),c}addNode(e,n,r,s,o){let a=Xr.create(this.top,e,n,r,s,o);a.contentDOM&&a.updateChildren(s,o+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let o=new wS(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ws;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof wu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Lt||vt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new SS(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function G4(t,e){let n=e,r=n.children.length,s=t.childCount,o=new Map,a=[];e:for(;s>0;){let c;for(;;)if(r){let f=n.children[r-1];if(f instanceof Ws)n=f,r=f.children.length;else{c=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=c.node;if(d){if(d!=t.child(s-1))break;--s,o.set(c,s),a.push(c)}}return{index:s,matched:o,matches:a.reverse()}}function J4(t,e){return t.type.side-e.type.side}function Y4(t,e,n,r){let s=e.locals(t),o=0;if(s.length==0){for(let f=0;f<t.childCount;f++){let p=t.child(f);r(p,s,e.forChild(o,p),f),o+=p.nodeSize}return}let a=0,c=[],d=null;for(let f=0;;){let p,m;for(;a<s.length&&s[a].to==o;){let b=s[a++];b.widget&&(p?(m||(m=[p])).push(b):p=b)}if(p)if(m){m.sort(J4);for(let b=0;b<m.length;b++)n(m[b],f,!!d)}else n(p,f,!!d);let g,x;if(d)x=-1,g=d,d=null;else if(f<t.childCount)x=f,g=t.child(f++);else break;for(let b=0;b<c.length;b++)c[b].to<=o&&c.splice(b--,1);for(;a<s.length&&s[a].from<=o&&s[a].to>o;)c.push(s[a++]);let w=o+g.nodeSize;if(g.isText){let b=w;a<s.length&&s[a].from<b&&(b=s[a].from);for(let T=0;T<c.length;T++)c[T].to<b&&(b=c[T].to);b<w&&(d=g.cut(b-o),g=g.cut(0,b-o),w=b,x=-1)}else for(;a<s.length&&s[a].to<w;)a++;let S=g.isInline&&!g.isLeaf?c.filter(b=>!b.inline):c.slice();r(g,S,e.forChild(o,g),x),o=w}}function X4(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Q4(t,e,n,r){for(let s=0,o=0;s<t.childCount&&o<=r;){let a=t.child(s++),c=o;if(o+=a.nodeSize,!a.isText)continue;let d=a.text;for(;s<t.childCount;){let f=t.child(s++);if(o+=f.nodeSize,!f.isText)break;d+=f.text}if(o>=n){if(o>=r&&d.slice(r-e.length-c,r-c)==e)return r-e.length;let f=c<r?d.lastIndexOf(e,r-c-1):-1;if(f>=0&&f+e.length+c>=n)return c+f;if(n==r&&d.length>=r+e.length-c&&d.slice(r-c,r-c+e.length)==e)return r}}return-1}function Qh(t,e,n,r,s){let o=[];for(let a=0,c=0;a<t.length;a++){let d=t[a],f=c,p=c+=d.size;f>=n||p<=e?o.push(d):(f<e&&o.push(d.slice(0,e-f,r)),s&&(o.push(s),s=void 0),p>n&&o.push(d.slice(n-f,d.size,r)))}return o}function om(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),o=s&&s.size==0,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let c=r.resolve(a),d,f;if(ku(n)){for(d=a;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&ce.isSelectable(m)&&s.parent&&!(m.isInline&&T4(n.focusNode,n.focusOffset,s.dom))){let g=s.posBefore;f=new ce(a==g?c:r.resolve(g))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=a,g=a;for(let x=0;x<n.rangeCount;x++){let w=n.getRangeAt(x);m=Math.min(m,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(m<0)return null;[d,a]=g==t.state.selection.anchor?[g,m]:[m,g],c=r.resolve(a)}else d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null}let p=r.resolve(d);if(!f){let m=e=="pointer"||t.state.selection.head<c.pos&&!o?1:-1;f=lm(t,p,c,m)}return f}function ES(t){return t.editable?t.hasFocus():MS(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function hr(t,e=!1){let n=t.state.selection;if(NS(t,n),!!ES(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&vt){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&Us(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)eP(t);else{let{anchor:r,head:s}=n,o,a;E1&&!(n instanceof me)&&(n.$from.parent.inlineContent||(o=N1(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(a=N1(t,n.to))),t.docView.setSelection(r,s,t,e),E1&&(o&&M1(o),a&&M1(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Z4(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const E1=Lt||vt&&hS<63;function N1(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Lt&&s&&s.contentEditable=="false")return Zf(s);if((!s||s.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(s)return Zf(s);if(o)return Zf(o)}}function Zf(t){return t.contentEditable="true",Lt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function M1(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Z4(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!ES(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function eP(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,r=n.nodeName=="IMG";r?e.collapse(n.parentNode,Nt(n)+1):e.collapse(n,0),!r&&!t.state.selection.visible&&Qt&&Yr<=11&&(n.disabled=!0,n.disabled=!1)}function NS(t,e){if(e instanceof ce){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(A1(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else A1(t)}function A1(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function lm(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||me.between(e,n,r)}function P1(t){return t.editable&&!t.hasFocus()?!1:MS(t)}function MS(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function tP(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Us(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Zh(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),o=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return o&&we.findFrom(o,e)}function Vr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function D1(t,e,n){let r=t.state.selection;if(r instanceof me)if(n.indexOf("s")>-1){let{$head:s}=r,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let a=t.state.doc.resolve(s.pos+o.nodeSize*(e<0?-1:1));return Vr(t,new me(r.$anchor,a))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=Zh(t.state,e);return s&&s instanceof ce?Vr(t,s):!1}else if(!(xn&&n.indexOf("m")>-1)){let s=r.$head,o=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,a;if(!o||o.isText)return!1;let c=e<0?s.pos-o.nodeSize:s.pos;return o.isAtom||(a=t.docView.descAt(c))&&!a.contentDOM?ce.isSelectable(o)?Vr(t,new ce(e<0?t.state.doc.resolve(s.pos-o.nodeSize):s)):El?Vr(t,new me(t.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof ce&&r.node.isInline)return Vr(t,new me(e>0?r.$to:r.$from));{let s=Zh(t.state,e);return s?Vr(t,s):!1}}}function Mc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Xo(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Si(t,e){return e<0?nP(t):rP(t)}function nP(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,o,a=!1;for(Sn&&n.nodeType==1&&r<Mc(n)&&Xo(n.childNodes[r],-1)&&(a=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(Xo(c,-1))s=n,o=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(AS(n))break;{let c=n.previousSibling;for(;c&&Xo(c,-1);)s=n.parentNode,o=Nt(c),c=c.previousSibling;if(c)n=c,r=Mc(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?ep(t,n,r):s&&ep(t,s,o)}function rP(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Mc(n),o,a;for(;;)if(r<s){if(n.nodeType!=1)break;let c=n.childNodes[r];if(Xo(c,1))o=n,a=++r;else break}else{if(AS(n))break;{let c=n.nextSibling;for(;c&&Xo(c,1);)o=c.parentNode,a=Nt(c)+1,c=c.nextSibling;if(c)n=c,r=0,s=Mc(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}o&&ep(t,o,a)}function AS(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function sP(t,e){for(;t&&e==t.childNodes.length&&!Tl(t);)e=Nt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function iP(t,e){for(;t&&!e&&!Tl(t);)e=Nt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function ep(t,e,n){if(e.nodeType!=3){let o,a;(a=sP(e,n))?(e=a,n=0):(o=iP(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(ku(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&hr(t)},50)}function R1(t,e){let n=t.state.doc.resolve(e);if(!(vt||pS)&&n.parent.inlineContent){let s=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),a=(o.top+o.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(o.left-s.left)>1)return o.left<s.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),a=(o.top+o.bottom)/2;if(a>s.top&&a<s.bottom&&Math.abs(o.left-s.left)>1)return o.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function j1(t,e,n){let r=t.state.selection;if(r instanceof me&&!r.empty||n.indexOf("s")>-1||xn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:o}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let a=Zh(t.state,e);if(a&&a instanceof ce)return Vr(t,a)}if(!s.parent.inlineContent){let a=e<0?s:o,c=r instanceof ln?we.near(a,e):we.findFrom(a,e);return c?Vr(t,c):!1}return!1}function O1(t,e){if(!(t.state.selection instanceof me))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let a=t.state.tr;return e<0?a.delete(n.pos-o.nodeSize,n.pos):a.delete(n.pos,n.pos+o.nodeSize),t.dispatch(a),!0}return!1}function I1(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function oP(t){if(!Lt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;I1(t,r,"true"),setTimeout(()=>I1(t,r,"false"),20)}return!1}function lP(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function aP(t,e){let n=e.keyCode,r=lP(e);if(n==8||xn&&n==72&&r=="c")return O1(t,-1)||Si(t,-1);if(n==46&&!e.shiftKey||xn&&n==68&&r=="c")return O1(t,1)||Si(t,1);if(n==13||n==27)return!0;if(n==37||xn&&n==66&&r=="c"){let s=n==37?R1(t,t.state.selection.from)=="ltr"?-1:1:-1;return D1(t,s,r)||Si(t,s)}else if(n==39||xn&&n==70&&r=="c"){let s=n==39?R1(t,t.state.selection.from)=="ltr"?1:-1:1;return D1(t,s,r)||Si(t,s)}else{if(n==38||xn&&n==80&&r=="c")return j1(t,-1,r)||Si(t,-1);if(n==40||xn&&n==78&&r=="c")return oP(t)||j1(t,1,r)||Si(t,1);if(r==(xn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function am(t,e){t.someProp("transformCopied",x=>{e=x(e,t)});let n=[],{content:r,openStart:s,openEnd:o}=e;for(;s>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,o--;let x=r.firstChild;n.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),r=x.content}let a=t.someProp("clipboardSerializer")||qs.fromSchema(t.state.schema),c=IS(),d=c.createElement("div");d.appendChild(a.serializeFragment(r,{document:c}));let f=d.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=OS[f.nodeName.toLowerCase()]);){for(let x=p.length-1;x>=0;x--){let w=c.createElement(p[x]);for(;d.firstChild;)w.appendChild(d.firstChild);d.appendChild(w),m++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${s} ${o}${m?` -${m}`:""} ${JSON.stringify(n)}`);let g=t.someProp("clipboardTextSerializer",x=>x(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:g,slice:e}}function PS(t,e,n,r,s){let o=s.parent.type.spec.code,a,c;if(!n&&!e)return null;let d=!!e&&(r||o||!n);if(d){if(t.someProp("transformPastedText",g=>{e=g(e,o||r,t)}),o)return c=new Z(K.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",g=>{c=g(c,t,!0)}),c;let m=t.someProp("clipboardTextParser",g=>g(e,s,r,t));if(m)c=m;else{let g=s.marks(),{schema:x}=t.state,w=qs.fromSchema(x);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let b=a.appendChild(document.createElement("p"));S&&b.appendChild(w.serializeNode(x.text(S,g)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),a=fP(n),El&&hP(a);let f=a&&a.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let g=a.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;a=g}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||Jr.fromSchema(t.state.schema)).parseSlice(a,{preserveWhitespace:!!(d||p),context:s,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!cP.test(g.parentNode.nodeName)?{ignore:!0}:null}})),p)c=pP(L1(c,+p[1],+p[2]),p[4]);else if(c=Z.maxOpen(uP(c.content,s),!0),c.openStart||c.openEnd){let m=0,g=0;for(let x=c.content.firstChild;m<c.openStart&&!x.type.spec.isolating;m++,x=x.firstChild);for(let x=c.content.lastChild;g<c.openEnd&&!x.type.spec.isolating;g++,x=x.lastChild);c=L1(c,m,g)}return t.someProp("transformPasted",m=>{c=m(c,t,d)}),c}const cP=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function uP(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.index(n)),o,a=[];if(t.forEach(c=>{if(!a)return;let d=s.findWrapping(c.type),f;if(!d)return a=null;if(f=a.length&&o.length&&RS(d,o,c,a[a.length-1],0))a[a.length-1]=f;else{a.length&&(a[a.length-1]=jS(a[a.length-1],o.length));let p=DS(c,d);a.push(p),s=s.matchType(p.type),o=d}}),a)return K.from(a)}return t}function DS(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,K.from(t));return t}function RS(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let o=RS(t,e,n,r.lastChild,s+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(K.from(DS(n,t,s+1))))}}function jS(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,jS(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(K.empty,!0);return t.copy(n.append(r))}function tp(t,e,n,r,s,o){let a=e<0?t.firstChild:t.lastChild,c=a.content;return t.childCount>1&&(o=0),s<r-1&&(c=tp(c,e,n,r,s+1,o)),s>=n&&(c=e<0?a.contentMatchAt(0).fillBefore(c,o<=s).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(K.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(c))}function L1(t,e,n){return e<t.openStart&&(t=new Z(tp(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Z(tp(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const OS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let z1=null;function IS(){return z1||(z1=document.implementation.createHTMLDocument("title"))}let eh=null;function dP(t){let e=window.trustedTypes;return e?(eh||(eh=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),eh.createHTML(t)):t}function fP(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=IS().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&OS[r[1].toLowerCase()])&&(t=s.map(o=>"<"+o+">").join("")+t+s.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=dP(t),s)for(let o=0;o<s.length;o++)n=n.querySelector(s[o])||n;return n}function hP(t){let e=t.querySelectorAll(vt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function pP(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:o,openEnd:a}=t;for(let c=r.length-2;c>=0;c-=2){let d=n.nodes[r[c]];if(!d||d.hasRequiredAttrs())break;s=K.from(d.create(r[c+1],s)),o++,a++}return new Z(s,o,a)}const Ht={},Ut={},mP={touchstart:!0,touchmove:!0};class gP{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function yP(t){for(let e in Ht){let n=Ht[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{vP(t,r)&&!cm(t,r)&&(t.editable||!(r.type in Ut))&&n(t,r)},mP[e]?{passive:!0}:void 0)}Lt&&t.dom.addEventListener("input",()=>null),np(t)}function Gr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function xP(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function np(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>cm(t,r))})}function cm(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function vP(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function kP(t,e){!cm(t,e)&&Ht[e.type]&&(t.editable||!(e.type in Ut))&&Ht[e.type](t,e)}Ut.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!zS(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ur&&vt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Vi&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Ms(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||aP(t,n)?n.preventDefault():Gr(t,"key")};Ut.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Ut.keypress=(t,e)=>{let n=e;if(zS(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||xn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof me)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",a=>a(t,r.$from.pos,r.$to.pos,s,o))&&t.dispatch(o()),n.preventDefault()}};function Su(t){return{left:t.clientX,top:t.clientY}}function wP(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function um(t,e,n,r,s){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let a=o.depth+1;a>0;a--)if(t.someProp(e,c=>a>o.depth?c(t,n,o.nodeAfter,o.before(a),s,!0):c(t,n,o.node(a),o.before(a),s,!1)))return!0;return!1}function Oi(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function SP(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&ce.isSelectable(r)?(Oi(t,new ce(n)),!0):!1}function bP(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof ce&&(r=n.node);let o=t.state.doc.resolve(e);for(let a=o.depth+1;a>0;a--){let c=a>o.depth?o.nodeAfter:o.node(a);if(ce.isSelectable(c)){r&&n.$from.depth>0&&a>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?s=o.before(n.$from.depth):s=o.before(a);break}}return s!=null?(Oi(t,ce.create(t.state.doc,s)),!0):!1}function CP(t,e,n,r,s){return um(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(s?bP(t,n):SP(t,n))}function TP(t,e,n,r){return um(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function EP(t,e,n,r){return um(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||NP(t,n,r)}function NP(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Oi(t,me.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o),c=s.before(o);if(a.inlineContent)Oi(t,me.create(r,c+1,c+1+a.content.size));else if(ce.isSelectable(a))Oi(t,ce.create(r,c));else continue;return!0}}function dm(t){return Ac(t)}const LS=xn?"metaKey":"ctrlKey";Ht.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=dm(t),s=Date.now(),o="singleClick";s-t.input.lastClick.time<500&&wP(n,t.input.lastClick)&&!n[LS]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:o,button:n.button};let a=t.posAtCoords(Su(n));a&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new MP(t,a,n,!!r)):(o=="doubleClick"?TP:EP)(t,a.pos,a.inside,n)?n.preventDefault():Gr(t,"pointer"))};class MP{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[LS],this.allowDefault=r.shiftKey;let o,a;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),a=n.inside;else{let p=e.state.doc.resolve(n.pos);o=p.parent,a=p.depth?p.before():0}const c=s?null:r.target,d=c?e.docView.nearestDesc(c,!0):null;this.target=d&&d.nodeDOM.nodeType==1?d.nodeDOM:null;let{selection:f}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||f instanceof ce&&f.from<=a&&f.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Sn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Gr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>hr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Su(e))),this.updateAllowDefault(e),this.allowDefault||!n?Gr(this.view,"pointer"):CP(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Lt&&this.mightDrag&&!this.mightDrag.node.isAtom||vt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Oi(this.view,we.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Gr(this.view,"pointer")}move(e){this.updateAllowDefault(e),Gr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ht.touchstart=t=>{t.input.lastTouch=Date.now(),dm(t),Gr(t,"pointer")};Ht.touchmove=t=>{t.input.lastTouch=Date.now(),Gr(t,"pointer")};Ht.contextmenu=t=>dm(t);function zS(t,e){return t.composing?!0:Lt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const AP=ur?5e3:-1;Ut.compositionstart=Ut.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof me&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||vt&&pS&&PP(t)))t.markCursor=t.state.storedMarks||n.marks(),Ac(t,!0),t.markCursor=null;else if(Ac(t,!e.selection.empty),Sn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,o=r.focusOffset;s&&s.nodeType==1&&o!=0;){let a=o<0?s.lastChild:s.childNodes[o-1];if(!a)break;if(a.nodeType==3){let c=t.domSelection();c&&c.collapse(a,a.nodeValue.length);break}else s=a,o=-1}}t.input.composing=!0}BS(t,AP)};function PP(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let r=e.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}Ut.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,BS(t,20))};function BS(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Ac(t),e))}function VS(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=RP());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function DP(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=b4(e.focusNode,e.focusOffset),r=C4(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let s=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!s||!s.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let a=n.pmViewDesc;if(!(!a||!a.isText(n.nodeValue)))return r}}return n||r}function RP(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Ac(t,e=!1){if(!(ur&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),VS(t),e||t.docView&&t.docView.dirty){let n=om(t),r=t.state.selection;return n&&!n.eq(r)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function jP(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const hl=Qt&&Yr<15||Vi&&M4<604;Ht.copy=Ut.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let o=hl?null:n.clipboardData,a=r.content(),{dom:c,text:d}=am(t,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",d)):jP(t,c),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function OP(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function IP(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?pl(t,r.value,null,s,e):pl(t,r.textContent,r.innerHTML,s,e)},50)}function pl(t,e,n,r,s){let o=PS(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,s,o||Z.empty)))return!0;if(!o)return!1;let a=OP(o),c=a?t.state.tr.replaceSelectionWith(a,r):t.state.tr.replaceSelection(o);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function _S(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Ut.paste=(t,e)=>{let n=e;if(t.composing&&!ur)return;let r=hl?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&pl(t,_S(r),r.getData("text/html"),s,n)?n.preventDefault():IP(t,n)};class FS{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const LP=xn?"altKey":"ctrlKey";function $S(t,e){let n=t.someProp("dragCopies",r=>!r(e));return n??!e[LP]}Ht.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,o=s.empty?null:t.posAtCoords(Su(n)),a;if(!(o&&o.pos>=s.from&&o.pos<=(s instanceof ce?s.to-1:s.to))){if(r&&r.mightDrag)a=ce.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=t.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(a=ce.create(t.state.doc,m.posBefore))}}let c=(a||t.state.selection).content(),{dom:d,text:f,slice:p}=am(t,c);(!n.dataTransfer.files.length||!vt||hS>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(hl?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",hl||n.dataTransfer.setData("text/plain",f),t.dragging=new FS(p,$S(t,n),a)};Ht.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Ut.dragover=Ut.dragenter=(t,e)=>e.preventDefault();Ut.drop=(t,e)=>{try{zP(t,e,t.dragging)}finally{t.dragging=null}};function zP(t,e,n){if(!e.dataTransfer)return;let r=t.posAtCoords(Su(e));if(!r)return;let s=t.state.doc.resolve(r.pos),o=n&&n.slice;o?t.someProp("transformPasted",x=>{o=x(o,t,!1)}):o=PS(t,_S(e.dataTransfer),hl?null:e.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&$S(t,e));if(t.someProp("handleDrop",x=>x(t,e,o||Z.empty,a))){e.preventDefault();return}if(!o)return;e.preventDefault();let c=o?Kw(t.state.doc,s.pos,o):s.pos;c==null&&(c=s.pos);let d=t.state.tr;if(a){let{node:x}=n;x?x.replace(d):d.deleteSelection()}let f=d.mapping.map(c),p=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,m=d.doc;if(p?d.replaceRangeWith(f,f,o.content.firstChild):d.replaceRange(f,f,o),d.doc.eq(m))return;let g=d.doc.resolve(f);if(p&&ce.isSelectable(o.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new ce(g));else{let x=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((w,S,b,T)=>x=T),d.setSelection(lm(t,g,d.doc.resolve(x)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))}Ht.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&hr(t)},20))};Ht.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ht.beforeinput=(t,e)=>{if(vt&&ur&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Ms(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in Ut)Ht[t]=Ut[t];function ml(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Pc{constructor(e,n){this.toDOM=e,this.spec=n||Bs,this.side=this.spec.side||0}map(e,n,r,s){let{pos:o,deleted:a}=e.mapResult(n.from+s,this.side<0?-1:1);return a?null:new $t(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Pc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ml(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Qr{constructor(e,n){this.attrs=e,this.spec=n||Bs}map(e,n,r,s){let o=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,a=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return o>=a?null:new $t(o,a,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Qr&&ml(this.attrs,e.attrs)&&ml(this.spec,e.spec)}static is(e){return e.type instanceof Qr}destroy(){}}class fm{constructor(e,n){this.attrs=e,this.spec=n||Bs}map(e,n,r,s){let o=e.mapResult(n.from+s,1);if(o.deleted)return null;let a=e.mapResult(n.to+s,-1);return a.deleted||a.pos<=o.pos?null:new $t(o.pos-r,a.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),o;return s==n.from&&!(o=e.child(r)).isText&&s+o.nodeSize==n.to}eq(e){return this==e||e instanceof fm&&ml(this.attrs,e.attrs)&&ml(this.spec,e.spec)}destroy(){}}class $t{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new $t(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new $t(e,e,new Pc(n,r))}static inline(e,n,r,s){return new $t(e,n,new Qr(r,s))}static node(e,n,r,s){return new $t(e,n,new fm(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Qr}get widget(){return this.type instanceof Pc}}const Ci=[],Bs={};class Ge{constructor(e,n){this.local=e.length?e:Ci,this.children=n.length?n:Ci}static create(e,n){return n.length?Dc(n,e,0,Bs):Ot}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,o){for(let a=0;a<this.local.length;a++){let c=this.local[a];c.from<=n&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+s,c.to+s))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<n&&this.children[a+1]>e){let c=this.children[a]+1;this.children[a+2].findInner(e-c,n-c,r,s+c,o)}}map(e,n,r){return this==Ot||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Bs)}mapInner(e,n,r,s,o){let a;for(let c=0;c<this.local.length;c++){let d=this.local[c].map(e,r,s);d&&d.type.valid(n,d)?(a||(a=[])).push(d):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?BP(this.children,a||[],e,n,r,s,o):a?new Ge(a.sort(Vs),Ci):Ot}add(e,n){return n.length?this==Ot?Ge.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,o=0;e.forEach((c,d)=>{let f=d+r,p;if(p=US(n,c,f)){for(s||(s=this.children.slice());o<s.length&&s[o]<d;)o+=3;s[o]==d?s[o+2]=s[o+2].addInner(c,p,f+1):s.splice(o,0,d,d+c.nodeSize,Dc(p,c,f+1,Bs)),o+=3}});let a=HS(o?WS(n):n,-r);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new Ge(a.length?this.local.concat(a).sort(Vs):this.local,s||this.children)}remove(e){return e.length==0||this==Ot?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let o=0;o<r.length;o+=3){let a,c=r[o]+n,d=r[o+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>c&&m.to<d&&(e[p]=null,(a||(a=[])).push(m));if(!a)continue;r==this.children&&(r=this.children.slice());let f=r[o+2].removeInner(a,c+1);f!=Ot?r[o+2]=f:(r.splice(o,3),o-=3)}if(s.length){for(let o=0,a;o<e.length;o++)if(a=e[o])for(let c=0;c<s.length;c++)s[c].eq(a,n)&&(s==this.local&&(s=this.local.slice()),s.splice(c--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Ge(s,r):Ot}forChild(e,n){if(this==Ot)return this;if(n.isLeaf)return Ge.empty;let r,s;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,a=o+n.content.size;for(let c=0;c<this.local.length;c++){let d=this.local[c];if(d.from<a&&d.to>o&&d.type instanceof Qr){let f=Math.max(o,d.from)-o,p=Math.min(a,d.to)-o;f<p&&(s||(s=[])).push(d.copy(f,p))}}if(s){let c=new Ge(s.sort(Vs),Ci);return r?new Hr([c,r]):c}return r||Ot}eq(e){if(this==e)return!0;if(!(e instanceof Ge)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return hm(this.localsInner(e))}localsInner(e){if(this==Ot)return Ci;if(e.inlineContent||!this.local.some(Qr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Qr||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Ge.empty=new Ge([],[]);Ge.removeOverlap=hm;const Ot=Ge.empty;class Hr{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Bs));return Hr.from(r)}forChild(e,n){if(n.isLeaf)return Ge.empty;let r=[];for(let s=0;s<this.members.length;s++){let o=this.members[s].forChild(e,n);o!=Ot&&(o instanceof Hr?r=r.concat(o.members):r.push(o))}return Hr.from(r)}eq(e){if(!(e instanceof Hr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let o=this.members[s].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let a=0;a<o.length;a++)n.push(o[a])}}return n?hm(r?n:n.sort(Vs)):Ci}static from(e){switch(e.length){case 0:return Ot;case 1:return e[0];default:return new Hr(e.every(n=>n instanceof Ge)?e:e.reduce((n,r)=>n.concat(r instanceof Ge?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function BP(t,e,n,r,s,o,a){let c=t.slice();for(let f=0,p=o;f<n.maps.length;f++){let m=0;n.maps[f].forEach((g,x,w,S)=>{let b=S-w-(x-g);for(let T=0;T<c.length;T+=3){let N=c[T+1];if(N<0||g>N+p-m)continue;let D=c[T]+p-m;x>=D?c[T+1]=g<=D?-2:-1:g>=p&&b&&(c[T]+=b,c[T+1]+=b)}m+=b}),p=n.maps[f].map(p,-1)}let d=!1;for(let f=0;f<c.length;f+=3)if(c[f+1]<0){if(c[f+1]==-2){d=!0,c[f+1]=-1;continue}let p=n.map(t[f]+o),m=p-s;if(m<0||m>=r.content.size){d=!0;continue}let g=n.map(t[f+1]+o,-1),x=g-s,{index:w,offset:S}=r.content.findIndex(m),b=r.maybeChild(w);if(b&&S==m&&S+b.nodeSize==x){let T=c[f+2].mapInner(n,b,p+1,t[f]+o+1,a);T!=Ot?(c[f]=m,c[f+1]=x,c[f+2]=T):(c[f+1]=-2,d=!0)}else d=!0}if(d){let f=VP(c,t,e,n,s,o,a),p=Dc(f,r,0,a);e=p.local;for(let m=0;m<c.length;m+=3)c[m+1]<0&&(c.splice(m,3),m-=3);for(let m=0,g=0;m<p.children.length;m+=3){let x=p.children[m];for(;g<c.length&&c[g]<x;)g+=3;c.splice(g,0,p.children[m],p.children[m+1],p.children[m+2])}}return new Ge(e.sort(Vs),c)}function HS(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new $t(s.from+e,s.to+e,s.type))}return n}function VP(t,e,n,r,s,o,a){function c(d,f){for(let p=0;p<d.local.length;p++){let m=d.local[p].map(r,s,f);m?n.push(m):a.onRemove&&a.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)c(d.children[p+2],d.children[p]+f+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&c(t[d+2],e[d]+o+1);return n}function US(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let o=0,a;o<t.length;o++)(a=t[o])&&a.from>n&&a.to<r&&((s||(s=[])).push(a),t[o]=null);return s}function WS(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Dc(t,e,n,r){let s=[],o=!1;e.forEach((c,d)=>{let f=US(t,c,d+n);if(f){o=!0;let p=Dc(f,c,n+d+1,r);p!=Ot&&s.push(d,d+c.nodeSize,p)}});let a=HS(o?WS(t):t,-n).sort(Vs);for(let c=0;c<a.length;c++)a[c].type.valid(e,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||s.length?new Ge(a,s):Ot}function Vs(t,e){return t.from-e.from||t.to-e.to}function hm(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let o=e[s];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[s]=o.copy(o.from,r.to),B1(e,s+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),B1(e,s,r.copy(o.from,r.to)));break}}}return e}function B1(t,e,n){for(;e<t.length&&Vs(n,t[e])>0;)e++;t.splice(e,0,n)}function th(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Ot&&e.push(r)}),t.cursorWrapper&&e.push(Ge.create(t.state.doc,[t.cursorWrapper.deco])),Hr.from(e)}const _P={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},FP=Qt&&Yr<=11;class $P{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class HP{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new $P,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);Qt&&Yr<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),FP&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,_P)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(P1(this.view)){if(this.suppressingSelectionUpdates)return hr(this.view);if(Qt&&Yr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Us(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Bi(o))n.add(o);for(let o=e.anchorNode;o;o=Bi(o))if(n.has(o)){r=o;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&P1(e)&&!this.ignoreSelectionChange(r),o=-1,a=-1,c=!1,d=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],d);m&&(o=o<0?m.from:Math.min(m.from,o),a=a<0?m.to:Math.max(m.to,a),m.typeOver&&(c=!0))}if(Sn&&d.length){let p=d.filter(m=>m.nodeName=="BR");if(p.length==2){let[m,g]=p;m.parentNode&&m.parentNode.parentNode==g.parentNode?g.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let g of p){let x=g.parentNode;x&&x.nodeName=="LI"&&(!m||KP(e,m)!=x)&&g.remove()}}}else if((vt||Lt)&&d.some(p=>p.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let p of d)if(p.nodeName=="BR"&&p.parentNode){let m=p.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&p.parentNode.removeChild(p)}}let f=null;o<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ku(r)&&(f=om(e))&&f.eq(we.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,hr(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||s)&&(o>-1&&(e.docView.markDirty(o,a),UP(e)),this.handleDOMChange(o,a,c,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||hr(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let m=e.addedNodes[p];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,o=e.nextSibling;if(Qt&&Yr<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:g}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(o=g)}let a=s&&s.parentNode==e.target?Nt(s)+1:0,c=r.localPosFromDOM(e.target,a,-1),d=o&&o.parentNode==e.target?Nt(o):e.target.childNodes.length,f=r.localPosFromDOM(e.target,d,1);return{from:c,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let V1=new WeakMap,_1=!1;function UP(t){if(!V1.has(t)&&(V1.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Sn,_1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),_1=!0}}function F1(t,e){let n=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Us(a.node,a.offset,s,o)&&([n,r,s,o]=[s,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:s,focusOffset:o}}function WP(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return F1(t,s)}let n;function r(s){s.preventDefault(),s.stopImmediatePropagation(),n=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?F1(t,n):null}function KP(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function qP(t,e,n){let{node:r,fromOffset:s,toOffset:o,from:a,to:c}=t.docView.parseRange(e,n),d=t.domSelectionRange(),f,p=d.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],ku(d)||f.push({node:d.focusNode,offset:d.focusOffset})),vt&&t.input.lastKeyCode===8)for(let b=o;b>s;b--){let T=r.childNodes[b-1],N=T.pmViewDesc;if(T.nodeName=="BR"&&!N){o=b;break}if(!N||N.size)break}let m=t.state.doc,g=t.someProp("domParser")||Jr.fromSchema(t.state.schema),x=m.resolve(a),w=null,S=g.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:s,to:o,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:GP,context:x});if(f&&f[0].pos!=null){let b=f[0].pos,T=f[1]&&f[1].pos;T==null&&(T=b),w={anchor:b+a,head:T+a}}return{doc:S,sel:w,from:a,to:c}}function GP(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Lt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Lt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const JP=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function YP(t,e,n,r,s){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let B=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,F=om(t,B);if(F&&!t.state.selection.eq(F)){if(vt&&ur&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ue=>ue(t,Ms(13,"Enter"))))return;let te=t.state.tr.setSelection(F);B=="pointer"?te.setMeta("pointer",!0):B=="key"&&te.scrollIntoView(),o&&te.setMeta("composition",o),t.dispatch(te)}return}let a=t.state.doc.resolve(e),c=a.sharedDepth(n);e=a.before(c+1),n=t.state.doc.resolve(n).after(c+1);let d=t.state.selection,f=qP(t,e,n),p=t.state.doc,m=p.slice(f.from,f.to),g,x;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,x="end"):(g=t.state.selection.from,x="start"),t.input.lastKeyCode=null;let w=ZP(m.content,f.doc.content,f.from,g,x);if(w&&t.input.domChangeCount++,(Vi&&t.input.lastIOSEnter>Date.now()-225||ur)&&s.some(B=>B.nodeType==1&&!JP.test(B.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",B=>B(t,Ms(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&d instanceof me&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))w={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let B=$1(t,t.state.doc,f.sel);if(B&&!B.eq(t.state.selection)){let F=t.state.tr.setSelection(B);o&&F.setMeta("composition",o),t.dispatch(F)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof me&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),Qt&&Yr<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>f.from&&f.doc.textBetween(w.start-f.from-1,w.start-f.from+1)==" "&&(w.start--,w.endA--,w.endB--);let S=f.doc.resolveNoCache(w.start-f.from),b=f.doc.resolveNoCache(w.endB-f.from),T=p.resolve(w.start),N=S.sameParent(b)&&S.parent.inlineContent&&T.end()>=w.endA;if((Vi&&t.input.lastIOSEnter>Date.now()-225&&(!N||s.some(B=>B.nodeName=="DIV"||B.nodeName=="P"))||!N&&S.pos<f.doc.content.size&&(!S.sameParent(b)||!S.parent.inlineContent)&&S.pos<b.pos&&!/\S/.test(f.doc.textBetween(S.pos,b.pos,"","")))&&t.someProp("handleKeyDown",B=>B(t,Ms(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&QP(p,w.start,w.endA,S,b)&&t.someProp("handleKeyDown",B=>B(t,Ms(8,"Backspace")))){ur&&vt&&t.domObserver.suppressSelectionUpdates();return}vt&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),ur&&!N&&S.start()!=b.start()&&b.parentOffset==0&&S.depth==b.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==w.endA&&(w.endB-=2,b=f.doc.resolveNoCache(w.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(B){return B(t,Ms(13,"Enter"))})},20));let D=w.start,V=w.endA,j=B=>{let F=B||t.state.tr.replace(D,V,f.doc.slice(w.start-f.from,w.endB-f.from));if(f.sel){let te=$1(t,F.doc,f.sel);te&&!(vt&&t.composing&&te.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&(te.head==D||te.head==F.mapping.map(V)-1)||Qt&&te.empty&&te.head==D)&&F.setSelection(te)}return o&&F.setMeta("composition",o),F.scrollIntoView()},z;if(N)if(S.pos==b.pos){Qt&&Yr<=11&&S.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>hr(t),20));let B=j(t.state.tr.delete(D,V)),F=p.resolve(w.start).marksAcross(p.resolve(w.endA));F&&B.ensureMarks(F),t.dispatch(B)}else if(w.endA==w.endB&&(z=XP(S.parent.content.cut(S.parentOffset,b.parentOffset),T.parent.content.cut(T.parentOffset,w.endA-T.start())))){let B=j(t.state.tr);z.type=="add"?B.addMark(D,V,z.mark):B.removeMark(D,V,z.mark),t.dispatch(B)}else if(S.parent.child(S.index()).isText&&S.index()==b.index()-(b.textOffset?0:1)){let B=S.parent.textBetween(S.parentOffset,b.parentOffset),F=()=>j(t.state.tr.insertText(B,D,V));t.someProp("handleTextInput",te=>te(t,D,V,B,F))||t.dispatch(F())}else t.dispatch(j());else t.dispatch(j())}function $1(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:lm(t,e.resolve(n.anchor),e.resolve(n.head))}function XP(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,o=r,a,c,d;for(let p=0;p<r.length;p++)s=r[p].removeFromSet(s);for(let p=0;p<n.length;p++)o=n[p].removeFromSet(o);if(s.length==1&&o.length==0)c=s[0],a="add",d=p=>p.mark(c.addToSet(p.marks));else if(s.length==0&&o.length==1)c=o[0],a="remove",d=p=>p.mark(c.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<e.childCount;p++)f.push(d(e.child(p)));if(K.from(f).eq(t))return{mark:c,type:a}}function QP(t,e,n,r,s){if(n-e<=s.pos-r.pos||nh(r,!0,!1)<s.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let c=o.nodeAfter;return c!=null&&n==e+c.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=t.resolve(nh(o,!0,!0));return!a.parent.isTextblock||a.pos>n||nh(a,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function nh(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,s++}return s}function ZP(t,e,n,r,s){let o=t.findDiffStart(e,n);if(o==null)return null;let{a,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let d=Math.max(0,o-Math.min(a,c));r-=a+d-o}if(a<o&&t.size<e.size){let d=r<=o&&r>=a?o-r:0;o-=d,o&&o<e.size&&H1(e.textBetween(o-1,o+1))&&(o+=d?1:-1),c=o+(c-a),a=o}else if(c<o){let d=r<=o&&r>=c?o-r:0;o-=d,o&&o<t.size&&H1(t.textBetween(o-1,o+1))&&(o+=d?1:-1),a=o+(a-c),c=o}return{start:o,endA:a,endB:c}}function H1(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class KS{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new gP,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(G1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=K1(this),W1(this),this.nodeViews=q1(this),this.docView=C1(this.state.doc,U1(this),th(this),this.dom,this),this.domObserver=new HP(this,(r,s,o,a)=>YP(this,r,s,o,a)),this.domObserver.start(),yP(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&np(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(G1),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,o=!1,a=!1;e.storedMarks&&this.composing&&(VS(this),a=!0),this.state=e;let c=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(c||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let x=q1(this);tD(x,this.nodeViews)&&(this.nodeViews=x,o=!0)}(c||n.handleDOMEvents!=this._props.handleDOMEvents)&&np(this),this.editable=K1(this),W1(this);let d=th(this),f=U1(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=o||!this.docView.matchesNode(e.doc,f,d);(m||!e.selection.eq(s.selection))&&(a=!0);let g=p=="preserve"&&a&&this.dom.style.overflowAnchor==null&&D4(this);if(a){this.domObserver.stop();let x=m&&(Qt||vt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&eD(s.selection,e.selection);if(m){let w=vt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=DP(this)),(o||!this.docView.update(e.doc,f,d,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=C1(e.doc,f,d,this.dom,this)),w&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&tP(this))?hr(this,x):(NS(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():g&&R4(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof ce){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&x1(this,n.getBoundingClientRect(),e)}else x1(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(s=o)}this.dragging=new FS(e.slice,e.move,s<0?void 0:ce.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let a=0;a<this.directPlugins.length;a++){let c=this.directPlugins[a].props[e];if(c!=null&&(s=n?n(c):c))return s}let o=this.state.plugins;if(o)for(let a=0;a<o.length;a++){let c=o[a].props[e];if(c!=null&&(s=n?n(c):c))return s}}hasFocus(){if(Qt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&j4(this.dom),hr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return B4(this,e)}coordsAtPos(e,n=1){return vS(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return H4(this,n||this.state,e)}pasteHTML(e,n){return pl(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return pl(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return am(this,e)}destroy(){this.docView&&(xP(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],th(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,w4())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return kP(this,e)}domSelectionRange(){let e=this.domSelection();return e?Lt&&this.root.nodeType===11&&E4(this.dom.ownerDocument)==this.dom&&WP(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}KS.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function U1(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[$t.node(0,t.state.doc.content.size,e)]}function W1(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:$t.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function K1(t){return!t.someProp("editable",e=>e(t.state)===!1)}function eD(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function q1(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function tD(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function G1(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ts={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Rc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},nD=typeof navigator<"u"&&/Mac/.test(navigator.platform),rD=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Mt=0;Mt<10;Mt++)ts[48+Mt]=ts[96+Mt]=String(Mt);for(var Mt=1;Mt<=24;Mt++)ts[Mt+111]="F"+Mt;for(var Mt=65;Mt<=90;Mt++)ts[Mt]=String.fromCharCode(Mt+32),Rc[Mt]=String.fromCharCode(Mt);for(var rh in ts)Rc.hasOwnProperty(rh)||(Rc[rh]=ts[rh]);function sD(t){var e=nD&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||rD&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Rc:ts)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const iD=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),oD=typeof navigator<"u"&&/Win/.test(navigator.platform);function lD(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,o,a;for(let c=0;c<e.length-1;c++){let d=e[c];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))iD?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),a&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function aD(t){let e=Object.create(null);for(let n in t)e[lD(n)]=t[n];return e}function sh(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function cD(t){return new Ye({props:{handleKeyDown:qS(t)}})}function qS(t){let e=aD(t);return function(n,r){let s=sD(r),o,a=e[sh(s,r)];if(a&&a(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let c=e[sh(s,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(oD&&r.ctrlKey&&r.altKey)&&(o=ts[r.keyCode])&&o!=s){let c=e[sh(o,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}var uD=Object.defineProperty,pm=(t,e)=>{for(var n in e)uD(t,n,{get:e[n],enumerable:!0})};function bu(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,o=n.storedMarks,n}}}var Cu=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:r}=e,{tr:s}=n,o=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([a,c])=>[a,(...f)=>{const p=c(...f)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,a=[],c=!!t,d=t||s.tr,f=()=>(!c&&e&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(d),a.every(m=>m===!0)),p={...Object.fromEntries(Object.entries(n).map(([m,g])=>[m,(...w)=>{const S=this.buildProps(d,e),b=g(...w)(S);return a.push(b),p}])),run:f};return p}createCan(t){const{rawCommands:e,state:n}=this,r=!1,s=t||n.tr,o=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(e).map(([c,d])=>[c,(...f)=>d(...f)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(t,e=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,a={tr:t,editor:r,view:o,state:bu({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([c,d])=>[c,(...f)=>d(...f)(a)]))}};return a}},GS={};pm(GS,{blur:()=>dD,clearContent:()=>fD,clearNodes:()=>hD,command:()=>pD,createParagraphNear:()=>mD,cut:()=>gD,deleteCurrentNode:()=>yD,deleteNode:()=>xD,deleteRange:()=>vD,deleteSelection:()=>kD,enter:()=>wD,exitCode:()=>SD,extendMarkRange:()=>bD,first:()=>CD,focus:()=>ED,forEach:()=>ND,insertContent:()=>MD,insertContentAt:()=>DD,joinBackward:()=>OD,joinDown:()=>jD,joinForward:()=>ID,joinItemBackward:()=>LD,joinItemForward:()=>zD,joinTextblockBackward:()=>BD,joinTextblockForward:()=>VD,joinUp:()=>RD,keyboardShortcut:()=>FD,lift:()=>$D,liftEmptyBlock:()=>HD,liftListItem:()=>UD,newlineInCode:()=>WD,resetAttributes:()=>KD,scrollIntoView:()=>qD,selectAll:()=>GD,selectNodeBackward:()=>JD,selectNodeForward:()=>YD,selectParentNode:()=>XD,selectTextblockEnd:()=>QD,selectTextblockStart:()=>ZD,setContent:()=>eR,setMark:()=>kR,setMeta:()=>wR,setNode:()=>SR,setNodeSelection:()=>bR,setTextDirection:()=>CR,setTextSelection:()=>TR,sinkListItem:()=>ER,splitBlock:()=>NR,splitListItem:()=>MR,toggleList:()=>AR,toggleMark:()=>PR,toggleNode:()=>DR,toggleWrap:()=>RR,undoInputRule:()=>jR,unsetAllMarks:()=>OR,unsetMark:()=>IR,unsetTextDirection:()=>LR,updateAttributes:()=>zR,wrapIn:()=>BR,wrapInList:()=>VR});var dD=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),fD=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),hD=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:o,$to:a})=>{t.doc.nodesBetween(o.pos,a.pos,(c,d)=>{if(c.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(d)),g=f.resolve(p.map(d+c.nodeSize)),x=m.blockRange(g);if(!x)return;const w=Ki(x);if(c.type.isTextblock){const{defaultType:S}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(x.start,S)}(w||w===0)&&e.lift(x,w)})}),!0},pD=t=>e=>t(e),mD=()=>({state:t,dispatch:e})=>aS(t,e),gD=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,o=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const a=r.mapping.map(e);return r.insert(a,o.content),r.setSelection(new me(r.doc.resolve(Math.max(a-1,0)))),!0},yD=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r.type){if(e){const c=s.before(o),d=s.after(o);t.delete(c,d).scrollIntoView()}return!0}return!1};function at(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var xD=t=>({tr:e,state:n,dispatch:r})=>{const s=at(t,n.schema),o=e.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===s){if(r){const d=o.before(a),f=o.after(a);e.delete(d,f).scrollIntoView()}return!0}return!1},vD=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},kD=()=>({state:t,dispatch:e})=>em(t,e),wD=()=>({commands:t})=>t.keyboardShortcut("Enter"),SD=()=>({state:t,dispatch:e})=>o4(t,e);function mm(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function jc(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:mm(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function JS(t,e,n={}){return t.find(r=>r.type===e&&jc(Object.fromEntries(Object.keys(n).map(s=>[s,r.attrs[s]])),n))}function J1(t,e,n={}){return!!JS(t,e,n)}function gm(t,e,n){var r;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(p=>p.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(p=>p.type===e)||(n=n||((r=s.node.marks[0])==null?void 0:r.attrs),!JS([...s.node.marks],e,n)))return;let a=s.index,c=t.start()+s.offset,d=a+1,f=c+s.node.nodeSize;for(;a>0&&J1([...t.parent.child(a-1).marks],e,n);)a-=1,c-=t.parent.child(a).nodeSize;for(;d<t.parent.childCount&&J1([...t.parent.child(d).marks],e,n);)f+=t.parent.child(d).nodeSize,d+=1;return{from:c,to:f}}function mr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var bD=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const o=mr(t,r.schema),{doc:a,selection:c}=n,{$from:d,from:f,to:p}=c;if(s){const m=gm(d,o,e);if(m&&m.from<=f&&m.to>=p){const g=me.create(a,m.from,m.to);n.setSelection(g)}}return!0},CD=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function YS(t){return t instanceof me}function js(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function XS(t,e=null){if(!e)return null;const n=we.atStart(t),r=we.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,o=r.to;return e==="all"?me.create(t,js(0,s,o),js(t.content.size,s,o)):me.create(t,js(e,s,o),js(e,s,o))}function Y1(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Oc(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function TD(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var ED=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:o})=>{e={scrollIntoView:!0,...e};const a=()=>{(Oc()||Y1())&&r.dom.focus(),TD()&&!Oc()&&!Y1()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!YS(n.state.selection))return a(),!0;const c=XS(s.doc,t)||n.state.selection,d=n.state.selection.eq(c);return o&&(d||s.setSelection(c),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),a()),!0},ND=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),MD=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),QS=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&QS(r)}return t};function Ja(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return QS(n)}function gl(t,e,n){if(t instanceof zn||t instanceof K)return t;n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return K.fromArray(t.map(c=>e.nodeFromJSON(c)));const a=e.nodeFromJSON(t);return n.errorOnInvalidContent&&a.check(),a}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),gl("",e,n)}if(s){if(n.errorOnInvalidContent){let a=!1,c="";const d=new Iw({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(a=!0,c=typeof f=="string"?f:f.outerHTML,null)}]}})});if(n.slice?Jr.fromSchema(d).parseSlice(Ja(t),n.parseOptions):Jr.fromSchema(d).parse(Ja(t),n.parseOptions),n.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${c}`)})}const o=Jr.fromSchema(e);return n.slice?o.parseSlice(Ja(t),n.parseOptions).content:o.parse(Ja(t),n.parseOptions)}return gl("",e,n)}function AD(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof xt||s instanceof kt))return;const o=t.mapping.maps[r];let a=0;o.forEach((c,d,f,p)=>{a===0&&(a=p)}),t.setSelection(we.near(t.doc.resolve(a),n))}var PD=t=>!("type"in t),DD=(t,e,n)=>({tr:r,dispatch:s,editor:o})=>{var a;if(s){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let c;const d=b=>{o.emit("contentError",{editor:o,error:b,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{gl(e,o.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(b){d(b)}try{c=gl(e,o.schema,{parseOptions:f,errorOnInvalidContent:(a=n.errorOnInvalidContent)!=null?a:o.options.enableContentCheck})}catch(b){return d(b),!1}let{from:p,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,x=!0;if((PD(c)?c:[c]).forEach(b=>{b.check(),g=g?b.isText&&b.marks.length===0:!1,x=x?b.isBlock:!1}),p===m&&x){const{parent:b}=r.doc.resolve(p);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(p-=1,m+=1)}let S;if(g){if(Array.isArray(e))S=e.map(b=>b.text||"").join("");else if(e instanceof K){let b="";e.forEach(T=>{T.text&&(b+=T.text)}),S=b}else typeof e=="object"&&e&&e.text?S=e.text:S=e;r.insertText(S,p,m)}else{S=c;const b=r.doc.resolve(p),T=b.node(),N=b.parentOffset===0,D=T.isText||T.isTextblock,V=T.content.size>0;N&&D&&V&&(p=Math.max(0,p-1)),r.replaceWith(p,m,S)}n.updateSelection&&AD(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:S}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:S})}return!0},RD=()=>({state:t,dispatch:e})=>r4(t,e),jD=()=>({state:t,dispatch:e})=>s4(t,e),OD=()=>({state:t,dispatch:e})=>tS(t,e),ID=()=>({state:t,dispatch:e})=>iS(t,e),LD=()=>({state:t,dispatch:e,tr:n})=>{try{const r=yu(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},zD=()=>({state:t,dispatch:e,tr:n})=>{try{const r=yu(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},BD=()=>({state:t,dispatch:e})=>t4(t,e),VD=()=>({state:t,dispatch:e})=>n4(t,e);function ZS(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function _D(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,o,a;for(let c=0;c<e.length-1;c+=1){const d=e[c];if(/^(cmd|meta|m)$/i.test(d))a=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))o=!0;else if(/^mod$/i.test(d))Oc()||ZS()?a=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),a&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var FD=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const o=_D(t).split(/-(?!$)/),a=o.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),c=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,c))});return d==null||d.steps.forEach(f=>{const p=f.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function ns(t,e,n={}){const{from:r,to:s,empty:o}=t.selection,a=e?at(e,t.schema):null,c=[];t.doc.nodesBetween(r,s,(m,g)=>{if(m.isText)return;const x=Math.max(r,g),w=Math.min(s,g+m.nodeSize);c.push({node:m,from:x,to:w})});const d=s-r,f=c.filter(m=>a?a.name===m.node.type.name:!0).filter(m=>jc(m.node.attrs,n,{strict:!1}));return o?!!f.length:f.reduce((m,g)=>m+g.to-g.from,0)>=d}var $D=(t,e={})=>({state:n,dispatch:r})=>{const s=at(t,n.schema);return ns(n,s,e)?i4(n,r):!1},HD=()=>({state:t,dispatch:e})=>cS(t,e),UD=t=>({state:e,dispatch:n})=>{const r=at(t,e.schema);return y4(r)(e,n)},WD=()=>({state:t,dispatch:e})=>lS(t,e);function Tu(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function X1(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}var KD=(t,e)=>({tr:n,state:r,dispatch:s})=>{let o=null,a=null;const c=Tu(typeof t=="string"?t:t.name,r.schema);if(!c)return!1;c==="node"&&(o=at(t,r.schema)),c==="mark"&&(a=mr(t,r.schema));let d=!1;return n.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(p,m)=>{o&&o===p.type&&(d=!0,s&&n.setNodeMarkup(m,void 0,X1(p.attrs,e))),a&&p.marks.length&&p.marks.forEach(g=>{a===g.type&&(d=!0,s&&n.addMark(m,m+p.nodeSize,a.create(X1(g.attrs,e))))})})}),d},qD=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),GD=()=>({tr:t,dispatch:e})=>{if(e){const n=new ln(t.doc);t.setSelection(n)}return!0},JD=()=>({state:t,dispatch:e})=>rS(t,e),YD=()=>({state:t,dispatch:e})=>oS(t,e),XD=()=>({state:t,dispatch:e})=>c4(t,e),QD=()=>({state:t,dispatch:e})=>f4(t,e),ZD=()=>({state:t,dispatch:e})=>d4(t,e);function rp(t,e,n={},r={}){return gl(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var eR=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:s,tr:o,dispatch:a,commands:c})=>{const{doc:d}=o;if(r.preserveWhitespace!=="full"){const f=rp(t,s.schema,r,{errorOnInvalidContent:e??s.options.enableContentCheck});return a&&o.replaceWith(0,d.content.size,f).setMeta("preventUpdate",!n),!0}return a&&o.setMeta("preventUpdate",!n),c.insertContentAt({from:0,to:d.content.size},t,{parseOptions:r,errorOnInvalidContent:e??s.options.enableContentCheck})};function eb(t,e){const n=mr(e,t.schema),{from:r,to:s,empty:o}=t.selection,a=[];o?(t.storedMarks&&a.push(...t.storedMarks),a.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,d=>{a.push(...d.marks)});const c=a.find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function tb(t,e){const n=new Xw(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function tR(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function nR(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,o)=>{n(s)&&r.push({node:s,pos:o})}),r}function rR(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Eu(t){return e=>rR(e.$from,t)}function ae(t,e,n){return t.config[e]===void 0&&t.parent?ae(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ae(t.parent,e,n):null}):t.config[e]}function ym(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=ae(e,"addExtensions",n);return r?[e,...ym(r())]:e}).flat(10)}function xm(t,e){const n=qs.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(n),s.innerHTML}function nb(t){return typeof t=="function"}function ze(t,e=void 0,...n){return nb(t)?e?t.bind(e)(...n):t(...n):t}function sR(t={}){return Object.keys(t).length===0&&t.constructor===Object}function _i(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function rb(t){const e=[],{nodeExtensions:n,markExtensions:r}=_i(t),s=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage,extensions:s},d=ae(a,"addGlobalAttributes",c);if(!d)return;d().forEach(p=>{p.types.forEach(m=>{Object.entries(p.attributes).forEach(([g,x])=>{e.push({type:m,name:g,attribute:{...o,...x}})})})})}),s.forEach(a=>{const c={name:a.name,options:a.options,storage:a.storage},d=ae(a,"addAttributes",c);if(!d)return;const f=d();Object.entries(f).forEach(([p,m])=>{const g={...o,...m};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,e.push({type:a.name,name:p,attribute:g})})}),e}function ct(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,o])=>{if(!r[s]){r[s]=o;return}if(s==="class"){const c=o?String(o).split(" "):[],d=r[s]?r[s].split(" "):[],f=c.filter(p=>!d.includes(p));r[s]=[...d,...f].join(" ")}else if(s==="style"){const c=o?o.split(";").map(p=>p.trim()).filter(Boolean):[],d=r[s]?r[s].split(";").map(p=>p.trim()).filter(Boolean):[],f=new Map;d.forEach(p=>{const[m,g]=p.split(":").map(x=>x.trim());f.set(m,g)}),c.forEach(p=>{const[m,g]=p.split(":").map(x=>x.trim());f.set(m,g)}),r[s]=Array.from(f.entries()).map(([p,m])=>`${p}: ${m}`).join("; ")}else r[s]=o}),r},{})}function yl(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>ct(n,r),{})}function iR(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Q1(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((o,a)=>{const c=a.attribute.parseHTML?a.attribute.parseHTML(n):iR(n.getAttribute(a.name));return c==null?o:{...o,[a.name]:c}},{});return{...r,...s}}}}function Z1(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&sR(n)?!1:n!=null))}function ev(t){var e,n;const r={};return!((e=t==null?void 0:t.attribute)!=null&&e.isRequired)&&"default"in((t==null?void 0:t.attribute)||{})&&(r.default=t.attribute.default),((n=t==null?void 0:t.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=t.attribute.validate),[t.name,r]}function oR(t,e){var n;const r=rb(t),{nodeExtensions:s,markExtensions:o}=_i(t),a=(n=s.find(f=>ae(f,"topNode")))==null?void 0:n.name,c=Object.fromEntries(s.map(f=>{const p=r.filter(T=>T.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},g=t.reduce((T,N)=>{const D=ae(N,"extendNodeSchema",m);return{...T,...D?D(f):{}}},{}),x=Z1({...g,content:ze(ae(f,"content",m)),marks:ze(ae(f,"marks",m)),group:ze(ae(f,"group",m)),inline:ze(ae(f,"inline",m)),atom:ze(ae(f,"atom",m)),selectable:ze(ae(f,"selectable",m)),draggable:ze(ae(f,"draggable",m)),code:ze(ae(f,"code",m)),whitespace:ze(ae(f,"whitespace",m)),linebreakReplacement:ze(ae(f,"linebreakReplacement",m)),defining:ze(ae(f,"defining",m)),isolating:ze(ae(f,"isolating",m)),attrs:Object.fromEntries(p.map(ev))}),w=ze(ae(f,"parseHTML",m));w&&(x.parseDOM=w.map(T=>Q1(T,p)));const S=ae(f,"renderHTML",m);S&&(x.toDOM=T=>S({node:T,HTMLAttributes:yl(T,p)}));const b=ae(f,"renderText",m);return b&&(x.toText=b),[f.name,x]})),d=Object.fromEntries(o.map(f=>{const p=r.filter(b=>b.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},g=t.reduce((b,T)=>{const N=ae(T,"extendMarkSchema",m);return{...b,...N?N(f):{}}},{}),x=Z1({...g,inclusive:ze(ae(f,"inclusive",m)),excludes:ze(ae(f,"excludes",m)),group:ze(ae(f,"group",m)),spanning:ze(ae(f,"spanning",m)),code:ze(ae(f,"code",m)),attrs:Object.fromEntries(p.map(ev))}),w=ze(ae(f,"parseHTML",m));w&&(x.parseDOM=w.map(b=>Q1(b,p)));const S=ae(f,"renderHTML",m);return S&&(x.toDOM=b=>S({mark:b,HTMLAttributes:yl(b,p)})),[f.name,x]}));return new Iw({topNode:a,nodes:c,marks:d})}function lR(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}function Ic(t){return t.sort((n,r)=>{const s=ae(n,"priority")||100,o=ae(r,"priority")||100;return s>o?-1:s<o?1:0})}function sb(t){const e=Ic(ym(t)),n=lR(e.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function ib(t,e,n){const{from:r,to:s}=e,{blockSeparator:o=`

`,textSerializers:a={}}=n||{};let c="";return t.nodesBetween(r,s,(d,f,p,m)=>{var g;d.isBlock&&f>r&&(c+=o);const x=a==null?void 0:a[d.type.name];if(x)return p&&(c+=x({node:d,pos:f,parent:p,index:m,range:e})),!1;d.isText&&(c+=(g=d==null?void 0:d.text)==null?void 0:g.slice(Math.max(r,f)-f,s-f))}),c}function aR(t,e){const n={from:0,to:t.content.size};return ib(t,n,e)}function ob(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function cR(t,e){const n=at(e,t.schema),{from:r,to:s}=t.selection,o=[];t.doc.nodesBetween(r,s,c=>{o.push(c)});const a=o.reverse().find(c=>c.type.name===n.name);return a?{...a.attrs}:{}}function lb(t,e){const n=Tu(typeof e=="string"?e:e.name,t.schema);return n==="node"?cR(t,e):n==="mark"?eb(t,e):{}}function uR(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function dR(t){const e=uR(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,a)=>a!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function ab(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,o)=>{const a=[];if(s.ranges.length)s.forEach((c,d)=>{a.push({from:c,to:d})});else{const{from:c,to:d}=n[o];if(c===void 0||d===void 0)return;a.push({from:c,to:d})}a.forEach(({from:c,to:d})=>{const f=e.slice(o).map(c,-1),p=e.slice(o).map(d),m=e.invert().map(f,-1),g=e.invert().map(p);r.push({oldRange:{from:m,to:g},newRange:{from:f,to:p}})})}),dR(r)}function vm(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const o=n.resolve(t),a=gm(o,s.type);a&&r.push({mark:s,...a})}):n.nodesBetween(t,e,(s,o)=>{!s||(s==null?void 0:s.nodeSize)===void 0||r.push(...s.marks.map(a=>({from:o,to:o+s.nodeSize,mark:a})))}),r}var fR=(t,e,n,r=20)=>{const s=t.doc.resolve(n);let o=r,a=null;for(;o>0&&a===null;){const c=s.node(o);(c==null?void 0:c.type.name)===e?a=c:o-=1}return[a,o]};function Ya(t,e){return e.nodes[t]||e.marks[t]||null}function dc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(o=>o.type===e&&o.name===r);return s?s.attribute.keepOnSplit:!1}))}var hR=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,o,a,c)=>{var d,f;const p=((f=(d=s.type.spec).toText)==null?void 0:f.call(d,{node:s,pos:o,parent:a,index:c}))||s.textContent||"%leaf%";n+=s.isAtom&&!s.isText?p:p.slice(0,Math.max(0,r-o))}),n};function sp(t,e,n={}){const{empty:r,ranges:s}=t.selection,o=e?mr(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>jc(m.attrs,n,{strict:!1}));let a=0;const c=[];if(s.forEach(({$from:m,$to:g})=>{const x=m.pos,w=g.pos;t.doc.nodesBetween(x,w,(S,b)=>{if(!S.isText&&!S.marks.length)return;const T=Math.max(x,b),N=Math.min(w,b+S.nodeSize),D=N-T;a+=D,c.push(...S.marks.map(V=>({mark:V,from:T,to:N})))})}),a===0)return!1;const d=c.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>jc(m.mark.attrs,n,{strict:!1})).reduce((m,g)=>m+g.to-g.from,0),f=c.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,g)=>m+g.to-g.from,0);return(d>0?d+f:d)>=a}function pR(t,e,n={}){if(!e)return ns(t,null,n)||sp(t,null,n);const r=Tu(e,t.schema);return r==="node"?ns(t,e,n):r==="mark"?sp(t,e,n):!1}var mR=(t,e)=>{const{$from:n,$to:r,$anchor:s}=t.selection;if(e){const o=Eu(c=>c.type.name===e)(t.selection);if(!o)return!1;const a=t.doc.resolve(o.pos+1);return s.pos+1===a.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},gR=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function tv(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function nv(t,e){const{nodeExtensions:n}=_i(e),r=n.find(a=>a.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},o=ze(ae(r,"group",s));return typeof o!="string"?!1:o.split(" ").includes("list")}function Nu(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!=null?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(o=>{s!==!1&&(Nu(o,{ignoreWhitespace:n,checkChildren:e})||(s=!1))}),s}return!1}function cb(t){return t instanceof ce}var ub=class db{constructor(e){this.position=e}static fromJSON(e){return new db(e.position)}toJSON(){return{position:this.position}}};function yR(t,e){const n=e.mapping.mapResult(t.position);return{position:new ub(n.pos),mapResult:n}}function xR(t){return new ub(t)}function vR(t,e,n){var r;const{selection:s}=e;let o=null;if(YS(s)&&(o=s.$cursor),o){const c=(r=t.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(c)||!c.some(f=>f.type.excludes(n)))}const{ranges:a}=s;return a.some(({$from:c,$to:d})=>{let f=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,d.pos,(p,m,g)=>{if(f)return!1;if(p.isInline){const x=!g||g.type.allowsMarkType(n),w=!!n.isInSet(p.marks)||!p.marks.some(S=>S.type.excludes(n));f=x&&w}return!f}),f})}var kR=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:o}=n,{empty:a,ranges:c}=o,d=mr(t,r.schema);if(s)if(a){const f=eb(r,d);n.addStoredMark(d.create({...f,...e}))}else c.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(p,m,(g,x)=>{const w=Math.max(x,p),S=Math.min(x+g.nodeSize,m);g.marks.find(T=>T.type===d)?g.marks.forEach(T=>{d===T.type&&n.addMark(w,S,d.create({...T.attrs,...e}))}):n.addMark(w,S,d.create(e))})});return vR(r,n,d)},wR=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),SR=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const o=at(t,n.schema);let a;return n.selection.$anchor.sameParent(n.selection.$head)&&(a=n.selection.$anchor.parent.attrs),o.isTextblock?s().command(({commands:c})=>m1(o,{...a,...e})(n)?!0:c.clearNodes()).command(({state:c})=>m1(o,{...a,...e})(c,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},bR=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=js(t,0,r.content.size),o=ce.create(r,s);e.setSelection(o)}return!0},CR=(t,e)=>({tr:n,state:r,dispatch:s})=>{const{selection:o}=r;let a,c;return typeof e=="number"?(a=e,c=e):e&&"from"in e&&"to"in e?(a=e.from,c=e.to):(a=o.from,c=o.to),s&&n.doc.nodesBetween(a,c,(d,f)=>{d.isText||n.setNodeMarkup(f,void 0,{...d.attrs,dir:t})}),!0},TR=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:o}=typeof t=="number"?{from:t,to:t}:t,a=me.atStart(r).from,c=me.atEnd(r).to,d=js(s,a,c),f=js(o,a,c),p=me.create(r,d,f);e.setSelection(p)}return!0},ER=t=>({state:e,dispatch:n})=>{const r=at(t,e.schema);return k4(r)(e,n)};function rv(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}var NR=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:o,doc:a}=e,{$from:c,$to:d}=o,f=s.extensionManager.attributes,p=dc(f,c.node().type.name,c.node().attrs);if(o instanceof ce&&o.node.isBlock)return!c.parentOffset||!fr(a,c.pos)?!1:(r&&(t&&rv(n,s.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;const m=d.parentOffset===d.parent.content.size,g=c.depth===0?void 0:tR(c.node(-1).contentMatchAt(c.indexAfter(-1)));let x=m&&g?[{type:g,attrs:p}]:void 0,w=fr(e.doc,e.mapping.map(c.pos),1,x);if(!x&&!w&&fr(e.doc,e.mapping.map(c.pos),1,g?[{type:g}]:void 0)&&(w=!0,x=g?[{type:g,attrs:p}]:void 0),r){if(w&&(o instanceof me&&e.deleteSelection(),e.split(e.mapping.map(c.pos),1,x),g&&!m&&!c.parentOffset&&c.parent.type!==g)){const S=e.mapping.map(c.before()),b=e.doc.resolve(S);c.node(-1).canReplaceWith(b.index(),b.index()+1,g)&&e.setNodeMarkup(e.mapping.map(c.before()),g)}t&&rv(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return w},MR=(t,e={})=>({tr:n,state:r,dispatch:s,editor:o})=>{var a;const c=at(t,r.schema),{$from:d,$to:f}=r.selection,p=r.selection.node;if(p&&p.isBlock||d.depth<2||!d.sameParent(f))return!1;const m=d.node(-1);if(m.type!==c)return!1;const g=o.extensionManager.attributes;if(d.parent.content.size===0&&d.node(-1).childCount===d.indexAfter(-1)){if(d.depth===2||d.node(-3).type!==c||d.index(-2)!==d.node(-2).childCount-1)return!1;if(s){let T=K.empty;const N=d.index(-1)?1:d.index(-2)?2:3;for(let F=d.depth-N;F>=d.depth-3;F-=1)T=K.from(d.node(F).copy(T));const D=d.indexAfter(-1)<d.node(-2).childCount?1:d.indexAfter(-2)<d.node(-3).childCount?2:3,V={...dc(g,d.node().type.name,d.node().attrs),...e},j=((a=c.contentMatch.defaultType)==null?void 0:a.createAndFill(V))||void 0;T=T.append(K.from(c.createAndFill(null,j)||void 0));const z=d.before(d.depth-(N-1));n.replace(z,d.after(-D),new Z(T,4-N,0));let B=-1;n.doc.nodesBetween(z,n.doc.content.size,(F,te)=>{if(B>-1)return!1;F.isTextblock&&F.content.size===0&&(B=te+1)}),B>-1&&n.setSelection(me.near(n.doc.resolve(B))),n.scrollIntoView()}return!0}const x=f.pos===d.end()?m.contentMatchAt(0).defaultType:null,w={...dc(g,m.type.name,m.attrs),...e},S={...dc(g,d.node().type.name,d.node().attrs),...e};n.delete(d.pos,f.pos);const b=x?[{type:c,attrs:w},{type:x,attrs:S}]:[{type:c,attrs:w}];if(!fr(n.doc,d.pos,2))return!1;if(s){const{selection:T,storedMarks:N}=r,{splittableMarks:D}=o.extensionManager,V=N||T.$to.parentOffset&&T.$from.marks();if(n.split(d.pos,2,b).scrollIntoView(),!V||!s)return!0;const j=V.filter(z=>D.includes(z.type.name));n.ensureMarks(j)}return!0},ih=(t,e)=>{const n=Eu(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&ss(t.doc,n.pos)&&t.join(n.pos),!0},oh=(t,e)=>{const n=Eu(a=>a.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&ss(t.doc,r)&&t.join(r),!0},AR=(t,e,n,r={})=>({editor:s,tr:o,state:a,dispatch:c,chain:d,commands:f,can:p})=>{const{extensions:m,splittableMarks:g}=s.extensionManager,x=at(t,a.schema),w=at(e,a.schema),{selection:S,storedMarks:b}=a,{$from:T,$to:N}=S,D=T.blockRange(N),V=b||S.$to.parentOffset&&S.$from.marks();if(!D)return!1;const j=Eu(z=>nv(z.type.name,m))(S);if(D.depth>=1&&j&&D.depth-j.depth<=1){if(j.node.type===x)return f.liftListItem(w);if(nv(j.node.type.name,m)&&x.validContent(j.node.content)&&c)return d().command(()=>(o.setNodeMarkup(j.pos,x),!0)).command(()=>ih(o,x)).command(()=>oh(o,x)).run()}return!n||!V||!c?d().command(()=>p().wrapInList(x,r)?!0:f.clearNodes()).wrapInList(x,r).command(()=>ih(o,x)).command(()=>oh(o,x)).run():d().command(()=>{const z=p().wrapInList(x,r),B=V.filter(F=>g.includes(F.type.name));return o.ensureMarks(B),z?!0:f.clearNodes()}).wrapInList(x,r).command(()=>ih(o,x)).command(()=>oh(o,x)).run()},PR=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:o=!1}=n,a=mr(t,r.schema);return sp(r,a,e)?s.unsetMark(a,{extendEmptyMarkRange:o}):s.setMark(a,e)},DR=(t,e,n={})=>({state:r,commands:s})=>{const o=at(t,r.schema),a=at(e,r.schema),c=ns(r,o,n);let d;return r.selection.$anchor.sameParent(r.selection.$head)&&(d=r.selection.$anchor.parent.attrs),c?s.setNode(a,d):s.setNode(o,{...d,...n})},RR=(t,e={})=>({state:n,commands:r})=>{const s=at(t,n.schema);return ns(n,s,e)?r.lift(s):r.wrapIn(s,e)},jR=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let o;if(s.spec.isInputRules&&(o=s.getState(t))){if(e){const a=t.tr,c=o.transform;for(let d=c.steps.length-1;d>=0;d-=1)a.step(c.steps[d].invert(c.docs[d]));if(o.text){const d=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,t.schema.text(o.text,d))}else a.delete(o.from,o.to)}return!0}}return!1},OR=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},IR=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var o;const{extendEmptyMarkRange:a=!1}=e,{selection:c}=n,d=mr(t,r.schema),{$from:f,empty:p,ranges:m}=c;if(!s)return!0;if(p&&a){let{from:g,to:x}=c;const w=(o=f.marks().find(b=>b.type===d))==null?void 0:o.attrs,S=gm(f,d,w);S&&(g=S.from,x=S.to),n.removeMark(g,x,d)}else m.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,d)});return n.removeStoredMark(d),!0},LR=t=>({tr:e,state:n,dispatch:r})=>{const{selection:s}=n;let o,a;return typeof t=="number"?(o=t,a=t):t&&"from"in t&&"to"in t?(o=t.from,a=t.to):(o=s.from,a=s.to),r&&e.doc.nodesBetween(o,a,(c,d)=>{if(c.isText)return;const f={...c.attrs};delete f.dir,e.setNodeMarkup(d,void 0,f)}),!0},zR=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let o=null,a=null;const c=Tu(typeof t=="string"?t:t.name,r.schema);if(!c)return!1;c==="node"&&(o=at(t,r.schema)),c==="mark"&&(a=mr(t,r.schema));let d=!1;return n.selection.ranges.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;let g,x,w,S;n.selection.empty?r.doc.nodesBetween(p,m,(b,T)=>{o&&o===b.type&&(d=!0,w=Math.max(T,p),S=Math.min(T+b.nodeSize,m),g=T,x=b)}):r.doc.nodesBetween(p,m,(b,T)=>{T<p&&o&&o===b.type&&(d=!0,w=Math.max(T,p),S=Math.min(T+b.nodeSize,m),g=T,x=b),T>=p&&T<=m&&(o&&o===b.type&&(d=!0,s&&n.setNodeMarkup(T,void 0,{...b.attrs,...e})),a&&b.marks.length&&b.marks.forEach(N=>{if(a===N.type&&(d=!0,s)){const D=Math.max(T,p),V=Math.min(T+b.nodeSize,m);n.addMark(D,V,a.create({...N.attrs,...e}))}}))}),x&&(g!==void 0&&s&&n.setNodeMarkup(g,void 0,{...x.attrs,...e}),a&&x.marks.length&&x.marks.forEach(b=>{a===b.type&&s&&n.addMark(w,S,a.create({...b.attrs,...e}))}))}),d},BR=(t,e={})=>({state:n,dispatch:r})=>{const s=at(t,n.schema);return h4(s,e)(n,r)},VR=(t,e={})=>({state:n,dispatch:r})=>{const s=at(t,n.schema);return p4(s,e)(n,r)},_R=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(r=>r.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(r=>r!==e):delete this.callbacks[t]),this}once(t,e){const n=(...r)=>{this.off(t,n),e.apply(this,r)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Mu=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},FR=(t,e)=>{if(mm(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Xa(t){var e;const{editor:n,from:r,to:s,text:o,rules:a,plugin:c}=t,{view:d}=n;if(d.composing)return!1;const f=d.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let p=!1;const m=hR(f)+o;return a.forEach(g=>{if(p)return;const x=FR(m,g.find);if(!x)return;const w=d.state.tr,S=bu({state:d.state,transaction:w}),b={from:r-(x[0].length-o.length),to:s},{commands:T,chain:N,can:D}=new Cu({editor:n,state:S});g.handler({state:S,range:b,match:x,commands:T,chain:N,can:D})===null||!w.steps.length||(g.undoable&&w.setMeta(c,{transform:w,from:r,to:s,text:o}),d.dispatch(w),p=!0)}),p}function $R(t){const{editor:e,rules:n}=t,r=new Ye({state:{init(){return null},apply(s,o,a){const c=s.getMeta(r);if(c)return c;const d=s.getMeta("applyInputRules");return!!d&&setTimeout(()=>{let{text:p}=d;typeof p=="string"?p=p:p=xm(K.from(p),a.schema);const{from:m}=d,g=m+p.length;Xa({editor:e,from:m,to:g,text:p,rules:n,plugin:r})}),s.selectionSet||s.docChanged?null:o}},props:{handleTextInput(s,o,a,c){return Xa({editor:e,from:o,to:a,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:o}=s.state.selection;o&&Xa({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,o){if(o.key!=="Enter")return!1;const{$cursor:a}=s.state.selection;return a?Xa({editor:e,from:a.pos,to:a.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function HR(t){return Object.prototype.toString.call(t).slice(8,-1)}function Qa(t){return HR(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function fb(t,e){const n={...t};return Qa(t)&&Qa(e)&&Object.keys(e).forEach(r=>{Qa(e[r])&&Qa(t[r])?n[r]=fb(t[r],e[r]):n[r]=e[r]}),n}var km=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...ze(ae(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ze(ae(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>fb(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Gs=class hb extends km{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new hb(n)}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const a=s.marks();if(!!!a.find(f=>(f==null?void 0:f.type.name)===n.name))return!1;const d=a.find(f=>(f==null?void 0:f.type.name)===n.name);return d&&r.removeStoredMark(d),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function UR(t){return typeof t=="number"}var WR=class{constructor(t){this.find=t.find,this.handler=t.handler}},KR=(t,e,n)=>{if(mm(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const o=[s.text];return o.index=s.index,o.input=t,o.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(s.replaceWith)),o}):[]};function qR(t){const{editor:e,state:n,from:r,to:s,rule:o,pasteEvent:a,dropEvent:c}=t,{commands:d,chain:f,can:p}=new Cu({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,s,(x,w)=>{var S,b,T,N,D;if((b=(S=x.type)==null?void 0:S.spec)!=null&&b.code||!(x.isText||x.isTextblock||x.isInline))return;const V=(D=(N=(T=x.content)==null?void 0:T.size)!=null?N:x.nodeSize)!=null?D:0,j=Math.max(r,w),z=Math.min(s,w+V);if(j>=z)return;const B=x.isText?x.text||"":x.textBetween(j-w,z-w,void 0,"");KR(B,o.find,a).forEach(te=>{if(te.index===void 0)return;const ue=j+te.index+1,Ae=ue+te[0].length,Ne={from:n.tr.mapping.map(ue),to:n.tr.mapping.map(Ae)},Pe=o.handler({state:n,range:Ne,match:te,commands:d,chain:f,can:p,pasteEvent:a,dropEvent:c});m.push(Pe)})}),m.every(x=>x!==null)}var Za=null,GR=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function JR(t){const{editor:e,rules:n}=t;let r=null,s=!1,o=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,c;try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}const d=({state:p,from:m,to:g,rule:x,pasteEvt:w})=>{const S=p.tr,b=bu({state:p,transaction:S});if(!(!qR({editor:e,state:b,from:Math.max(m-1,0),to:g.b-1,rule:x,pasteEvent:w,dropEvent:c})||!S.steps.length)){try{c=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{c=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return n.map(p=>new Ye({view(m){const g=w=>{var S;r=(S=m.dom.parentElement)!=null&&S.contains(w.target)?m.dom.parentElement:null,r&&(Za=e)},x=()=>{Za&&(Za=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(m,g)=>{if(o=r===m.dom.parentElement,c=g,!o){const x=Za;x!=null&&x.isEditable&&setTimeout(()=>{const w=x.state.selection;w&&x.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(m,g)=>{var x;const w=(x=g.clipboardData)==null?void 0:x.getData("text/html");return a=g,s=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(m,g,x)=>{const w=m[0],S=w.getMeta("uiEvent")==="paste"&&!s,b=w.getMeta("uiEvent")==="drop"&&!o,T=w.getMeta("applyPasteRules"),N=!!T;if(!S&&!b&&!N)return;if(N){let{text:j}=T;typeof j=="string"?j=j:j=xm(K.from(j),x.schema);const{from:z}=T,B=z+j.length,F=GR(j);return d({rule:p,state:x,from:z,to:{b:B},pasteEvt:F})}const D=g.doc.content.findDiffStart(x.doc.content),V=g.doc.content.findDiffEnd(x.doc.content);if(!(!UR(D)||!V||D===V.b))return d({rule:p,state:x,from:D,to:V,pasteEvt:a})}}))}var Au=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=sb(t),this.schema=oR(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ya(e.name,this.schema)},r=ae(e,"addCommands",n);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this;return Ic([...this.extensions].reverse()).flatMap(r=>{const s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Ya(r.name,this.schema)},o=[],a=ae(r,"addKeyboardShortcuts",s);let c={};if(r.type==="mark"&&ae(r,"exitable",s)&&(c.ArrowRight=()=>Gs.handleExit({editor:t,mark:r})),a){const g=Object.fromEntries(Object.entries(a()).map(([x,w])=>[x,()=>w({editor:t})]));c={...c,...g}}const d=cD(c);o.push(d);const f=ae(r,"addInputRules",s);if(tv(r,t.options.enableInputRules)&&f){const g=f();if(g&&g.length){const x=$R({editor:t,rules:g}),w=Array.isArray(x)?x:[x];o.push(...w)}}const p=ae(r,"addPasteRules",s);if(tv(r,t.options.enablePasteRules)&&p){const g=p();if(g&&g.length){const x=JR({editor:t,rules:g});o.push(...x)}}const m=ae(r,"addProseMirrorPlugins",s);if(m){const g=m();o.push(...g)}return o})}get attributes(){return rb(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=_i(this.extensions);return Object.fromEntries(e.filter(n=>!!ae(n,"addNodeView")).map(n=>{const r=this.attributes.filter(d=>d.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:at(n.name,this.schema)},o=ae(n,"addNodeView",s);if(!o)return[];const a=o();if(!a)return[];const c=(d,f,p,m,g)=>{const x=yl(d,r);return a({node:d,view:f,getPos:p,decorations:m,innerDecorations:g,editor:t,extension:n,HTMLAttributes:x})};return[n.name,c]}))}dispatchTransaction(t){const{editor:e}=this;return Ic([...this.extensions].reverse()).reduceRight((r,s)=>{const o={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:e,type:Ya(s.name,this.schema)},a=ae(s,"dispatchTransaction",o);return a?c=>{a.call(o,{transaction:c,next:r})}:r},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=_i(this.extensions);return Object.fromEntries(e.filter(n=>!!ae(n,"addMarkView")).map(n=>{const r=this.attributes.filter(c=>c.type===n.name),s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:mr(n.name,this.schema)},o=ae(n,"addMarkView",s);if(!o)return[];const a=(c,d,f)=>{const p=yl(c,r);return o()({mark:c,view:d,inline:f,editor:t,extension:n,HTMLAttributes:p,updateAttributes:m=>{cj(c,t,m)}})};return[n.name,a]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Ya(e.name,this.schema)};e.type==="mark"&&((n=ze(ae(e,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(e.name);const s=ae(e,"onBeforeCreate",r),o=ae(e,"onCreate",r),a=ae(e,"onUpdate",r),c=ae(e,"onSelectionUpdate",r),d=ae(e,"onTransaction",r),f=ae(e,"onFocus",r),p=ae(e,"onBlur",r),m=ae(e,"onDestroy",r);s&&this.editor.on("beforeCreate",s),o&&this.editor.on("create",o),a&&this.editor.on("update",a),c&&this.editor.on("selectionUpdate",c),d&&this.editor.on("transaction",d),f&&this.editor.on("focus",f),p&&this.editor.on("blur",p),m&&this.editor.on("destroy",m)})}};Au.resolve=sb;Au.sort=Ic;Au.flatten=ym;var YR={};pm(YR,{ClipboardTextSerializer:()=>mb,Commands:()=>gb,Delete:()=>yb,Drop:()=>xb,Editable:()=>vb,FocusEvents:()=>wb,Keymap:()=>Sb,Paste:()=>bb,Tabindex:()=>Cb,TextDirection:()=>Tb,focusEventsPluginKey:()=>kb});var tt=class pb extends km{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new pb(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},mb=tt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ye({key:new ht("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:o}=s,a=Math.min(...o.map(p=>p.$from.pos)),c=Math.max(...o.map(p=>p.$to.pos)),d=ob(n);return ib(r,{from:a,to:c},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}}),gb=tt.create({name:"commands",addCommands(){return{...GS}}}),yb=tt.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,r,s;const o=()=>{var a,c,d,f;if((f=(d=(c=(a=this.editor.options.coreExtensionOptions)==null?void 0:a.delete)==null?void 0:c.filterTransaction)==null?void 0:d.call(c,t))!=null?f:t.getMeta("y-sync$"))return;const p=tb(t.before,[t,...e]);ab(p).forEach(x=>{p.mapping.mapResult(x.oldRange.from).deletedAfter&&p.mapping.mapResult(x.oldRange.to).deletedBefore&&p.before.nodesBetween(x.oldRange.from,x.oldRange.to,(w,S)=>{const b=S+w.nodeSize-2,T=x.oldRange.from<=S&&b<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:S,to:b,newFrom:p.mapping.map(S),newTo:p.mapping.map(b),deletedRange:x.oldRange,newRange:x.newRange,partial:!T,editor:this.editor,transaction:t,combinedTransform:p})})});const g=p.mapping;p.steps.forEach((x,w)=>{var S,b;if(x instanceof Ln){const T=g.slice(w).map(x.from,-1),N=g.slice(w).map(x.to),D=g.invert().map(T,-1),V=g.invert().map(N),j=(S=p.doc.nodeAt(T-1))==null?void 0:S.marks.some(B=>B.eq(x.mark)),z=(b=p.doc.nodeAt(N))==null?void 0:b.marks.some(B=>B.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:D,to:V},newRange:{from:T,to:N},partial:!!(z||j),editor:this.editor,transaction:t,combinedTransform:p})}})};(s=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||s?setTimeout(o,0):o()}}),xb=tt.create({name:"drop",addProseMirrorPlugins(){return[new Ye({key:new ht("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),vb=tt.create({name:"editable",addProseMirrorPlugins(){return[new Ye({key:new ht("editable"),props:{editable:()=>this.editor.options.editable}})]}}),kb=new ht("focusEvents"),wb=tt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ye({key:kb,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Sb=tt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:c})=>{const{selection:d,doc:f}=c,{empty:p,$anchor:m}=d,{pos:g,parent:x}=m,w=m.parent.isTextblock&&g>0?c.doc.resolve(g-1):m,S=w.parent.type.spec.isolating,b=m.pos-m.parentOffset,T=S&&w.parent.childCount===1?b===m.pos:we.atStart(f).from===g;return!p||!x.type.isTextblock||x.textContent.length||!T||T&&m.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Oc()||ZS()?o:s},addProseMirrorPlugins(){return[new Ye({key:new ht("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(S=>S.getMeta("composition")))return;const r=t.some(S=>S.docChanged)&&!e.doc.eq(n.doc),s=t.some(S=>S.getMeta("preventClearDocument"));if(!r||s)return;const{empty:o,from:a,to:c}=e.selection,d=we.atStart(e.doc).from,f=we.atEnd(e.doc).to;if(o||!(a===d&&c===f)||!Nu(n.doc))return;const g=n.tr,x=bu({state:n,transaction:g}),{commands:w}=new Cu({editor:this.editor,state:x});if(w.clearNodes(),!!g.steps.length)return g}})]}}),bb=tt.create({name:"paste",addProseMirrorPlugins(){return[new Ye({key:new ht("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Cb=tt.create({name:"tabindex",addProseMirrorPlugins(){return[new Ye({key:new ht("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Tb=tt.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=_i(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Ye({key:new ht("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),XR=class Ti{constructor(e,n,r=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ti(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ti(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ti(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const s=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,a=this.pos+r+(o?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const c=this.resolvedPos.doc.resolve(a);if(!s&&c.depth<=this.depth)return;const d=new Ti(c,this.editor,s,s?n:null);s&&(d.actualDepth=this.depth+1),e.push(new Ti(c,this.editor,s,s?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,s=this.parent;for(;s&&!r;){if(s.node.type.name===e)if(Object.keys(n).length>0){const o=s.node.attrs,a=Object.keys(n);for(let c=0;c<a.length;c+=1){const d=a[c];if(o[d]!==n[d])break}}else r=s;s=s.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let s=[];if(!this.children||this.children.length===0)return s;const o=Object.keys(n);return this.children.forEach(a=>{r&&s.length>0||(a.node.type.name===e&&o.every(d=>n[d]===a.node.attrs[d])&&s.push(a),!(r&&s.length>0)&&(s=s.concat(a.querySelectorAll(e,n,r))))}),s}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},QR=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function ZR(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var ej=class extends _R{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:yR,createMappablePosition:xR},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:s,moved:o})=>this.options.onDrop(r,s,o)),this.on("paste",({event:r,slice:s})=>this.options.onPaste(r,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=XS(e,this.options.autofocus);this.editorState=Di.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=ZR(QR,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=nb(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;n=n.filter(a=>!a.key.startsWith(o))}),e.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var t,e;const r=[...this.options.enableCoreExtensions?[vb,mb.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),gb,wb,Sb,Cb,xb,bb,yb,Tb.configure({direction:this.options.textDirection})].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Au(r,this)}createCommandManager(){this.commandManager=new Cu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=rp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=rp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,r=e.dispatchTransaction||this.dispatchTransaction.bind(this),s=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new KS(t,{...e,attributes:{role:"textbox",...e==null?void 0:e.attributes},dispatchTransaction:s,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.prependClass(),this.injectCSS();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(f=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(f)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),r=!this.state.selection.eq(e.selection),s=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const a=n.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),c=a==null?void 0:a.getMeta("focus"),d=a==null?void 0:a.getMeta("blur");c&&this.emit("focus",{editor:this,event:c.event,transaction:a}),d&&this.emit("blur",{editor:this,event:d.event,transaction:a}),!(t.getMeta("preventUpdate")||!n.some(f=>f.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return lb(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return pR(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return xm(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return aR(this.state.doc,{blockSeparator:e,textSerializers:{...ob(this.schema),...n}})}get isEmpty(){return Nu(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new XR(e,this)}get $doc(){return this.$pos(0)}};function Fi(t){return new Mu({find:t.find,handler:({state:e,range:n,match:r})=>{const s=ze(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],c=r[0];if(a){const d=c.search(/\S/),f=n.from+c.indexOf(a),p=f+a.length;if(vm(n.from,n.to,e.doc).filter(x=>x.mark.type.excluded.find(S=>S===t.type&&S!==x.mark.type)).filter(x=>x.to>f).length)return null;p<n.to&&o.delete(p,n.to),f>n.from&&o.delete(n.from+d,f);const g=n.from+d+a.length;o.addMark(n.from+d,g,t.type.create(s||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function tj(t){return new Mu({find:t.find,handler:({state:e,range:n,match:r})=>{const s=ze(t.getAttributes,void 0,r)||{},{tr:o}=e,a=n.from;let c=n.to;const d=t.type.create(s);if(r[1]){const f=r[0].lastIndexOf(r[1]);let p=a+f;p>c?p=c:c=p+r[1].length;const m=r[0][r[0].length-1];o.insertText(m,a+r[0].length-1),o.replaceWith(p,c,d)}else if(r[0]){const f=t.type.isInline?a:a-1;o.insert(f,t.type.create(s)).delete(o.mapping.map(a),o.mapping.map(c))}o.scrollIntoView()},undoable:t.undoable})}function ip(t){return new Mu({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),o=ze(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function $i(t){return new Mu({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const o=ze(t.getAttributes,void 0,r)||{},a=e.tr.delete(n.from,n.to),d=a.doc.resolve(n.from).blockRange(),f=d&&Qp(d,t.type,o);if(!f)return null;if(a.wrap(d,f),t.keepMarks&&t.editor){const{selection:m,storedMarks:g}=e,{splittableMarks:x}=t.editor.extensionManager,w=g||m.$to.parentOffset&&m.$from.marks();if(w){const S=w.filter(b=>x.includes(b.type.name));a.ensureMarks(S)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,o).run()}const p=a.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&ss(a.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,p))&&a.join(n.from-1)},undoable:t.undoable})}function nj(t,e){const{selection:n}=t,{$from:r}=n;if(n instanceof ce){const o=r.index();return r.parent.canReplaceWith(o,o+1,e)}let s=r.depth;for(;s>=0;){const o=r.index(s);if(r.node(s).contentMatchAt(o).matchType(e))return!0;s-=1}return!1}var rj={};pm(rj,{createAtomBlockMarkdownSpec:()=>sj,createBlockMarkdownSpec:()=>ij,createInlineMarkdownSpec:()=>aj,parseAttributes:()=>wm,parseIndentedBlocks:()=>op,renderNestedMarkdownContent:()=>bm,serializeAttributes:()=>Sm});function wm(t){if(!(t!=null&&t.trim()))return{};const e={},n=[],r=t.replace(/["']([^"']*)["']/g,f=>(n.push(f),`__QUOTED_${n.length-1}__`)),s=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(s){const f=s.map(p=>p.trim().slice(1));e.class=f.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const a=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(a)).forEach(([,f,p])=>{var m;const g=parseInt(((m=p.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),x=n[g];x&&(e[f]=x.slice(1,-1))});const d=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return d&&d.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function Sm(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?e.push(n):r!==!1&&r!=null&&e.push(`${n}="${String(r)}"`))}),e.join(" ")}function sj(t){const{nodeName:e,name:n,parseAttributes:r=wm,serializeAttributes:s=Sm,defaultAttributes:o={},requiredAttributes:a=[],allowedAttributes:c}=t,d=n||e,f=p=>{if(!c)return p;const m={};return c.forEach(g=>{g in p&&(m[g]=p[g])}),m};return{parseMarkdown:(p,m)=>{const g={...o,...p.attributes};return m.createNode(e,g,[])},markdownTokenizer:{name:e,level:"block",start(p){var m;const g=new RegExp(`^:::${d}(?:\\s|$)`,"m"),x=(m=p.match(g))==null?void 0:m.index;return x!==void 0?x:-1},tokenize(p,m,g){const x=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),w=p.match(x);if(!w)return;const S=w[1]||"",b=r(S);if(!a.find(N=>!(N in b)))return{type:e,raw:w[0],attributes:b}}},renderMarkdown:p=>{const m=f(p.attrs||{}),g=s(m),x=g?` {${g}}`:"";return`:::${d}${x} :::`}}}function ij(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=wm,serializeAttributes:o=Sm,defaultAttributes:a={},content:c="block",allowedAttributes:d}=t,f=n||e,p=m=>{if(!d)return m;const g={};return d.forEach(x=>{x in m&&(g[x]=m[x])}),g};return{parseMarkdown:(m,g)=>{let x;if(r){const S=r(m);x=typeof S=="string"?[{type:"text",text:S}]:S}else c==="block"?x=g.parseChildren(m.tokens||[]):x=g.parseInline(m.tokens||[]);const w={...a,...m.attributes};return g.createNode(e,w,x)},markdownTokenizer:{name:e,level:"block",start(m){var g;const x=new RegExp(`^:::${f}`,"m"),w=(g=m.match(x))==null?void 0:g.index;return w!==void 0?w:-1},tokenize(m,g,x){var w;const S=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),b=m.match(S);if(!b)return;const[T,N=""]=b,D=s(N);let V=1;const j=T.length;let z="";const B=/^:::([\w-]*)(\s.*)?/gm,F=m.slice(j);for(B.lastIndex=0;;){const te=B.exec(F);if(te===null)break;const ue=te.index,Ae=te[1];if(!((w=te[2])!=null&&w.endsWith(":::"))){if(Ae)V+=1;else if(V-=1,V===0){const Ne=F.slice(0,ue);z=Ne.trim();const Pe=m.slice(0,j+ue+te[0].length);let Ie=[];if(z)if(c==="block")for(Ie=x.blockTokens(Ne),Ie.forEach(Oe=>{Oe.text&&(!Oe.tokens||Oe.tokens.length===0)&&(Oe.tokens=x.inlineTokens(Oe.text))});Ie.length>0;){const Oe=Ie[Ie.length-1];if(Oe.type==="paragraph"&&(!Oe.text||Oe.text.trim()===""))Ie.pop();else break}else Ie=x.inlineTokens(z);return{type:e,raw:Pe,attributes:D,content:z,tokens:Ie}}}}}},renderMarkdown:(m,g)=>{const x=p(m.attrs||{}),w=o(x),S=w?` {${w}}`:"",b=g.renderChildren(m.content||[],`

`);return`:::${f}${S}

${b}

:::`}}}function oj(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(t);for(;r!==null;){const[,s,o,a]=r;e[s]=o||a,r=n.exec(t)}return e}function lj(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function aj(t){const{nodeName:e,name:n,getContent:r,parseAttributes:s=oj,serializeAttributes:o=lj,defaultAttributes:a={},selfClosing:c=!1,allowedAttributes:d}=t,f=n||e,p=g=>{if(!d)return g;const x={};return d.forEach(w=>{const S=typeof w=="string"?w:w.name,b=typeof w=="string"?void 0:w.skipIfDefault;if(S in g){const T=g[S];if(b!==void 0&&T===b)return;x[S]=T}}),x},m=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(g,x)=>{const w={...a,...g.attributes};if(c)return x.createNode(e,w);const S=r?r(g):g.content||"";return S?x.createNode(e,w,[x.createTextNode(S)]):x.createNode(e,w,[])},markdownTokenizer:{name:e,level:"inline",start(g){const x=c?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),w=g.match(x),S=w==null?void 0:w.index;return S!==void 0?S:-1},tokenize(g,x,w){const S=c?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),b=g.match(S);if(!b)return;let T="",N="";if(c){const[,V]=b;N=V}else{const[,V,j]=b;N=V,T=j||""}const D=s(N.trim());return{type:e,raw:b[0],content:T.trim(),attributes:D}}},renderMarkdown:g=>{let x="";r?x=r(g):g.content&&g.content.length>0&&(x=g.content.filter(T=>T.type==="text").map(T=>T.text).join(""));const w=p(g.attrs||{}),S=o(w),b=S?` ${S}`:"";return c?`[${f}${b}]`:`[${f}${b}]${x}[/${f}]`}}}function op(t,e,n){var r,s,o,a;const c=t.split(`
`),d=[];let f="",p=0;const m=e.baseIndentSize||2;for(;p<c.length;){const g=c[p],x=g.match(e.itemPattern);if(!x){if(d.length>0)break;if(g.trim()===""){p+=1,f=`${f}${g}
`;continue}else return}const w=e.extractItemData(x),{indentLevel:S,mainContent:b}=w;f=`${f}${g}
`;const T=[b];for(p+=1;p<c.length;){const j=c[p];if(j.trim()===""){const B=c.slice(p+1).findIndex(ue=>ue.trim()!=="");if(B===-1)break;if((((s=(r=c[p+1+B].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:s.length)||0)>S){T.push(j),f=`${f}${j}
`,p+=1;continue}else break}if((((a=(o=j.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:a.length)||0)>S)T.push(j),f=`${f}${j}
`,p+=1;else break}let N;const D=T.slice(1);if(D.length>0){const j=D.map(z=>z.slice(S+m)).join(`
`);j.trim()&&(e.customNestedParser?N=e.customNestedParser(j):N=n.blockTokens(j))}const V=e.createToken(w,N);d.push(V)}if(d.length!==0)return{items:d,raw:f}}function bm(t,e,n,r){if(!t||!Array.isArray(t.content))return"";const s=typeof n=="function"?n(r):n,[o,...a]=t.content,c=e.renderChildren([o]),d=[`${s}${c}`];return a&&a.length>0&&a.forEach(f=>{const p=e.renderChildren([f]);if(p){const m=p.split(`
`).map(g=>g?e.indent(g):"").join(`
`);d.push(m)}}),d.join(`
`)}function cj(t,e,n={}){const{state:r}=e,{doc:s,tr:o}=r,a=t;s.descendants((c,d)=>{const f=o.mapping.map(d),p=o.mapping.map(d)+c.nodeSize;let m=null;if(c.marks.forEach(x=>{if(x!==a)return!1;m=x}),!m)return;let g=!1;if(Object.keys(n).forEach(x=>{n[x]!==m.attrs[x]&&(g=!0)}),g){const x=t.type.create({...t.attrs,...n});o.removeMark(f,p,t.type),o.addMark(f,p,x)}}),o.docChanged&&e.view.dispatch(o)}var an=class Eb extends km{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new Eb(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Ks(t){return new WR({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const o=ze(t.getAttributes,void 0,r,s);if(o===!1||o===null)return null;const{tr:a}=e,c=r[r.length-1],d=r[0];let f=n.to;if(c){const p=d.search(/\S/),m=n.from+d.indexOf(c),g=m+c.length;if(vm(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(b=>b===t.type&&b!==w.mark.type)).filter(w=>w.to>m).length)return null;g<n.to&&a.delete(g,n.to),m>n.from&&a.delete(n.from+p,m),f=n.from+p+c.length,a.addMark(n.from+p,f,t.type.create(o||{})),a.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:uj,getOwnPropertySymbols:dj}=Object,{hasOwnProperty:fj}=Object.prototype;function lh(t,e){return function(r,s,o){return t(r,s,o)&&e(r,s,o)}}function ec(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);const{cache:o}=s,a=o.get(n),c=o.get(r);if(a&&c)return a===r&&c===n;o.set(n,r),o.set(r,n);const d=t(n,r,s);return o.delete(n),o.delete(r),d}}function hj(t){return t!=null?t[Symbol.toStringTag]:void 0}function sv(t){return uj(t).concat(dj(t))}const pj=Object.hasOwn||((t,e)=>fj.call(t,e));function Js(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const mj="__v",gj="__o",yj="_owner",{getOwnPropertyDescriptor:iv,keys:ov}=Object;function xj(t,e){return t.byteLength===e.byteLength&&Lc(new Uint8Array(t),new Uint8Array(e))}function vj(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function kj(t,e){return t.byteLength===e.byteLength&&Lc(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function wj(t,e){return Js(t.getTime(),e.getTime())}function Sj(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function bj(t,e){return t===e}function lv(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),o=t.entries();let a,c,d=0;for(;(a=o.next())&&!a.done;){const f=e.entries();let p=!1,m=0;for(;(c=f.next())&&!c.done;){if(s[m]){m++;continue}const g=a.value,x=c.value;if(n.equals(g[0],x[0],d,m,t,e,n)&&n.equals(g[1],x[1],g[0],x[0],t,e,n)){p=s[m]=!0;break}m++}if(!p)return!1;d++}return!0}const Cj=Js;function Tj(t,e,n){const r=ov(t);let s=r.length;if(ov(e).length!==s)return!1;for(;s-- >0;)if(!Nb(t,e,n,r[s]))return!1;return!0}function Lo(t,e,n){const r=sv(t);let s=r.length;if(sv(e).length!==s)return!1;let o,a,c;for(;s-- >0;)if(o=r[s],!Nb(t,e,n,o)||(a=iv(t,o),c=iv(e,o),(a||c)&&(!a||!c||a.configurable!==c.configurable||a.enumerable!==c.enumerable||a.writable!==c.writable)))return!1;return!0}function Ej(t,e){return Js(t.valueOf(),e.valueOf())}function Nj(t,e){return t.source===e.source&&t.flags===e.flags}function av(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),o=t.values();let a,c;for(;(a=o.next())&&!a.done;){const d=e.values();let f=!1,p=0;for(;(c=d.next())&&!c.done;){if(!s[p]&&n.equals(a.value,c.value,a.value,c.value,t,e,n)){f=s[p]=!0;break}p++}if(!f)return!1}return!0}function Lc(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Mj(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Nb(t,e,n,r){return(r===yj||r===gj||r===mj)&&(t.$$typeof||e.$$typeof)?!0:pj(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Aj="[object ArrayBuffer]",Pj="[object Arguments]",Dj="[object Boolean]",Rj="[object DataView]",jj="[object Date]",Oj="[object Error]",Ij="[object Map]",Lj="[object Number]",zj="[object Object]",Bj="[object RegExp]",Vj="[object Set]",_j="[object String]",Fj={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},$j="[object URL]",Hj=Object.prototype.toString;function Uj({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:o,areMapsEqual:a,areNumbersEqual:c,areObjectsEqual:d,arePrimitiveWrappersEqual:f,areRegExpsEqual:p,areSetsEqual:m,areTypedArraysEqual:g,areUrlsEqual:x,unknownTagComparators:w}){return function(b,T,N){if(b===T)return!0;if(b==null||T==null)return!1;const D=typeof b;if(D!==typeof T)return!1;if(D!=="object")return D==="number"?c(b,T,N):D==="function"?o(b,T,N):!1;const V=b.constructor;if(V!==T.constructor)return!1;if(V===Object)return d(b,T,N);if(Array.isArray(b))return e(b,T,N);if(V===Date)return r(b,T,N);if(V===RegExp)return p(b,T,N);if(V===Map)return a(b,T,N);if(V===Set)return m(b,T,N);const j=Hj.call(b);if(j===jj)return r(b,T,N);if(j===Bj)return p(b,T,N);if(j===Ij)return a(b,T,N);if(j===Vj)return m(b,T,N);if(j===zj)return typeof b.then!="function"&&typeof T.then!="function"&&d(b,T,N);if(j===$j)return x(b,T,N);if(j===Oj)return s(b,T,N);if(j===Pj)return d(b,T,N);if(Fj[j])return g(b,T,N);if(j===Aj)return t(b,T,N);if(j===Rj)return n(b,T,N);if(j===Dj||j===Lj||j===_j)return f(b,T,N);if(w){let z=w[j];if(!z){const B=hj(b);B&&(z=w[B])}if(z)return z(b,T,N)}return!1}}function Wj({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:xj,areArraysEqual:n?Lo:vj,areDataViewsEqual:kj,areDatesEqual:wj,areErrorsEqual:Sj,areFunctionsEqual:bj,areMapsEqual:n?lh(lv,Lo):lv,areNumbersEqual:Cj,areObjectsEqual:n?Lo:Tj,arePrimitiveWrappersEqual:Ej,areRegExpsEqual:Nj,areSetsEqual:n?lh(av,Lo):av,areTypedArraysEqual:n?lh(Lc,Lo):Lc,areUrlsEqual:Mj,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const s=ec(r.areArraysEqual),o=ec(r.areMapsEqual),a=ec(r.areObjectsEqual),c=ec(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:c})}return r}function Kj(t){return function(e,n,r,s,o,a,c){return t(e,n,c)}}function qj({circular:t,comparator:e,createState:n,equals:r,strict:s}){if(n)return function(c,d){const{cache:f=t?new WeakMap:void 0,meta:p}=n();return e(c,d,{cache:f,equals:r,meta:p,strict:s})};if(t)return function(c,d){return e(c,d,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const o={cache:void 0,equals:r,meta:void 0,strict:s};return function(c,d){return e(c,d,o)}}const Gj=ls();ls({strict:!0});ls({circular:!0});ls({circular:!0,strict:!0});ls({createInternalComparator:()=>Js});ls({strict:!0,createInternalComparator:()=>Js});ls({circular:!0,createInternalComparator:()=>Js});ls({circular:!0,createInternalComparator:()=>Js,strict:!0});function ls(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:s=!1}=t,o=Wj(t),a=Uj(o),c=n?n(a):Kj(a);return qj({circular:e,comparator:a,createState:r,equals:c,strict:s})}var ah={exports:{}},ch={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function Jj(){if(cv)return ch;cv=1;var t=kl(),e=xw();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=e.useSyncExternalStore,o=t.useRef,a=t.useEffect,c=t.useMemo,d=t.useDebugValue;return ch.useSyncExternalStoreWithSelector=function(f,p,m,g,x){var w=o(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=c(function(){function T(z){if(!N){if(N=!0,D=z,z=g(z),x!==void 0&&S.hasValue){var B=S.value;if(x(B,z))return V=B}return V=z}if(B=V,r(D,z))return B;var F=g(z);return x!==void 0&&x(B,F)?(D=z,B):(D=z,V=F)}var N=!1,D,V,j=m===void 0?null:m;return[function(){return T(p())},j===null?void 0:function(){return T(j())}]},[p,m,g,x]);var b=s(f,w[0],w[1]);return a(function(){S.hasValue=!0,S.value=b},[b]),d(b),b},ch}var uv;function Yj(){return uv||(uv=1,ah.exports=Jj()),ah.exports}var Xj=Yj(),Qj=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},Zj=({contentComponent:t})=>{const e=vw.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return v.jsx(v.Fragment,{children:Object.values(e)})};function eO(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:sA.createPortal(r.reactElement,r.element,n)},t.forEach(s=>s())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(s=>s())}}}var tO=class extends Fs.Component{constructor(t){var e;super(t),this.editorContentRef=Fs.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=eO(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return v.jsxs(v.Fragment,{children:[v.jsx("div",{ref:Qj(e,this.editorContentRef),...n}),(t==null?void 0:t.contentComponent)&&v.jsx(Zj,{contentComponent:t.contentComponent})]})}},nO=_.forwardRef((t,e)=>{const n=Fs.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Fs.createElement(tO,{key:n,innerRef:e,...t})}),rO=Fs.memo(nO),sO=typeof window<"u"?_.useLayoutEffect:_.useEffect,iO=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function oO(t){var e;const[n]=_.useState(()=>new iO(t.editor)),r=Xj.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Gj);return sO(()=>n.watch(t.editor),[t.editor,n]),_.useDebugValue(r),r}var lO=!1,lp=typeof window>"u",aO=lp||!!(typeof window<"u"&&window.next),cO=class Mb{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?lp||aO?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)==null?void 0:o.call(s,...r)},onBlur:(...r)=>{var s,o;return(o=(s=this.options.current).onBlur)==null?void 0:o.call(s,...r)},onCreate:(...r)=>{var s,o;return(o=(s=this.options.current).onCreate)==null?void 0:o.call(s,...r)},onDestroy:(...r)=>{var s,o;return(o=(s=this.options.current).onDestroy)==null?void 0:o.call(s,...r)},onFocus:(...r)=>{var s,o;return(o=(s=this.options.current).onFocus)==null?void 0:o.call(s,...r)},onSelectionUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)==null?void 0:o.call(s,...r)},onTransaction:(...r)=>{var s,o;return(o=(s=this.options.current).onTransaction)==null?void 0:o.call(s,...r)},onUpdate:(...r)=>{var s,o;return(o=(s=this.options.current).onUpdate)==null?void 0:o.call(s,...r)},onContentError:(...r)=>{var s,o;return(o=(s=this.options.current).onContentError)==null?void 0:o.call(s,...r)},onDrop:(...r)=>{var s,o;return(o=(s=this.options.current).onDrop)==null?void 0:o.call(s,...r)},onPaste:(...r)=>{var s,o;return(o=(s=this.options.current).onPaste)==null?void 0:o.call(s,...r)},onDelete:(...r)=>{var s,o;return(o=(s=this.options.current).onDelete)==null?void 0:o.call(s,...r)}};return new ej(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((s,o)=>{var a;return s===((a=n.extensions)==null?void 0:a[o])}):e[r]===n[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Mb.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,s)=>r===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function uO(t={},e=[]){const n=_.useRef(t);n.current=t;const[r]=_.useState(()=>new cO(n)),s=vw.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return _.useDebugValue(s),_.useEffect(r.onRender(e)),oO({editor:s,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),s}var dO=_.createContext({editor:null});dO.Consumer;var fO=_.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),hO=()=>_.useContext(fO);Fs.forwardRef((t,e)=>{const{onDragStart:n}=hO(),r=t.as||"div";return v.jsx(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Fs.createContext({markViewContentRef:()=>{}});var zc=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...r}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,r,n]},pO=/^\s*>\s$/,mO=an.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return zc("blockquote",{...ct(this.options.HTMLAttributes,t),children:zc("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",r=[];return t.content.forEach(s=>{const c=e.renderChildren([s]).split(`
`).map(d=>d.trim()===""?n:`${n} ${d}`);r.push(c.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[$i({find:pO,type:this.type})]}}),gO=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,yO=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,xO=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,vO=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,kO=Gs.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return zc("strong",{...ct(this.options.HTMLAttributes,t),children:zc("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Fi({find:gO,type:this.type}),Fi({find:xO,type:this.type})]},addPasteRules(){return[Ks({find:yO,type:this.type}),Ks({find:vO,type:this.type})]}}),wO=/(^|[^`])`([^`]+)`(?!`)$/,SO=/(^|[^`])`([^`]+)`(?!`)/g,bO=Gs.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Fi({find:wO,type:this.type})]},addPasteRules(){return[Ks({find:SO,type:this.type})]}}),uh=4,CO=/^```([a-z]+)?[\s\n]$/,TO=/^~~~([a-z]+)?[\s\n]$/,EO=an.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:uh,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(a=>a.startsWith(n)).map(a=>a.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ct(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let r="";const s=((n=t.attrs)==null?void 0:n.language)||"";return t.content?r=[`\`\`\`${s}`,e.renderChildren(t.content),"```"].join(`
`):r=`\`\`\`${s}

\`\`\``,r},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:uh,{state:r}=t,{selection:s}=r,{$from:o,empty:a}=s;if(o.parent.type!==this.type)return!1;const c=" ".repeat(n);return a?t.commands.insertContent(c):t.commands.command(({tr:d})=>{const{from:f,to:p}=s,x=r.doc.textBetween(f,p,`
`,`
`).split(`
`).map(w=>c+w).join(`
`);return d.replaceWith(f,p,r.schema.text(x)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:uh,{state:r}=t,{selection:s}=r,{$from:o,empty:a}=s;return o.parent.type!==this.type?!1:a?t.commands.command(({tr:c})=>{var d;const{pos:f}=o,p=o.start(),m=o.end(),x=r.doc.textBetween(p,m,`
`,`
`).split(`
`);let w=0,S=0;const b=f-p;for(let z=0;z<x.length;z+=1){if(S+x[z].length>=b){w=z;break}S+=x[z].length+1}const N=((d=x[w].match(/^ */))==null?void 0:d[0])||"",D=Math.min(N.length,n);if(D===0)return!0;let V=p;for(let z=0;z<w;z+=1)V+=x[z].length+1;return c.delete(V,V+D),f-V<=D&&c.setSelection(me.create(c.doc,V)),!0}):t.commands.command(({tr:c})=>{const{from:d,to:f}=s,g=r.doc.textBetween(d,f,`
`,`
`).split(`
`).map(x=>{var w;const S=((w=x.match(/^ */))==null?void 0:w[0])||"",b=Math.min(S.length,n);return x.slice(b)}).join(`
`);return c.replaceWith(d,f,r.schema.text(g)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:s}=n;if(!s||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!o||!a?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:s,empty:o}=n;if(!o||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const c=s.after();return c===void 0?!1:r.nodeAt(c)?t.commands.command(({tr:f})=>(f.setSelection(we.near(r.resolve(c))),!0)):t.commands.exitCode()}}},addInputRules(){return[ip({find:CO,type:this.type,getAttributes:t=>({language:t[1]})}),ip({find:TO,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ye({key:new ht("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),s=r?JSON.parse(r):void 0,o=s==null?void 0:s.mode;if(!n||!o)return!1;const{tr:a,schema:c}=t.state,d=c.text(n.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:o},d)),a.selection.$from.parent.type!==this.type&&a.setSelection(me.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),NO=an.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),MO=an.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ct(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:o}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:c}=r.extensionManager,d=o||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:p})=>{if(p&&d&&a){const m=d.filter(g=>c.includes(g.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),AO=an.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ct(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const r=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,s="#".repeat(r);return t.content?`${s} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>ip({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),PO=an.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ct(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!nj(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:r}=n,s=t();return cb(n)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:o,tr:a,dispatch:c})=>{if(c){const{$to:d}=a.selection,f=d.end();if(d.nodeAfter)d.nodeAfter.isTextblock?a.setSelection(me.create(a.doc,d.pos+1)):d.nodeAfter.isBlock?a.setSelection(ce.create(a.doc,d.pos)):a.setSelection(me.create(a.doc,d.pos));else{const p=o.schema.nodes[this.options.nextNodeType]||d.parent.type.contentMatch.defaultType,m=p==null?void 0:p.create();m&&(a.insert(f,m),a.setSelection(me.create(a.doc,f+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[tj({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),DO=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,RO=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,jO=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,OO=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,IO=Gs.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ct(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Fi({find:DO,type:this.type}),Fi({find:jO,type:this.type})]},addPasteRules(){return[Ks({find:RO,type:this.type}),Ks({find:OO,type:this.type})]}});const LO="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",zO="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",ap="numeric",cp="ascii",up="alpha",Qo="asciinumeric",Ho="alphanumeric",dp="domain",Ab="emoji",BO="scheme",VO="slashscheme",dh="whitespace";function _O(t,e){return t in e||(e[t]=[]),e[t]}function Os(t,e,n){e[ap]&&(e[Qo]=!0,e[Ho]=!0),e[cp]&&(e[Qo]=!0,e[up]=!0),e[Qo]&&(e[Ho]=!0),e[up]&&(e[Ho]=!0),e[Ho]&&(e[dp]=!0),e[Ab]&&(e[dp]=!0);for(const r in e){const s=_O(r,n);s.indexOf(t)<0&&s.push(t)}}function FO(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Xt(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Xt.groups={};Xt.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],o=e.jr[r][1];if(o&&s.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||Xt.groups;let s;return e&&e.j?s=e:(s=new Xt(e),n&&r&&Os(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const o=t.length;if(!o)return s;for(let a=0;a<o-1;a++)s=s.tt(t[a]);return s.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||Xt.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const o=e;let a,c=s.go(t);if(c?(a=new Xt,Object.assign(a.j,c.j),a.jr.push.apply(a.jr,c.jr),a.jd=c.jd,a.t=c.t):a=new Xt,o){if(r)if(a.t&&typeof a.t=="string"){const d=Object.assign(FO(a.t,r),n);Os(o,d,r)}else n&&Os(o,n,r);a.t=o}return s.j[t]=a,a}};const ke=(t,e,n,r,s)=>t.ta(e,n,r,s),Qe=(t,e,n,r,s)=>t.tr(e,n,r,s),dv=(t,e,n,r,s)=>t.ts(e,n,r,s),G=(t,e,n,r,s)=>t.tt(e,n,r,s),ar="WORD",fp="UWORD",Pb="ASCIINUMERICAL",Db="ALPHANUMERICAL",xl="LOCALHOST",hp="TLD",pp="UTLD",fc="SCHEME",Ei="SLASH_SCHEME",Cm="NUM",mp="WS",Tm="NL",Zo="OPENBRACE",el="CLOSEBRACE",Bc="OPENBRACKET",Vc="CLOSEBRACKET",_c="OPENPAREN",Fc="CLOSEPAREN",$c="OPENANGLEBRACKET",Hc="CLOSEANGLEBRACKET",Uc="FULLWIDTHLEFTPAREN",Wc="FULLWIDTHRIGHTPAREN",Kc="LEFTCORNERBRACKET",qc="RIGHTCORNERBRACKET",Gc="LEFTWHITECORNERBRACKET",Jc="RIGHTWHITECORNERBRACKET",Yc="FULLWIDTHLESSTHAN",Xc="FULLWIDTHGREATERTHAN",Qc="AMPERSAND",Zc="APOSTROPHE",eu="ASTERISK",_r="AT",tu="BACKSLASH",nu="BACKTICK",ru="CARET",Ur="COLON",Em="COMMA",su="DOLLAR",Un="DOT",iu="EQUALS",Nm="EXCLAMATION",yn="HYPHEN",tl="PERCENT",ou="PIPE",lu="PLUS",au="POUND",nl="QUERY",Mm="QUOTE",Rb="FULLWIDTHMIDDLEDOT",Am="SEMI",Wn="SLASH",rl="TILDE",cu="UNDERSCORE",jb="EMOJI",uu="SYM";var Ob=Object.freeze({__proto__:null,ALPHANUMERICAL:Db,AMPERSAND:Qc,APOSTROPHE:Zc,ASCIINUMERICAL:Pb,ASTERISK:eu,AT:_r,BACKSLASH:tu,BACKTICK:nu,CARET:ru,CLOSEANGLEBRACKET:Hc,CLOSEBRACE:el,CLOSEBRACKET:Vc,CLOSEPAREN:Fc,COLON:Ur,COMMA:Em,DOLLAR:su,DOT:Un,EMOJI:jb,EQUALS:iu,EXCLAMATION:Nm,FULLWIDTHGREATERTHAN:Xc,FULLWIDTHLEFTPAREN:Uc,FULLWIDTHLESSTHAN:Yc,FULLWIDTHMIDDLEDOT:Rb,FULLWIDTHRIGHTPAREN:Wc,HYPHEN:yn,LEFTCORNERBRACKET:Kc,LEFTWHITECORNERBRACKET:Gc,LOCALHOST:xl,NL:Tm,NUM:Cm,OPENANGLEBRACKET:$c,OPENBRACE:Zo,OPENBRACKET:Bc,OPENPAREN:_c,PERCENT:tl,PIPE:ou,PLUS:lu,POUND:au,QUERY:nl,QUOTE:Mm,RIGHTCORNERBRACKET:qc,RIGHTWHITECORNERBRACKET:Jc,SCHEME:fc,SEMI:Am,SLASH:Wn,SLASH_SCHEME:Ei,SYM:uu,TILDE:rl,TLD:hp,UNDERSCORE:cu,UTLD:pp,UWORD:fp,WORD:ar,WS:mp});const or=/[a-z]/,zo=new RegExp("\\p{L}","u"),fh=new RegExp("\\p{Emoji}","u"),lr=/\d/,hh=/\s/,fv="\r",ph=`
`,$O="",HO="",mh="";let tc=null,nc=null;function UO(t=[]){const e={};Xt.groups=e;const n=new Xt;tc==null&&(tc=hv(LO)),nc==null&&(nc=hv(zO)),G(n,"'",Zc),G(n,"{",Zo),G(n,"}",el),G(n,"[",Bc),G(n,"]",Vc),G(n,"(",_c),G(n,")",Fc),G(n,"<",$c),G(n,">",Hc),G(n,"",Uc),G(n,"",Wc),G(n,"",Kc),G(n,"",qc),G(n,"",Gc),G(n,"",Jc),G(n,"",Yc),G(n,"",Xc),G(n,"&",Qc),G(n,"*",eu),G(n,"@",_r),G(n,"`",nu),G(n,"^",ru),G(n,":",Ur),G(n,",",Em),G(n,"$",su),G(n,".",Un),G(n,"=",iu),G(n,"!",Nm),G(n,"-",yn),G(n,"%",tl),G(n,"|",ou),G(n,"+",lu),G(n,"#",au),G(n,"?",nl),G(n,'"',Mm),G(n,"/",Wn),G(n,";",Am),G(n,"~",rl),G(n,"_",cu),G(n,"\\",tu),G(n,"",Rb);const r=Qe(n,lr,Cm,{[ap]:!0});Qe(r,lr,r);const s=Qe(r,or,Pb,{[Qo]:!0}),o=Qe(r,zo,Db,{[Ho]:!0}),a=Qe(n,or,ar,{[cp]:!0});Qe(a,lr,s),Qe(a,or,a),Qe(s,lr,s),Qe(s,or,s);const c=Qe(n,zo,fp,{[up]:!0});Qe(c,or),Qe(c,lr,o),Qe(c,zo,c),Qe(o,lr,o),Qe(o,or),Qe(o,zo,o);const d=G(n,ph,Tm,{[dh]:!0}),f=G(n,fv,mp,{[dh]:!0}),p=Qe(n,hh,mp,{[dh]:!0});G(n,mh,p),G(f,ph,d),G(f,mh,p),Qe(f,hh,p),G(p,fv),G(p,ph),Qe(p,hh,p),G(p,mh,p);const m=Qe(n,fh,jb,{[Ab]:!0});G(m,"#"),Qe(m,fh,m),G(m,$O,m);const g=G(m,HO);G(g,"#"),Qe(g,fh,m);const x=[[or,a],[lr,s]],w=[[or,null],[zo,c],[lr,o]];for(let S=0;S<tc.length;S++)Lr(n,tc[S],hp,ar,x);for(let S=0;S<nc.length;S++)Lr(n,nc[S],pp,fp,w);Os(hp,{tld:!0,ascii:!0},e),Os(pp,{utld:!0,alpha:!0},e),Lr(n,"file",fc,ar,x),Lr(n,"mailto",fc,ar,x),Lr(n,"http",Ei,ar,x),Lr(n,"https",Ei,ar,x),Lr(n,"ftp",Ei,ar,x),Lr(n,"ftps",Ei,ar,x),Os(fc,{scheme:!0,ascii:!0},e),Os(Ei,{slashscheme:!0,ascii:!0},e),t=t.sort((S,b)=>S[0]>b[0]?1:-1);for(let S=0;S<t.length;S++){const b=t[S][0],N=t[S][1]?{[BO]:!0}:{[VO]:!0};b.indexOf("-")>=0?N[dp]=!0:or.test(b)?lr.test(b)?N[Qo]=!0:N[cp]=!0:N[ap]=!0,dv(n,b,b,N)}return dv(n,"localhost",xl,{ascii:!0}),n.jd=new Xt(uu),{start:n,tokens:Object.assign({groups:e},Ob)}}function Ib(t,e){const n=WO(e.replace(/[A-Z]/g,c=>c.toLowerCase())),r=n.length,s=[];let o=0,a=0;for(;a<r;){let c=t,d=null,f=0,p=null,m=-1,g=-1;for(;a<r&&(d=c.go(n[a]));)c=d,c.accepts()?(m=0,g=0,p=c):m>=0&&(m+=n[a].length,g++),f+=n[a].length,o+=n[a].length,a++;o-=m,a-=g,f-=m,s.push({t:p.t,v:e.slice(o-f,o),s:o-f,e:o})}return s}function WO(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),o,a=s<55296||s>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(a),r+=a.length}return e}function Lr(t,e,n,r,s){let o;const a=e.length;for(let c=0;c<a-1;c++){const d=e[c];t.j[d]?o=t.j[d]:(o=new Xt(r),o.jr=s.slice(),t.j[d]=o),t=o}return o=new Xt(n),o.jr=s.slice(),t.j[e[a-1]]=o,o}function hv(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let o=0;for(;s.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let a=parseInt(t.substring(r,r+o),10);a>0;a--)n.pop();r+=o}else n.push(t[r]),r++}return e}const vl={defaultProtocol:"http",events:null,format:pv,formatHref:pv,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Pm(t,e=null){let n=Object.assign({},vl);t&&(n=Object.assign(n,t instanceof Pm?t.o:t));const r=n.ignoreTags,s=[];for(let o=0;o<r.length;o++)s.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}Pm.prototype={o:vl,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:vl[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function pv(t){return t}function Lb(t,e){this.t="token",this.v=t,this.tk=e}Lb.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=vl.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),o=this.toFormattedString(t),a={},c=t.get("className",n,e),d=t.get("target",n,e),f=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return a.href=r,c&&(a.class=c),d&&(a.target=d),f&&(a.rel=f),p&&Object.assign(a,p),{tagName:s,attributes:a,content:o,eventListeners:m}}};function Pu(t,e){class n extends Lb{constructor(s,o){super(s,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const mv=Pu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),gv=Pu("text"),KO=Pu("nl"),rc=Pu("url",{isLink:!0,toHref(t=vl.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==xl&&t[1].t===Ur}}),mn=t=>new Xt(t);function qO({groups:t}){const e=t.domain.concat([Qc,eu,_r,tu,nu,ru,su,iu,yn,Cm,tl,ou,lu,au,Wn,uu,rl,cu]),n=[Zc,Ur,Em,Un,Nm,tl,nl,Mm,Am,$c,Hc,Zo,el,Vc,Bc,_c,Fc,Uc,Wc,Kc,qc,Gc,Jc,Yc,Xc],r=[Qc,Zc,eu,tu,nu,ru,su,iu,yn,Zo,el,tl,ou,lu,au,nl,Wn,uu,rl,cu],s=mn(),o=G(s,rl);ke(o,r,o),ke(o,t.domain,o);const a=mn(),c=mn(),d=mn();ke(s,t.domain,a),ke(s,t.scheme,c),ke(s,t.slashscheme,d),ke(a,r,o),ke(a,t.domain,a);const f=G(a,_r);G(o,_r,f),G(c,_r,f),G(d,_r,f);const p=G(o,Un);ke(p,r,o),ke(p,t.domain,o);const m=mn();ke(f,t.domain,m),ke(m,t.domain,m);const g=G(m,Un);ke(g,t.domain,m);const x=mn(mv);ke(g,t.tld,x),ke(g,t.utld,x),G(f,xl,x);const w=G(m,yn);G(w,yn,w),ke(w,t.domain,m),ke(x,t.domain,m),G(x,Un,g),G(x,yn,w);const S=G(x,Ur);ke(S,t.numeric,mv);const b=G(a,yn),T=G(a,Un);G(b,yn,b),ke(b,t.domain,a),ke(T,r,o),ke(T,t.domain,a);const N=mn(rc);ke(T,t.tld,N),ke(T,t.utld,N),ke(N,t.domain,a),ke(N,r,o),G(N,Un,T),G(N,yn,b),G(N,_r,f);const D=G(N,Ur),V=mn(rc);ke(D,t.numeric,V);const j=mn(rc),z=mn();ke(j,e,j),ke(j,n,z),ke(z,e,j),ke(z,n,z),G(N,Wn,j),G(V,Wn,j);const B=G(c,Ur),F=G(d,Ur),te=G(F,Wn),ue=G(te,Wn);ke(c,t.domain,a),G(c,Un,T),G(c,yn,b),ke(d,t.domain,a),G(d,Un,T),G(d,yn,b),ke(B,t.domain,j),G(B,Wn,j),G(B,nl,j),ke(ue,t.domain,j),ke(ue,e,j),G(ue,Wn,j);const Ae=[[Zo,el],[Bc,Vc],[_c,Fc],[$c,Hc],[Uc,Wc],[Kc,qc],[Gc,Jc],[Yc,Xc]];for(let Ne=0;Ne<Ae.length;Ne++){const[Pe,Ie]=Ae[Ne],Oe=G(j,Pe);G(z,Pe,Oe),G(Oe,Ie,j);const Ue=mn(rc);ke(Oe,e,Ue);const he=mn();ke(Oe,n),ke(Ue,e,Ue),ke(Ue,n,he),ke(he,e,Ue),ke(he,n,he),G(Ue,Ie,j),G(he,Ie,j)}return G(s,xl,N),G(s,Tm,KO),{start:s,tokens:Ob}}function GO(t,e,n){let r=n.length,s=0,o=[],a=[];for(;s<r;){let c=t,d=null,f=null,p=0,m=null,g=-1;for(;s<r&&!(d=c.go(n[s].t));)a.push(n[s++]);for(;s<r&&(f=d||c.go(n[s].t));)d=null,c=f,c.accepts()?(g=0,m=c):g>=0&&g++,s++,p++;if(g<0)s-=p,s<r&&(a.push(n[s]),s++);else{a.length>0&&(o.push(gh(gv,e,a)),a=[]),s-=g,p-=g;const x=m.t,w=n.slice(s-p,s);o.push(gh(x,e,w))}}return a.length>0&&o.push(gh(gv,e,a)),o}function gh(t,e,n){const r=n[0].s,s=n[n.length-1].e,o=e.slice(r,s);return new t(o,n)}const JO=typeof console<"u"&&console&&console.warn||(()=>{}),YO="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",$e={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function XO(){return Xt.groups={},$e.scanner=null,$e.parser=null,$e.tokenQueue=[],$e.pluginQueue=[],$e.customSchemes=[],$e.initialized=!1,$e}function yv(t,e=!1){if($e.initialized&&JO(`linkifyjs: already initialized - will not register custom scheme "${t}" ${YO}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);$e.customSchemes.push([t,e])}function QO(){$e.scanner=UO($e.customSchemes);for(let t=0;t<$e.tokenQueue.length;t++)$e.tokenQueue[t][1]({scanner:$e.scanner});$e.parser=qO($e.scanner.tokens);for(let t=0;t<$e.pluginQueue.length;t++)$e.pluginQueue[t][1]({scanner:$e.scanner,parser:$e.parser});return $e.initialized=!0,$e}function Dm(t){return $e.initialized||QO(),GO($e.parser.start,t,Ib($e.scanner.start,t))}Dm.scan=Ib;function zb(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Pm(n),s=Dm(t),o=[];for(let a=0;a<s.length;a++){const c=s[a];c.isLink&&(!e||c.t===e)&&r.check(c)&&o.push(c.toFormattedObject(r))}return o}var Rm="[\0- -\u2029]",ZO=new RegExp(Rm),eI=new RegExp(`${Rm}$`),tI=new RegExp(Rm,"g");function nI(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function rI(t){return new Ye({key:new ht("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(f=>f.docChanged)&&!n.doc.eq(r.doc),o=e.some(f=>f.getMeta("preventAutolink"));if(!s||o)return;const{tr:a}=r,c=tb(n.doc,[...e]);if(ab(c).forEach(({newRange:f})=>{const p=nR(r.doc,f,x=>x.isTextblock);let m,g;if(p.length>1)m=p[0],g=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(p.length){const x=r.doc.textBetween(f.from,f.to," "," ");if(!eI.test(x))return;m=p[0],g=r.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&g){const x=g.split(ZO).filter(Boolean);if(x.length<=0)return!1;const w=x[x.length-1],S=m.pos+g.lastIndexOf(w);if(!w)return!1;const b=Dm(w).map(T=>T.toObject(t.defaultProtocol));if(!nI(b))return!1;b.filter(T=>T.isLink).map(T=>({...T,from:S+T.start+1,to:S+T.end+1})).filter(T=>r.schema.marks.code?!r.doc.rangeHasMark(T.from,T.to,r.schema.marks.code):!0).filter(T=>t.validate(T.value)).filter(T=>t.shouldAutoLink(T.value)).forEach(T=>{vm(T.from,T.to,r.doc).some(N=>N.mark.type===t.type)||a.addMark(T.from,T.to,t.type.create({href:T.href}))})}}),!!a.steps.length)return a}})}function sI(t){return new Ye({key:new ht("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,o;if(r.button!==0||!e.editable)return!1;let a=!1;if(t.enableClickSelection&&(a=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let c=null;if(r.target instanceof HTMLAnchorElement)c=r.target;else{let m=r.target;const g=[];for(;m.nodeName!=="DIV";)g.push(m),m=m.parentNode;c=g.find(x=>x.nodeName==="A")}if(!c)return a;const d=lb(e.state,t.type.name),f=(s=c==null?void 0:c.href)!=null?s:d.href,p=(o=c==null?void 0:c.target)!=null?o:d.target;c&&f&&(window.open(f,p),a=!0)}return a}}})}function iI(t){return new Ye({key:new ht("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{shouldAutoLink:s}=t,{state:o}=e,{selection:a}=o,{empty:c}=a;if(c)return!1;let d="";r.content.forEach(p=>{d+=p.textContent});const f=zb(d,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===d);return!d||!f||s!==void 0&&!s(f.value)?!1:t.editor.commands.setMark(t.type,{href:f.href})}}})}function Ts(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const s=typeof r=="string"?r:r.scheme;s&&n.push(s)}),!t||t.replace(tI,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Bb=Gs.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){yv(t);return}yv(t.scheme,t.optionalSlashes)})},onDestroy(){XO()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Ts(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const s=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(s)||!/\./.test(s))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Ts(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Ts(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ct(this.options.HTMLAttributes,t),0]:["a",ct(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const r=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${r})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:r=>!!Ts(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!Ts(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ks({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:r}=this.options,s=zb(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:a=>!!Ts(a,n),protocols:n,defaultProtocol:r}));s.length&&s.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(rI({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:s=>!!Ts(s,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(sI({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(iI({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),oI=Bb,lI=Object.defineProperty,aI=(t,e)=>{for(var n in e)lI(t,n,{get:e[n],enumerable:!0})},cI="listItem",xv="textStyle",vv=/^\s*([-+*])\s$/,Vb=an.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(cI,this.editor.getAttributes(xv)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=$i({find:vv,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=$i({find:vv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(xv),editor:this.editor})),[t]}}),_b=an.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(s=>s.type==="paragraph"))n=e.parseChildren(t.tokens);else{const s=t.tokens[0];if(s&&s.type==="text"&&s.tokens&&s.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(s.tokens)}],t.tokens.length>1){const a=t.tokens.slice(1),c=e.parseChildren(a);n.push(...c)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>bm(t,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),uI={};aI(uI,{findListItemPos:()=>Ml,getNextListDepth:()=>jm,handleBackspace:()=>gp,handleDelete:()=>yp,hasListBefore:()=>Fb,hasListItemAfter:()=>dI,hasListItemBefore:()=>$b,listItemHasSubList:()=>Hb,nextListIsDeeper:()=>Ub,nextListIsHigher:()=>Wb});var Ml=(t,e)=>{const{$from:n}=e.selection,r=at(t,e.schema);let s=null,o=n.depth,a=n.pos,c=null;for(;o>0&&c===null;)s=n.node(o),s.type===r?c=o:(o-=1,a-=1);return c===null?null:{$pos:e.doc.resolve(a),depth:c}},jm=(t,e)=>{const n=Ml(t,e);if(!n)return!1;const[,r]=fR(e,t,n.$pos.pos+4);return r},Fb=(t,e,n)=>{const{$anchor:r}=t.selection,s=Math.max(0,r.pos-2),o=t.doc.resolve(s).node();return!(!o||!n.includes(o.type.name))},$b=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-2);return!(s.index()===0||((n=s.nodeBefore)==null?void 0:n.type.name)!==t)},Hb=(t,e,n)=>{if(!n)return!1;const r=at(t,e.schema);let s=!1;return n.descendants(o=>{o.type===r&&(s=!0)}),s},gp=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!ns(t.state,e)&&Fb(t.state,e,n)){const{$anchor:c}=t.state.selection,d=t.state.doc.resolve(c.before()-1),f=[];d.node().descendants((g,x)=>{g.type.name===e&&f.push({node:g,pos:x})});const p=f.at(-1);if(!p)return!1;const m=t.state.doc.resolve(d.start()+p.pos+1);return t.chain().cut({from:c.start()-1,to:c.end()+1},m.end()).joinForward().run()}if(!ns(t.state,e)||!gR(t.state))return!1;const r=Ml(e,t.state);if(!r)return!1;const o=t.state.doc.resolve(r.$pos.pos-2).node(r.depth),a=Hb(e,t.state,o);return $b(e,t.state)&&!a?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},Ub=(t,e)=>{const n=jm(t,e),r=Ml(t,e);return!r||!n?!1:n>r.depth},Wb=(t,e)=>{const n=jm(t,e),r=Ml(t,e);return!r||!n?!1:n<r.depth},yp=(t,e)=>{if(!ns(t.state,e)||!mR(t.state,e))return!1;const{selection:n}=t.state,{$from:r,$to:s}=n;return!n.empty&&r.sameParent(s)?!1:Ub(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():Wb(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},dI=(t,e)=>{var n;const{$anchor:r}=e.selection,s=e.doc.resolve(r.pos-r.parentOffset-2);return!(s.index()===s.parent.childCount-1||((n=s.nodeAfter)==null?void 0:n.type.name)!==t)},Kb=tt.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&yp(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&yp(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&gp(t,n,r)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{t.state.schema.nodes[n]!==void 0&&gp(t,n,r)&&(e=!0)}),e}}}}),kv=/^(\s*)(\d+)\.\s+(.*)$/,fI=/^\s/;function hI(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n],o=s.match(kv);if(!o)break;const[,a,c,d]=o,f=a.length;let p=d,m=n+1;const g=[s];for(;m<t.length;){const x=t[m];if(x.match(kv))break;if(x.trim()==="")g.push(x),p+=`
`,m+=1;else if(x.match(fI))g.push(x),p+=`
${x.slice(f+2)}`,m+=1;else break}e.push({indent:f,number:parseInt(c,10),content:p.trim(),raw:g.join(`
`)}),r=m,n=m}return[e,r]}function qb(t,e,n){var r;const s=[];let o=0;for(;o<t.length;){const a=t[o];if(a.indent===e){const c=a.content.split(`
`),d=((r=c[0])==null?void 0:r.trim())||"",f=[];d&&f.push({type:"paragraph",raw:d,tokens:n.inlineTokens(d)});const p=c.slice(1).join(`
`).trim();if(p){const x=n.blockTokens(p);f.push(...x)}let m=o+1;const g=[];for(;m<t.length&&t[m].indent>e;)g.push(t[m]),m+=1;if(g.length>0){const x=Math.min(...g.map(S=>S.indent)),w=qb(g,x,n);f.push({type:"list",ordered:!0,start:g[0].number,items:w,raw:g.map(S=>S.raw).join(`
`)})}s.push({type:"list_item",raw:a.raw,tokens:f}),o=m}else o+=1}return s}function pI(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(s=>{if(s.type==="paragraph"||s.type==="list"||s.type==="blockquote"||s.type==="code")r.push(...e.parseChildren([s]));else if(s.type==="text"&&s.tokens){const o=e.parseChildren([s]);r.push({type:"paragraph",content:o})}else{const o=e.parseChildren([s]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var mI="listItem",wv="textStyle",Sv=/^(\d+)\.\s$/,Gb=an.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ct(this.options.HTMLAttributes,n),0]:["ol",ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,r=t.items?pI(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e==null?void 0:e.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var r;const s=t.split(`
`),[o,a]=hI(s);if(o.length===0)return;const c=qb(o,0,n);return c.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:c,raw:s.slice(0,a).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(mI,this.editor.getAttributes(wv)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=$i({find:Sv,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=$i({find:Sv,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(wv)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),gI=/^\s*(\[([( |x])?\])\s$/,yI=an.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",ct(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const r=e.parseChildren(t.nestedTokens);n.push(...r)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const s=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return bm(t,e,s)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),o=document.createElement("label"),a=document.createElement("span"),c=document.createElement("input"),d=document.createElement("div"),f=m=>{var g,x;c.ariaLabel=((x=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:x.call(g,m,c.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};f(t),o.contentEditable="false",c.type="checkbox",c.addEventListener("mousedown",m=>m.preventDefault()),c.addEventListener("change",m=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:g}=m.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:x})=>{const w=n();if(typeof w!="number")return!1;const S=x.doc.nodeAt(w);return x.setNodeMarkup(w,void 0,{...S==null?void 0:S.attrs,checked:g}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,g)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,g])=>{s.setAttribute(m,g)}),s.dataset.checked=t.attrs.checked,c.checked=t.attrs.checked,o.append(c,a),s.append(o,d),Object.entries(e).forEach(([m,g])=>{s.setAttribute(m,g)});let p=new Set(Object.keys(e));return{dom:s,contentDOM:d,update:m=>{if(m.type!==this.type)return!1;s.dataset.checked=m.attrs.checked,c.checked=m.attrs.checked,f(m);const g=r.extensionManager.attributes,x=yl(m,g),w=new Set(Object.keys(x)),S=this.options.HTMLAttributes;return p.forEach(b=>{w.has(b)||(b in S?s.setAttribute(b,S[b]):s.removeAttribute(b))}),Object.entries(x).forEach(([b,T])=>{T==null?b in S?s.setAttribute(b,S[b]):s.removeAttribute(b):s.setAttribute(b,T)}),p=w,!0}}}},addInputRules(){return[$i({find:gI,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),xI=an.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",ct(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const r=o=>{const a=op(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:c=>({indentLevel:c[1].length,mainContent:c[4],checked:c[3].toLowerCase()==="x"}),createToken:(c,d)=>({type:"taskItem",raw:"",mainContent:c.mainContent,indentLevel:c.indentLevel,checked:c.checked,text:c.mainContent,tokens:n.inlineTokens(c.mainContent),nestedTokens:d}),customNestedParser:r},n);return a?[{type:"taskList",raw:a.raw,items:a.items}]:n.blockTokens(o)},s=op(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,a)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:a}),customNestedParser:r},n);if(s)return{type:"taskList",raw:s.raw,items:s.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});tt.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Vb.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(_b.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(Kb.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(Gb.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(yI.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(xI.configure(this.options.taskList)),t}});var vI=an.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ct(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),kI=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,wI=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,SI=Gs.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Fi({find:kI,type:this.type})]},addPasteRules(){return[Ks({find:wI,type:this.type})]}}),bI=an.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),Jb=Gs.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",ct(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const s=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!s)return;const o=s[2].trim();return{type:"underline",raw:s[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),CI=Jb;function TI(t={}){return new Ye({view(e){return new EI(e,t)}})}class EI{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let o=a=>{this[s](a)};return e.dom.addEventListener(s,o),{name:s,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r,s=this.editorView.dom,o=s.getBoundingClientRect(),a=o.width/s.offsetWidth,c=o.height/s.offsetHeight;if(n){let m=e.nodeBefore,g=e.nodeAfter;if(m||g){let x=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(x){let w=x.getBoundingClientRect(),S=m?w.bottom:w.top;m&&g&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*c;r={left:w.left,right:w.right,top:S-b,bottom:S+b}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*a;r={left:m.left-g,right:m.left+g,top:m.top,bottom:m.bottom}}let d=this.editorView.dom.offsetParent;this.element||(this.element=d.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let f,p;if(!d||d==document.body&&getComputedStyle(d).position=="static")f=-pageXOffset,p=-pageYOffset;else{let m=d.getBoundingClientRect(),g=m.width/d.offsetWidth,x=m.height/d.offsetHeight;f=m.left-d.scrollLeft*g,p=m.top-d.scrollTop*x}this.element.style.left=(r.left-f)/a+"px",this.element.style.top=(r.top-p)/c+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/c+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,o=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!o){let a=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let c=Kw(this.editorView.state.doc,a,this.editorView.dragging.slice);c!=null&&(a=c)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class et extends we{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return et.valid(r)?new et(r):we.near(r)}content(){return Z.empty}eq(e){return e instanceof et&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new et(e.resolve(n.pos))}getBookmark(){return new Om(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!NI(e)||!MI(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let s=n.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&et.valid(e))return e;let s=e.pos,o=null;for(let a=e.depth;;a--){let c=e.node(a);if(n>0?e.indexAfter(a)<c.childCount:e.index(a)>0){o=c.child(n>0?e.indexAfter(a):e.index(a)-1);break}else if(a==0)return null;s+=n;let d=e.doc.resolve(s);if(et.valid(d))return d}for(;;){let a=n>0?o.firstChild:o.lastChild;if(!a){if(o.isAtom&&!o.isText&&!ce.isSelectable(o)){e=e.doc.resolve(s+o.nodeSize*n),r=!1;continue e}break}o=a,s+=n;let c=e.doc.resolve(s);if(et.valid(c))return c}return null}}}et.prototype.visible=!1;et.findFrom=et.findGapCursorFrom;we.jsonID("gapcursor",et);class Om{constructor(e){this.pos=e}map(e){return new Om(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return et.valid(n)?new et(n):we.near(n)}}function Yb(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function NI(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||Yb(s.type))return!0;if(s.inlineContent)return!1}}return!0}function MI(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let s=r.child(n);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||Yb(s.type))return!0;if(s.inlineContent)return!1}}return!0}function AI(){return new Ye({props:{decorations:jI,createSelectionBetween(t,e,n){return e.pos==n.pos&&et.valid(n)?new et(n):null},handleClick:DI,handleKeyDown:PI,handleDOMEvents:{beforeinput:RI}}})}const PI=qS({ArrowLeft:sc("horiz",-1),ArrowRight:sc("horiz",1),ArrowUp:sc("vert",-1),ArrowDown:sc("vert",1)});function sc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,s,o){let a=r.selection,c=e>0?a.$to:a.$from,d=a.empty;if(a instanceof me){if(!o.endOfTextblock(n)||c.depth==0)return!1;d=!1,c=r.doc.resolve(e>0?c.after():c.before())}let f=et.findGapCursorFrom(c,e,d);return f?(s&&s(r.tr.setSelection(new et(f))),!0):!1}}function DI(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!et.valid(r))return!1;let s=t.posAtCoords({left:n.clientX,top:n.clientY});return s&&s.inside>-1&&ce.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new et(r))),!0)}function RI(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof et))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let s=K.empty;for(let a=r.length-1;a>=0;a--)s=K.from(r[a].createAndFill(null,s));let o=t.state.tr.replace(n.pos,n.pos,new Z(s,0,0));return o.setSelection(me.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function jI(t){if(!(t.selection instanceof et))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ge.create(t.doc,[$t.widget(t.selection.head,e,{key:"gapcursor"})])}var du=200,wt=function(){};wt.prototype.append=function(e){return e.length?(e=wt.from(e),!this.length&&e||e.length<du&&this.leafAppend(e)||this.length<du&&e.leafPrepend(this)||this.appendInner(e)):this};wt.prototype.prepend=function(e){return e.length?wt.from(e).append(this):this};wt.prototype.appendInner=function(e){return new OI(this,e)};wt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?wt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};wt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};wt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};wt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(o,a){return s.push(e(o,a))},n,r),s};wt.from=function(e){return e instanceof wt?e:e&&e.length?new Xb(e):wt.empty};var Xb=(function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,o){return s==0&&o==this.length?this:new e(this.values.slice(s,o))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,o,a,c){for(var d=o;d<a;d++)if(s(this.values[d],c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,o,a,c){for(var d=o-1;d>=a;d--)if(s(this.values[d],c+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=du)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=du)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(wt);wt.empty=new Xb([]);var OI=(function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,o,a){var c=this.left.length;if(s<c&&this.left.forEachInner(r,s,Math.min(o,c),a)===!1||o>c&&this.right.forEachInner(r,Math.max(s-c,0),Math.min(this.length,o)-c,a+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,a){var c=this.left.length;if(s>c&&this.right.forEachInvertedInner(r,s-c,Math.max(o,c)-c,a+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(s,c),o,a)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var o=this.left.length;return s<=o?this.left.slice(r,s):r>=o?this.right.slice(r-o,s-o):this.left.slice(r,o).append(this.right.slice(0,s-o))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(wt);const II=500;class In{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,o;n&&(s=this.remapping(r,this.items.length),o=s.maps.length);let a=e.tr,c,d,f=[],p=[];return this.items.forEach((m,g)=>{if(!m.step){s||(s=this.remapping(r,g+1),o=s.maps.length),o--,p.push(m);return}if(s){p.push(new Kn(m.map));let x=m.step.map(s.slice(o)),w;x&&a.maybeStep(x).doc&&(w=a.mapping.maps[a.mapping.maps.length-1],f.push(new Kn(w,void 0,void 0,f.length+p.length))),o--,w&&s.appendMap(w,o)}else a.maybeStep(m.step);if(m.selection)return c=s?m.selection.map(s.slice(o)):m.selection,d=new In(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:a,selection:c}}addTransform(e,n,r,s){let o=[],a=this.eventCount,c=this.items,d=!s&&c.length?c.get(c.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),g=new Kn(e.mapping.maps[p],m,n),x;(x=d&&d.merge(g))&&(g=x,p?o.pop():c=c.slice(0,c.length-1)),o.push(g),n&&(a++,n=void 0),s||(d=g)}let f=a-r.depth;return f>zI&&(c=LI(c,f),a-=f),new In(c.append(o),a)}remapping(e,n){let r=new dl;return this.items.forEach((s,o)=>{let a=s.mirrorOffset!=null&&o-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,a)},e,n),r}addMaps(e){return this.eventCount==0?this:new In(this.items.append(e.map(n=>new Kn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),o=e.mapping,a=e.steps.length,c=this.eventCount;this.items.forEach(g=>{g.selection&&c--},s);let d=n;this.items.forEach(g=>{let x=o.getMirror(--d);if(x==null)return;a=Math.min(a,x);let w=o.maps[x];if(g.step){let S=e.steps[x].invert(e.docs[x]),b=g.selection&&g.selection.map(o.slice(d+1,x));b&&c++,r.push(new Kn(w,S,b))}else r.push(new Kn(w))},s);let f=[];for(let g=n;g<a;g++)f.push(new Kn(o.maps[g]));let p=this.items.slice(0,s).append(f).append(r),m=new In(p,c);return m.emptyItemCount()>II&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],o=0;return this.items.forEach((a,c)=>{if(c>=e)s.push(a),a.selection&&o++;else if(a.step){let d=a.step.map(n.slice(r)),f=d&&d.getMap();if(r--,f&&n.appendMap(f,r),d){let p=a.selection&&a.selection.map(n.slice(r));p&&o++;let m=new Kn(f.invert(),d,p),g,x=s.length-1;(g=s.length&&s[x].merge(m))?s[x]=g:s.push(m)}}else a.map&&r--},this.items.length,0),new In(wt.from(s.reverse()),o)}}In.empty=new In(wt.empty,0);function LI(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Kn{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Kn(n.getMap().invert(),n,this.selection)}}}class Fr{constructor(e,n,r,s,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=o}}const zI=20;function BI(t,e,n,r){let s=n.getMeta(_s),o;if(s)return s.historyState;n.getMeta(FI)&&(t=new Fr(t.done,t.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(a&&a.getMeta(_s))return a.getMeta(_s).redo?new Fr(t.done.addTransform(n,void 0,r,hc(e)),t.undone,bv(n.mapping.maps),t.prevTime,t.prevComposition):new Fr(t.done,t.undone.addTransform(n,void 0,r,hc(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let c=n.getMeta("composition"),d=t.prevTime==0||!a&&t.prevComposition!=c&&(t.prevTime<(n.time||0)-r.newGroupDelay||!VI(n,t.prevRanges)),f=a?yh(t.prevRanges,n.mapping):bv(n.mapping.maps);return new Fr(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,hc(e)),In.empty,f,n.time,c??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Fr(t.done.rebased(n,o),t.undone.rebased(n,o),yh(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Fr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),yh(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function VI(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&s>=e[o]&&(n=!0)}),n}function bv(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,s,o,a)=>e.push(o,a));return e}function yh(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),o=e.map(t[r+1],-1);s<=o&&n.push(s,o)}return n}function _I(t,e,n){let r=hc(e),s=_s.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let a=o.selection.resolve(o.transform.doc),c=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),s,r),d=new Fr(n?c:o.remaining,n?o.remaining:c,null,0,-1);return o.transform.setSelection(a).setMeta(_s,{redo:n,historyState:d})}let xh=!1,Cv=null;function hc(t){let e=t.plugins;if(Cv!=e){xh=!1,Cv=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){xh=!0;break}}return xh}const _s=new ht("history"),FI=new ht("closeHistory");function $I(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ye({key:_s,state:{init(){return new Fr(In.empty,In.empty,null,0,-1)},apply(e,n,r){return BI(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?Zb:r=="historyRedo"?e2:null;return!s||!e.editable?!1:(n.preventDefault(),s(e.state,e.dispatch))}}}})}function Qb(t,e){return(n,r)=>{let s=_s.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let o=_I(s,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const Zb=Qb(!1,!0),e2=Qb(!0,!0);tt.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Ye({key:new ht("characterCount"),appendTransaction:(e,n,r)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const o=this.storage.characters({node:r.doc});if(o>s){const a=o-s,c=0,d=a;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(c,d);return t=!0,f}t=!0},filterTransaction:(e,n)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const s=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=r||s>r&&o>r&&o<=s)return!0;if(s>r&&o>r&&o>s||!e.getMeta("paste"))return!1;const c=e.selection.$head.pos,d=o-r,f=c-d,p=c;return e.deleteRange(f,p),!(this.storage.characters({node:e.doc})>r)}})]}});var HI=tt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[TI(this.options)]}});tt.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ye({key:new ht("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:s}=e,o=[];if(!n||!r)return Ge.create(t,[]);let a=0;this.options.mode==="deepest"&&t.descendants((d,f)=>{if(d.isText)return;if(!(s>=f&&s<=f+d.nodeSize-1))return!1;a+=1});let c=0;return t.descendants((d,f)=>{if(d.isText||!(s>=f&&s<=f+d.nodeSize-1))return!1;if(c+=1,this.options.mode==="deepest"&&a-c>0||this.options.mode==="shallowest"&&c>1)return this.options.mode==="deepest";o.push($t.node(f,f+d.nodeSize,{class:this.options.className}))}),Ge.create(t,o)}}})]}});var UI=tt.create({name:"gapCursor",addProseMirrorPlugins(){return[AI()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ze(ae(t,"allowGapCursor",n)))!=null?e:null}}});tt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ye({key:new ht("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,s=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((a,c)=>{const d=r>=c&&r<=c+a.nodeSize,f=!a.isLeaf&&Nu(a);if((d||!this.options.showOnlyCurrent)&&f){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const m=$t.node(c,c+a.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:c,hasAnchor:d}):this.options.placeholder});s.push(m)}return this.options.includeChildren}),Ge.create(t,s)}}})]}});tt.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ye({key:new ht("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||cb(n.selection)||t.view.dragging?null:Ge.create(n.doc,[$t.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function Tv({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var WI=tt.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new ht(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,s])=>s).filter(s=>(this.options.notAfter||[]).concat(n).includes(s.name));return[new Ye({key:e,appendTransaction:(s,o,a)=>{const{doc:c,tr:d,schema:f}=a,p=e.getState(a),m=c.content.size,g=f.nodes[n];if(p)return d.insert(m,g.create())},state:{init:(s,o)=>{const a=o.tr.doc.lastChild;return!Tv({node:a,types:r})},apply:(s,o)=>{if(!s.docChanged||s.getMeta("__uniqueIDTransaction"))return o;const a=s.doc.lastChild;return!Tv({node:a,types:r})}}})]}}),KI=tt.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Zb(t,e),redo:()=>({state:t,dispatch:e})=>e2(t,e)}},addProseMirrorPlugins(){return[$I(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),qI=tt.create({name:"starterKit",addExtensions(){var t,e,n,r;const s=[];return this.options.bold!==!1&&s.push(kO.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(mO.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(Vb.configure(this.options.bulletList)),this.options.code!==!1&&s.push(bO.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(EO.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(NO.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(HI.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(UI.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(MO.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(AO.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(KI.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(PO.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(IO.configure(this.options.italic)),this.options.listItem!==!1&&s.push(_b.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(Kb.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(Bb.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(Gb.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(vI.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(SI.configure(this.options.strike)),this.options.text!==!1&&s.push(bI.configure(this.options.text)),this.options.underline!==!1&&s.push(Jb.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&s.push(WI.configure((r=this.options)==null?void 0:r.trailingNode)),s}}),GI=qI,JI=tt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),YI=JI;const Ev=[{id:"1",name:"New claim | Guidewire 2",type:"Workflow"},{id:"2",name:"New claim | Guidewire 3",type:"Workflow"},{id:"3",name:"Refund request | Billing system",type:"Workflow"},{id:"4",name:"Return label | Shipping portal",type:"Workflow"},{id:"5",name:"Cancel order | Order system",type:"Workflow"},{id:"6",name:"Change address | Order system",type:"Workflow"},{id:"7",name:"Update payment | Billing system",type:"Workflow"}];function XI({onBack:t,onAttachWorkflow:e}){const[n,r]=_.useState("scenario"),[s,o]=_.useState("voice"),[a,c]=_.useState("Dealing with angry customer for refund scenario"),[d,f]=_.useState(!1),[p,m]=_.useState(!1),[g,x]=_.useState("ready"),[w,S]=_.useState("1"),[b,T]=_.useState(""),[N,D]=_.useState([{id:"1",title:"Empathy and Active Listening",criteria:["0-2: Fails to acknowledge user feelings, interrupts frequently, and dismisses concerns.","3-4: Shows limited empathy; listens but lacks understanding; responses often miss the mark.","5-6: Generally empathetic, listens actively; addresses some concerns but could improve.","7-8: Demonstrates strong empathy, listens attentively; addresses user's feelings effectively.","9-10: Exceptional empathy, fully engaged listening; validates feelings and addresses all concerns thoroughly."],mappedCompetency:"Empathy"},{id:"2",title:"Problem-Solving and Resolution Skills",criteria:["0-2: Offers no relevant solutions; escalates without assessing user's needs.","3-4: Suggests limited solutions that may not address the core issue; slow to act.","5-6: Provides reasonable solutions with some effectiveness; may require guidance.","7-8: Efficiently identifies issues and suggests effective solutions; user feels supported.","9-10: Proactively resolves issues with innovative solutions; user feels fully satisfied and valued."],mappedCompetency:"Resolution"},{id:"3",title:"Product Knowledge and Expertise",criteria:["0-2: Lacks basic knowledge of the product; unable to answer user inquiries.","3-4: Has some product knowledge but misses key features; provides vague information.","5-6: Understands most product features; can answer standard questions with some detail.","7-8: Well-versed in product details; answers questions clearly and accurately.","9-10: Comprehensive knowledge of the product; provides insightful information and anticipates further queries."],mappedCompetency:"Knowledge"}]),[V,j]=_.useState(null),[z,B]=_.useState(""),[F,te]=_.useState([{id:"1",trigger:"Customer receives a resolution",action:"End scenario with success",icon:"resolution"},{id:"2",trigger:"Conversation reaches 10 minutes",action:"End scenario with timeout",icon:"time"},{id:"3",trigger:"Customer escalates to supervisor",action:"End scenario with escalation",icon:"escalate"},{id:"4",trigger:"Customer ends the call/chat",action:"End scenario immediately",icon:"end"}]),[ue,Ae]=_.useState(null),[Ne,Pe]=_.useState(""),Ie=I=>{switch(I){case"resolution":return t5;case"time":return U5;case"escalate":return G5;case"end":return O5;default:return qx}},Oe=I=>{switch(I){case"resolution":return{bg:"linear-gradient(135deg, #10b981 0%, #059669 100%)",iconBg:"#dcfce7",iconColor:"#16a34a"};case"time":return{bg:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",iconBg:"#fef3c7",iconColor:"#d97706"};case"escalate":return{bg:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",iconBg:"#ede9fe",iconColor:"#7c3aed"};case"end":return{bg:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",iconBg:"#fee2e2",iconColor:"#dc2626"};default:return{bg:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",iconBg:"#f3f4f6",iconColor:"#6b7280"}}},Ue=()=>{const I=String(Date.now()),H=["resolution","time","escalate","end"],Me={id:I,trigger:"New condition",action:"End scenario",icon:H[F.length%H.length]};te([...F,Me])},he=I=>{te(F.filter(H=>H.id!==I))},J=(I,H,Me)=>{te(F.map(Te=>Te.id===I?{...Te,[H]:Me}:Te))},le=I=>{const H=["resolution","time","escalate","end"];te(F.map(Me=>{if(Me.id===I){const pt=(H.indexOf(Me.icon)+1)%H.length;return{...Me,icon:H[pt]}}return Me}))},[X,P]=_.useState([{id:"1",name:"Alex Jonathan",avatar:nA,emotionalStates:["Frustrated","Angry"],behavioralTraits:["Short-tempered","Angry"],reasonForContact:"Wants a full refund for a product they bought",likelyBehaviour:"Wants a full refund for a product they bought"},{id:"2",name:"Sarah Williams",avatar:null,emotionalStates:["Neutral","Calm"],behavioralTraits:["Patient","Polite"],reasonForContact:"Inquiring about product features and pricing",likelyBehaviour:"Will ask detailed questions and compare options"},{id:"3",name:"Michael Chen",avatar:null,emotionalStates:["Happy","Excited"],behavioralTraits:["Enthusiastic","Eager"],reasonForContact:"Wants to upgrade to a premium plan",likelyBehaviour:"Will be receptive to upsells and recommendations"}]),[$,ge]=_.useState("1"),[ye,Ce]=_.useState(!1),[Se,Ee]=_.useState(null),[ve,De]=_.useState(""),[At,Zt]=_.useState(null),st=X.find(I=>I.id===$)||X[0],Cn=I=>{P(X.map(H=>H.id===$?{...H,...I}:H))},qi=I=>Cn({name:I}),Al=I=>Cn({avatar:I}),Ys=I=>Cn({emotionalStates:I}),as=I=>Cn({behavioralTraits:I}),Pl=I=>Cn({reasonForContact:I}),Gi=I=>Cn({likelyBehaviour:I}),cs=I=>{const H=I.toLowerCase();return H.includes("angry")||H.includes("frustrated")||H.includes("irritated")?Wx:H.includes("sad")||H.includes("upset")||H.includes("disappointed")?D5:H.includes("happy")||H.includes("joyful")||H.includes("pleased")?M5:(H.includes("neutral")||H.includes("calm"),Kx)},gr=I=>{const H=I.toLowerCase();return H.includes("angry")||H.includes("frustrated")||H.includes("irritated")?{bg:"#fee2e2",text:"#991b1b",icon:"#dc2626"}:H.includes("sad")||H.includes("upset")||H.includes("disappointed")?{bg:"#dbeafe",text:"#1e40af",icon:"#3b82f6"}:H.includes("happy")||H.includes("joyful")||H.includes("pleased")?{bg:"#dcfce7",text:"#166534",icon:"#22c55e"}:H.includes("neutral")||H.includes("calm")?{bg:"#f3f4f6",text:"#374151",icon:"#6b7280"}:{bg:"#fef3c7",text:"#92400e",icon:"#f59e0b"}},Ji=I=>{const H=I.toLowerCase();return H.includes("short")||H.includes("temper")||H.includes("impatient")?x5:H.includes("angry")||H.includes("aggressive")?Wx:H.includes("alert")||H.includes("cautious")?U3:H.includes("time")||H.includes("urgent")||H.includes("rushed")?u5:Wa},Dl=I=>{const H=I.toLowerCase();return H.includes("short")||H.includes("temper")||H.includes("impatient")||H.includes("angry")?{bg:"#fee2e2",text:"#991b1b",icon:"#dc2626"}:H.includes("alert")||H.includes("cautious")?{bg:"#fef3c7",text:"#92400e",icon:"#f59e0b"}:H.includes("time")||H.includes("urgent")||H.includes("rushed")?{bg:"#ddd6fe",text:"#6b21a8",icon:"#8b5cf6"}:{bg:"#e0e7ff",text:"#3730a3",icon:"#6366f1"}},re=uO({extensions:[GI.configure({heading:{levels:[1,2,3]}}),CI,YI.configure({types:["heading","paragraph"]}),oI.configure({openOnClick:!1,HTMLAttributes:{class:"text-[#0975d7] underline"}})],content:`
      <h2>Learner Brief</h2>
      <p>You are a Customer Support Executive handling incoming support requests. A customer is reaching out regarding a refund for a product they purchased.</p>
      
      <h2>Scenario</h2>
      <p>A customer named Alex is contacting support to request a full refund for a product they recently bought. Alex is frustrated and expects a quick resolution. Your job is to handle this conversation professionally while following company policy.</p>
      
      <h2>Learning objective</h2>
      <p>The learner should de-escalate the situationcalm the customer down, acknowledge their concerns, and guide the conversation toward a resolution while maintaining professionalism.</p>
    `,editorProps:{attributes:{class:"focus:outline-none prose prose-sm max-w-none"}}});return v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-h-0",children:[v.jsxs("div",{className:"flex-1 flex flex-col bg-white min-h-0 overflow-hidden",children:[v.jsxs("div",{className:"border-b border-[#eee] px-6 py-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[d?v.jsx("input",{type:"text",value:a,onChange:I=>c(I.target.value),onBlur:()=>f(!1),onKeyDown:I=>{(I.key==="Enter"||I.key==="Escape")&&f(!1)},className:"text-[20px] font-semibold text-[#2b2b40] border-b border-[#0975d7] focus:outline-none bg-transparent",autoFocus:!0}):v.jsx("h1",{className:"text-[20px] font-semibold text-[#2b2b40]",children:a}),v.jsx("button",{onClick:()=>f(!0),className:"p-2 hover:bg-gray-100 rounded",children:v.jsx(Cs,{className:"w-4 h-4 text-[#8d8ba7]",stroke:2.5})}),v.jsx("button",{className:"p-2 hover:bg-gray-100 rounded",children:v.jsx(p5,{className:"w-4 h-4 text-[#8d8ba7]",stroke:2.5})})]}),v.jsx("div",{className:"flex items-center gap-3",children:v.jsxs("button",{className:"bg-[#d0450b] hover:bg-[#b83d0a] text-white px-4 py-2 rounded text-sm font-medium transition-colors flex items-center gap-2",onClick:()=>m(!0),children:["Attach to workflow",v.jsx(wc,{className:"size-4",stroke:2})]})})]}),v.jsx("p",{className:"text-sm text-[#8d8ba7] mt-2",children:"By Sarah Johnson"})]}),v.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[v.jsxs("div",{className:"w-[240px] border-r border-[#eee] bg-white flex flex-col relative",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"text-xs font-semibold text-[#8d8ba7] px-4 pt-4 pb-3",children:"CONTEXT"}),v.jsxs("div",{className:"space-y-1",children:[v.jsxs("button",{onClick:()=>r("scenario"),className:`w-full text-left px-4 py-2 text-sm font-medium transition-colors flex items-center gap-2 relative ${n==="scenario"?"bg-[#f0f0f5] text-[#0975d7]":"text-[#8d8ba7] hover:bg-gray-50"}`,children:[n==="scenario"&&v.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#0975d7] rounded-r"}),v.jsx(g5,{className:`w-4 h-4 ${n==="scenario"?"text-[#0975d7]":"text-[#8d8ba7]"}`,stroke:2}),"Scenario"]}),v.jsxs("button",{onClick:()=>r("persona"),className:`w-full text-left px-4 py-2 text-sm font-medium transition-colors flex items-center gap-2 relative ${n==="persona"?"bg-[#f0f0f5] text-[#0975d7]":"text-[#8d8ba7] hover:bg-gray-50"}`,children:[n==="persona"&&v.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#0975d7] rounded-r"}),v.jsx(Wa,{className:`w-4 h-4 ${n==="persona"?"text-[#0975d7]":"text-[#8d8ba7]"}`,stroke:2}),"Customer persona"]}),v.jsxs("button",{onClick:()=>r("evaluation"),className:`w-full text-left px-4 py-2 text-sm font-medium transition-colors flex items-center gap-2 relative ${n==="evaluation"?"bg-[#f0f0f5] text-[#0975d7]":"text-[#8d8ba7] hover:bg-gray-50"}`,children:[n==="evaluation"&&v.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#0975d7] rounded-r"}),v.jsx(a5,{className:`w-4 h-4 ${n==="evaluation"?"text-[#0975d7]":"text-[#8d8ba7]"}`,stroke:2}),"Evaluation"]}),v.jsxs("button",{onClick:()=>r("exit"),className:`w-full text-left px-4 py-2 text-sm font-medium transition-colors flex items-center gap-2 relative ${n==="exit"?"bg-[#f0f0f5] text-[#0975d7]":"text-[#8d8ba7] hover:bg-gray-50"}`,children:[n==="exit"&&v.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#0975d7] rounded-r"}),v.jsx(f5,{className:`w-4 h-4 ${n==="exit"?"text-[#0975d7]":"text-[#8d8ba7]"}`,stroke:2}),"Exit conditions"]})]})]}),v.jsx("div",{className:"border-t border-[#eee]",children:v.jsxs("button",{onClick:()=>r("settings"),className:`w-full text-left px-4 py-2 text-sm font-medium transition-colors flex items-center gap-2 relative ${n==="settings"?"bg-[#f0f0f5] text-[#0975d7]":"text-[#8d8ba7] hover:bg-gray-50"}`,children:[n==="settings"&&v.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-[#0975d7] rounded-r"}),v.jsx(gw,{className:`w-4 h-4 ${n==="settings"?"text-[#0975d7]":"text-[#8d8ba7]"}`,stroke:2}),"Settings"]})})]}),v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n==="scenario"&&v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[v.jsx("div",{className:"border-b border-[#eee] py-4 shrink-0",children:v.jsxs("div",{className:"px-6",children:[v.jsx("h2",{className:"text-lg font-semibold text-[#2b2b40] mb-1",children:"Scenario"}),v.jsx("p",{className:"text-sm text-[#8d8ba7]",children:"Define the situation learners will practice"})]})}),v.jsx("div",{className:"bg-white border-b border-[#eee] py-2 shrink-0",children:v.jsxs("div",{className:"px-6 flex items-center gap-2",children:[v.jsx("button",{onClick:()=>re==null?void 0:re.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-100 ${re!=null&&re.isActive("bold")?"bg-gray-200":""}`,title:"Bold",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M8.21 13c2.106 0 3.412-1.087 3.412-2.823 0-1.306-.984-2.283-2.324-2.386v-.055a2.176 2.176 0 0 0 1.852-2.14c0-1.51-1.162-2.46-3.014-2.46H3.843V13H8.21zM5.908 4.674h1.696c.963 0 1.517.451 1.517 1.244 0 .834-.629 1.32-1.73 1.32H5.908V4.673zm0 6.788V8.598h1.73c1.217 0 1.88.492 1.88 1.415 0 .943-.643 1.449-1.832 1.449H5.907z"})})}),v.jsx("button",{onClick:()=>re==null?void 0:re.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-100 ${re!=null&&re.isActive("italic")?"bg-gray-200":""}`,title:"Italic",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M7.991 11.674 9.53 4.455c.123-.595.246-.71 1.347-.807l.11-.52H7.211l-.11.52c1.06.096 1.128.212 1.005.807L6.57 11.674c-.123.595-.246.71-1.346.806l-.11.52h3.774l.11-.52c-1.06-.095-1.129-.211-1.006-.806z"})})}),v.jsx("button",{onClick:()=>re==null?void 0:re.chain().focus().toggleUnderline().run(),className:`p-2 rounded hover:bg-gray-100 ${re!=null&&re.isActive("underline")?"bg-gray-200":""}`,title:"Underline",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{d:"M5.313 3.136h-1.23V9.54c0 2.105 1.47 3.623 3.917 3.623s3.917-1.518 3.917-3.623V3.136h-1.23v6.323c0 1.49-.978 2.57-2.687 2.57-1.709 0-2.687-1.08-2.687-2.57V3.136zM12.5 15h-9v-1h9v1z"})})}),v.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),v.jsx("button",{onClick:()=>re==null?void 0:re.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-100 ${re!=null&&re.isActive("bulletList")?"bg-gray-200":""}`,title:"Bullet List",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})})}),v.jsx("button",{onClick:()=>re==null?void 0:re.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-100 ${re!=null&&re.isActive("orderedList")?"bg-gray-200":""}`,title:"Numbered List",children:v.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:[v.jsx("path",{fillRule:"evenodd",d:"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5z"}),v.jsx("path",{d:"M1.713 11.865v-.474H2c.217 0 .363-.137.363-.317 0-.185-.158-.31-.361-.31-.223 0-.367.152-.373.31h-.59c.016-.467.373-.787.986-.787.588-.002.954.291.957.703a.595.595 0 0 1-.492.594v.033a.615.615 0 0 1 .569.631c.003.533-.502.8-1.051.8-.656 0-1-.37-1.008-.794h.582c.008.178.186.306.422.309.254 0 .424-.145.422-.35-.002-.195-.155-.348-.414-.348h-.3zm-.004-4.699h-.604v-.035c0-.408.295-.844.958-.844.583 0 .96.326.96.756 0 .389-.257.617-.476.848l-.537.572v.03h1.054V9H1.143v-.395l.957-.99c.138-.142.293-.304.293-.508 0-.18-.147-.32-.342-.32a.33.33 0 0 0-.342.338v.041zM2.564 5h-.635V2.924h-.031l-.598.42v-.567l.629-.443h.635V5z"})]})}),v.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),v.jsx("button",{onClick:()=>re==null?void 0:re.chain().focus().setTextAlign("left").run(),className:`p-2 rounded hover:bg-gray-100 ${re!=null&&re.isActive({textAlign:"left"})?"bg-gray-200":""}`,title:"Align Left",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})})}),v.jsx("button",{onClick:()=>re==null?void 0:re.chain().focus().setTextAlign("center").run(),className:`p-2 rounded hover:bg-gray-100 ${re!=null&&re.isActive({textAlign:"center"})?"bg-gray-200":""}`,title:"Align Center",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M4 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})})}),v.jsx("button",{onClick:()=>re==null?void 0:re.chain().focus().setTextAlign("right").run(),className:`p-2 rounded hover:bg-gray-100 ${re!=null&&re.isActive({textAlign:"right"})?"bg-gray-200":""}`,title:"Align Right",children:v.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:v.jsx("path",{fillRule:"evenodd",d:"M6 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm4-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})})}),v.jsx("div",{className:"flex-1"}),v.jsxs("select",{className:"text-sm border border-gray-300 rounded px-2 py-1",onChange:I=>{const H=I.target.value;H==="paragraph"?re==null||re.chain().focus().setParagraph().run():H==="h1"?re==null||re.chain().focus().toggleHeading({level:1}).run():H==="h2"?re==null||re.chain().focus().toggleHeading({level:2}).run():H==="h3"&&(re==null||re.chain().focus().toggleHeading({level:3}).run())},children:[v.jsx("option",{value:"paragraph",children:"Normal text"}),v.jsx("option",{value:"h1",children:"Heading 1"}),v.jsx("option",{value:"h2",children:"Heading 2"}),v.jsx("option",{value:"h3",children:"Heading 3"})]}),v.jsx("button",{className:"p-2 rounded hover:bg-gray-100",title:"More options",children:v.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 16 16",children:[v.jsx("circle",{cx:"3",cy:"8",r:"1.5"}),v.jsx("circle",{cx:"8",cy:"8",r:"1.5"}),v.jsx("circle",{cx:"13",cy:"8",r:"1.5"})]})})]})}),v.jsx("div",{className:"bg-white flex-1 overflow-y-auto",children:v.jsx("div",{className:"px-6 py-4 h-full",children:v.jsx("div",{className:"prose prose-sm max-w-none",children:v.jsx(rO,{editor:re})})})})]}),n==="persona"&&v.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[v.jsx("div",{className:"border-b border-[#eee] py-4 shrink-0",children:v.jsxs("div",{className:"px-6 flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-lg font-semibold text-[#2b2b40] mb-1",children:"Customer persona"}),v.jsx("p",{className:"text-sm text-[#8d8ba7]",children:"Define who the learner is interacting with"})]}),v.jsxs("div",{className:"relative",children:[v.jsxs("button",{onClick:()=>Ce(!ye),className:"flex items-center gap-2 px-3 py-2 border border-[#ececf3] rounded-lg hover:border-[#0975d7] transition-colors bg-white",children:[v.jsx(yw,{className:"w-4 h-4 text-[#8d8ba7]",stroke:2}),v.jsx("span",{className:"text-sm font-medium text-[#2b2b40]",children:"Switch user"}),v.jsx(hw,{className:`w-4 h-4 text-[#8d8ba7] transition-transform ${ye?"rotate-180":""}`,stroke:2})]}),ye&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Ce(!1)}),v.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white border border-[#ececf3] rounded-lg shadow-lg z-20 max-h-80 overflow-y-auto",children:[X.map(I=>v.jsxs("button",{onClick:()=>{ge(I.id),Ce(!1)},className:`w-full text-left px-4 py-3 flex items-center gap-3 hover:bg-[#f0f0f5] transition-colors ${$===I.id?"bg-[#f0f0f5]":""}`,children:[I.avatar?v.jsx("img",{src:I.avatar,alt:I.name,className:"w-10 h-10 rounded-lg object-cover"}):v.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#f0f0f5] flex items-center justify-center",children:v.jsx(Wa,{className:"w-5 h-5 text-[#8d8ba7]",stroke:2})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:`text-sm font-medium ${$===I.id?"text-[#0975d7]":"text-[#2b2b40]"}`,children:I.name}),v.jsx("p",{className:"text-xs text-[#8d8ba7] line-clamp-1",children:I.reasonForContact})]}),$===I.id&&v.jsx("div",{className:"w-2 h-2 rounded-full bg-[#0975d7]"})]},I.id)),v.jsx("div",{className:"border-t border-[#ececf3] px-4 py-2",children:v.jsxs("button",{onClick:()=>{const I=String(X.length+1),H={id:I,name:"New Persona",avatar:null,emotionalStates:[],behavioralTraits:[],reasonForContact:"",likelyBehaviour:""};P([...X,H]),ge(I),Ce(!1)},className:"w-full text-left px-3 py-2 text-sm text-[#0975d7] hover:bg-[#f0f0f5] rounded-lg transition-colors flex items-center gap-2",children:[v.jsx(Ns,{className:"w-4 h-4",stroke:2}),"Add new persona"]})})]})]})]})]})}),v.jsx("div",{className:"bg-white border-b border-[#eee] py-4",children:v.jsx("div",{className:"px-6",children:v.jsxs("div",{className:"flex items-start gap-6",children:[v.jsxs("div",{className:"shrink-0 flex flex-col items-center",children:[v.jsxs("div",{className:"relative group",children:[st.avatar?v.jsx("img",{src:st.avatar,alt:st.name,className:"w-24 h-24 rounded-lg object-cover"}):v.jsx("div",{className:"w-24 h-24 rounded-lg bg-[#f0f0f5] flex items-center justify-center",children:v.jsx(Wa,{className:"w-12 h-12 text-[#8d8ba7]",stroke:2})}),v.jsx("button",{onClick:()=>{const I=document.createElement("input");I.type="file",I.accept="image/*",I.onchange=H=>{var Te;const Me=(Te=H.target.files)==null?void 0:Te[0];if(Me){const pt=new FileReader;pt.onload=St=>{var Bn;Al((Bn=St.target)==null?void 0:Bn.result)},pt.readAsDataURL(Me)}},I.click()},className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 rounded-lg flex items-center justify-center transition-all cursor-pointer",children:v.jsx(L5,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100",stroke:2})})]}),Se==="name"?v.jsx("input",{type:"text",value:st.name,onChange:I=>qi(I.target.value),onBlur:()=>Ee(null),onKeyDown:I=>{I.key==="Enter"&&Ee(null)},className:"mt-2 text-sm font-medium text-[#2b2b40] text-center border-b border-[#0975d7] focus:outline-none bg-transparent w-full",autoFocus:!0}):v.jsxs("div",{className:"mt-2 flex items-center gap-1 group",children:[v.jsx("p",{className:"text-sm font-medium text-[#2b2b40] text-center",children:st.name}),v.jsx("button",{onClick:()=>Ee("name"),className:"opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx(Cs,{className:"w-3 h-3 text-[#8d8ba7]",stroke:2})})]})]}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("p",{className:"text-sm font-medium text-[#2b2b40] mb-2",children:"Emotional state:"}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[st.emotionalStates.map((I,H)=>{const Me=cs(I),Te=gr(I);return v.jsxs("span",{className:"px-3 py-1.5 text-sm rounded-full flex items-center gap-1.5 font-medium",style:{backgroundColor:Te.bg,color:Te.text},children:[v.jsx(Me,{className:"w-3.5 h-3.5",stroke:2,style:{color:Te.icon}}),I,v.jsx("button",{onClick:()=>Ys(st.emotionalStates.filter((pt,St)=>St!==H)),className:"hover:opacity-70 transition-opacity ml-0.5",style:{color:Te.text},children:v.jsx(Ff,{className:"w-3 h-3",stroke:2})})]},H)}),At==="emotional"?v.jsx("input",{type:"text",value:ve,onChange:I=>De(I.target.value),onBlur:()=>{ve.trim()&&Ys([...st.emotionalStates,ve.trim()]),De(""),Zt(null)},onKeyDown:I=>{I.key==="Enter"&&ve.trim()?(Ys([...st.emotionalStates,ve.trim()]),De(""),Zt(null)):I.key==="Escape"&&(De(""),Zt(null))},className:"px-3 py-1.5 border border-[#0975d7] rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-[#0975d7] w-28",placeholder:"Add...",autoFocus:!0}):v.jsxs("button",{onClick:()=>Zt("emotional"),className:"px-3 py-1.5 border border-dashed border-[#d0d0d0] rounded-full text-sm text-[#8d8ba7] hover:border-[#0975d7] hover:text-[#0975d7] transition-colors flex items-center gap-1.5",children:[v.jsx(Ns,{className:"w-3.5 h-3.5",stroke:2}),"Add"]})]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-[#2b2b40] mb-2",children:"Behavioral traits:"}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[st.behavioralTraits.map((I,H)=>{const Me=Ji(I),Te=Dl(I);return v.jsxs("span",{className:"px-3 py-1.5 text-sm rounded-full flex items-center gap-1.5 font-medium",style:{backgroundColor:Te.bg,color:Te.text},children:[v.jsx(Me,{className:"w-3.5 h-3.5",stroke:2,style:{color:Te.icon}}),I,v.jsx("button",{onClick:()=>as(st.behavioralTraits.filter((pt,St)=>St!==H)),className:"hover:opacity-70 transition-opacity ml-0.5",style:{color:Te.text},children:v.jsx(Ff,{className:"w-3 h-3",stroke:2})})]},H)}),At==="behavioral"?v.jsx("input",{type:"text",value:ve,onChange:I=>De(I.target.value),onBlur:()=>{ve.trim()&&as([...st.behavioralTraits,ve.trim()]),De(""),Zt(null)},onKeyDown:I=>{I.key==="Enter"&&ve.trim()?(as([...st.behavioralTraits,ve.trim()]),De(""),Zt(null)):I.key==="Escape"&&(De(""),Zt(null))},className:"px-3 py-1.5 border border-[#0975d7] rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-[#0975d7] w-28",placeholder:"Add...",autoFocus:!0}):v.jsxs("button",{onClick:()=>Zt("behavioral"),className:"px-3 py-1.5 border border-dashed border-[#d0d0d0] rounded-full text-sm text-[#8d8ba7] hover:border-[#0975d7] hover:text-[#0975d7] transition-colors flex items-center gap-1.5",children:[v.jsx(Ns,{className:"w-3.5 h-3.5",stroke:2}),"Add"]})]})]})]})]})})}),v.jsx("div",{className:"border-b border-[#eee] py-4",children:v.jsxs("div",{className:"px-6 grid grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("h3",{className:"text-sm font-semibold text-[#2b2b40]",children:"Reason for contact"}),Se!=="reason"&&v.jsx("button",{onClick:()=>Ee("reason"),className:"text-[#0975d7] hover:text-[#0861b8]",children:v.jsx(Cs,{className:"w-4 h-4",stroke:2})})]}),Se==="reason"?v.jsx("textarea",{value:st.reasonForContact,onChange:I=>Pl(I.target.value),onBlur:()=>Ee(null),className:"bg-white border border-[#0975d7] rounded-lg p-4 min-h-[138px] w-full text-sm text-[#525066] focus:outline-none focus:ring-2 focus:ring-[#0975d7] resize-none",autoFocus:!0}):v.jsx("div",{onClick:()=>Ee("reason"),className:"bg-[#f8f8f8] border border-[#e4dddd] rounded-lg p-4 min-h-[138px] cursor-text hover:border-[#0975d7] transition-colors",children:v.jsx("p",{className:"text-sm text-[#525066] whitespace-pre-wrap",children:st.reasonForContact||"Click to add reason for contact..."})})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("h3",{className:"text-sm font-semibold text-[#2b2b40]",children:"Likely behaviour"}),Se!=="behaviour"&&v.jsx("button",{onClick:()=>Ee("behaviour"),className:"text-[#0975d7] hover:text-[#0861b8]",children:v.jsx(Cs,{className:"w-4 h-4",stroke:2})})]}),Se==="behaviour"?v.jsx("textarea",{value:st.likelyBehaviour,onChange:I=>Gi(I.target.value),onBlur:()=>Ee(null),className:"bg-white border border-[#0975d7] rounded-lg p-4 min-h-[138px] w-full text-sm text-[#525066] focus:outline-none focus:ring-2 focus:ring-[#0975d7] resize-none",autoFocus:!0}):v.jsx("div",{onClick:()=>Ee("behaviour"),className:"bg-[#f8f8f8] border border-[#e4dddd] rounded-lg p-4 min-h-[138px] cursor-text hover:border-[#0975d7] transition-colors",children:v.jsx("p",{className:"text-sm text-[#525066] whitespace-pre-wrap",children:st.likelyBehaviour||"Click to add likely behaviour..."})})]})]})})]}),n==="evaluation"&&v.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[v.jsx("div",{className:"border-b border-[#eee] py-4 shrink-0",children:v.jsxs("div",{className:"px-6",children:[v.jsx("h2",{className:"text-lg font-semibold text-[#2b2b40] mb-1",children:"Evaluation"}),v.jsx("p",{className:"text-sm text-[#8d8ba7]",children:"Select competencies to assess"})]})}),v.jsxs("div",{className:"flex-1 overflow-y-auto",children:[N.map(I=>v.jsx("div",{className:"bg-[#f8f8f8] border-b border-[#e4dddd] py-4",children:v.jsxs("div",{className:"px-6",children:[v.jsx("div",{className:"flex items-center justify-between mb-4",children:(V==null?void 0:V.type)==="title"&&V.parameterId===I.id?v.jsx("input",{type:"text",value:z,onChange:H=>B(H.target.value),onBlur:()=>{z.trim()&&D(N.map(H=>H.id===I.id?{...H,title:z.trim()}:H)),j(null),B("")},onKeyDown:H=>{H.key==="Enter"&&z.trim()?(D(N.map(Me=>Me.id===I.id?{...Me,title:z.trim()}:Me)),j(null),B("")):H.key==="Escape"&&(j(null),B(""))},className:"text-base font-semibold text-[#2b2b40] border-b border-[#0975d7] focus:outline-none bg-transparent flex-1",autoFocus:!0}):v.jsxs("div",{className:"flex items-center gap-2 group",children:[v.jsx("h3",{className:"text-base font-semibold text-[#2b2b40]",children:I.title}),v.jsx("button",{onClick:()=>{j({type:"title",parameterId:I.id}),B(I.title)},className:"opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx(Cs,{className:"w-3.5 h-3.5 text-[#8d8ba7]",stroke:2.5})})]})}),v.jsx("ul",{className:"space-y-2 text-sm text-[#525066] mb-4",children:I.criteria.map((H,Me)=>v.jsx("li",{className:"flex items-start gap-2 group",children:(V==null?void 0:V.type)==="criteria"&&V.parameterId===I.id&&V.criteriaIndex===Me?v.jsx("textarea",{value:z,onChange:Te=>B(Te.target.value),onBlur:()=>{if(z.trim()){const Te=[...I.criteria];Te[Me]=z.trim(),D(N.map(pt=>pt.id===I.id?{...pt,criteria:Te}:pt))}j(null),B("")},onKeyDown:Te=>{if(Te.key==="Enter"&&!Te.shiftKey&&z.trim()){Te.preventDefault();const pt=[...I.criteria];pt[Me]=z.trim(),D(N.map(St=>St.id===I.id?{...St,criteria:pt}:St)),j(null),B("")}else Te.key==="Escape"&&(j(null),B(""))},className:"flex-1 text-sm text-[#525066] border-b border-[#0975d7] focus:outline-none bg-transparent resize-none",autoFocus:!0,rows:2}):v.jsxs(v.Fragment,{children:[v.jsx("span",{children:""}),v.jsx("span",{className:"flex-1",children:H}),v.jsx("button",{onClick:()=>{j({type:"criteria",parameterId:I.id,criteriaIndex:Me}),B(H)},className:"opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:v.jsx(Cs,{className:"w-3 h-3 text-[#8d8ba7]",stroke:2.5})})]})},Me))}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"text-sm text-[#8d8ba7]",children:"Mapped competency"}),(V==null?void 0:V.type)==="competency"&&V.parameterId===I.id?v.jsx("input",{type:"text",value:z,onChange:H=>B(H.target.value),onBlur:()=>{z.trim()&&D(N.map(H=>H.id===I.id?{...H,mappedCompetency:z.trim()}:H)),j(null),B("")},onKeyDown:H=>{H.key==="Enter"&&z.trim()?(D(N.map(Me=>Me.id===I.id?{...Me,mappedCompetency:z.trim()}:Me)),j(null),B("")):H.key==="Escape"&&(j(null),B(""))},className:"px-3 py-1 bg-[#d4e6dd] text-[#0f5323] text-sm rounded border border-[#0975d7] focus:outline-none",autoFocus:!0}):v.jsx("span",{className:"px-3 py-1 bg-[#d4e6dd] text-[#0f5323] text-sm rounded",children:I.mappedCompetency}),v.jsx("button",{onClick:()=>{j({type:"competency",parameterId:I.id}),B(I.mappedCompetency)},className:"p-1 hover:bg-gray-200 rounded",children:v.jsx(Cs,{className:"w-3 h-3 text-[#8d8ba7]",stroke:2.5})})]})]})},I.id)),v.jsx("div",{className:"bg-white border-b border-[#e4dddd] py-4",children:v.jsx("div",{className:"px-6",children:v.jsxs("button",{onClick:()=>{const H={id:String(N.length+1),title:"New Evaluation Parameter",criteria:["0-2: [Enter description]","3-4: [Enter description]","5-6: [Enter description]","7-8: [Enter description]","9-10: [Enter description]"],mappedCompetency:"New Competency"};D([...N,H])},className:"w-full py-3 border-2 border-dashed border-[#d0d0d0] rounded-lg text-[#8d8ba7] hover:border-[#0975d7] hover:text-[#0975d7] transition-colors flex items-center justify-center gap-2",children:[v.jsx(Ns,{className:"w-4 h-4",stroke:2}),"Add evaluation parameter"]})})})]})]}),n==="exit"&&v.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden bg-gradient-to-br from-[#fafafa] to-[#f0f4f8]",children:[v.jsx("div",{className:"border-b border-[#eee] py-4 shrink-0 bg-white",children:v.jsxs("div",{className:"px-6",children:[v.jsx("h2",{className:"text-lg font-semibold text-[#2b2b40] mb-1",children:"Exit conditions"}),v.jsx("p",{className:"text-sm text-[#8d8ba7]",children:"Define when the scenario should end"})]})}),v.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto py-8 px-6",children:v.jsxs("div",{className:"max-w-3xl mx-auto",children:[v.jsx("div",{className:"relative",children:F.map((I,H)=>{const Me=Ie(I.icon),Te=Oe(I.icon),pt=(ue==null?void 0:ue.id)===I.id&&(ue==null?void 0:ue.field)==="trigger",St=(ue==null?void 0:ue.id)===I.id&&(ue==null?void 0:ue.field)==="action",Bn=H===F.length-1;return v.jsxs("div",{className:"relative group",children:[!Bn&&v.jsxs("div",{className:"absolute left-1/2 transform -translate-x-1/2 z-10",style:{top:"100%"},children:[v.jsx("div",{className:"w-0.5 h-6 bg-gradient-to-b from-[#d1d5db] to-[#9ca3af] mx-auto"}),v.jsx("div",{className:"flex items-center justify-center",children:v.jsx("span",{className:"text-[10px] font-bold tracking-wider text-[#9ca3af] bg-white border border-[#e5e7eb] px-3 py-1 rounded-full shadow-sm",children:"OR"})}),v.jsx("div",{className:"w-0.5 h-6 bg-gradient-to-b from-[#9ca3af] to-[#d1d5db] mx-auto"})]}),H>0&&v.jsx("div",{className:"h-16"}),v.jsxs("div",{className:"relative bg-white rounded-2xl shadow-[0_4px_20px_rgba(0,0,0,0.08)] border border-[#e5e7eb] overflow-hidden transition-all duration-300 hover:shadow-[0_8px_30px_rgba(0,0,0,0.12)] hover:border-[#d1d5db]",children:[v.jsx("div",{className:"h-1.5",style:{background:Te.bg}}),v.jsx("div",{className:"p-5",children:v.jsxs("div",{className:"flex items-stretch gap-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"flex items-center gap-2 mb-3",children:v.jsx("span",{className:"text-[10px] font-bold tracking-wider text-[#6b7280] uppercase bg-[#f3f4f6] px-2 py-1 rounded",children:"If"})}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("button",{onClick:()=>le(I.id),className:"shrink-0 w-10 h-10 rounded-xl flex items-center justify-center transition-transform hover:scale-110 cursor-pointer",style:{backgroundColor:Te.iconBg},title:"Click to change icon",children:v.jsx(Me,{className:"w-5 h-5",stroke:2,style:{color:Te.iconColor}})}),pt?v.jsx("input",{type:"text",value:Ne,onChange:Tn=>Pe(Tn.target.value),onBlur:()=>{Ne.trim()&&J(I.id,"trigger",Ne.trim()),Ae(null),Pe("")},onKeyDown:Tn=>{Tn.key==="Enter"&&Ne.trim()?(J(I.id,"trigger",Ne.trim()),Ae(null),Pe("")):Tn.key==="Escape"&&(Ae(null),Pe(""))},className:"flex-1 text-sm text-[#374151] font-medium border-b-2 border-[#0975d7] focus:outline-none bg-transparent py-1",autoFocus:!0}):v.jsx("div",{onClick:()=>{Ae({id:I.id,field:"trigger"}),Pe(I.trigger)},className:"flex-1 text-sm text-[#374151] font-medium cursor-text hover:text-[#0975d7] transition-colors py-1",children:I.trigger})]})]}),v.jsx("div",{className:"flex items-center px-2",children:v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("div",{className:"w-8 h-0.5 bg-gradient-to-r from-[#d1d5db] to-[#9ca3af] rounded"}),v.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center shadow-md",style:{background:Te.bg},children:v.jsx(wc,{className:"w-4 h-4 text-white",stroke:2.5})}),v.jsx("div",{className:"w-8 h-0.5 bg-gradient-to-r from-[#9ca3af] to-[#d1d5db] rounded"})]})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"flex items-center gap-2 mb-3",children:v.jsx("span",{className:"text-[10px] font-bold tracking-wider text-[#6b7280] uppercase bg-[#f3f4f6] px-2 py-1 rounded",children:"Then"})}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"#fee2e2"},children:v.jsx(qx,{className:"w-5 h-5",stroke:2,style:{color:"#dc2626"}})}),St?v.jsx("input",{type:"text",value:Ne,onChange:Tn=>Pe(Tn.target.value),onBlur:()=>{Ne.trim()&&J(I.id,"action",Ne.trim()),Ae(null),Pe("")},onKeyDown:Tn=>{Tn.key==="Enter"&&Ne.trim()?(J(I.id,"action",Ne.trim()),Ae(null),Pe("")):Tn.key==="Escape"&&(Ae(null),Pe(""))},className:"flex-1 text-sm text-[#374151] font-medium border-b-2 border-[#0975d7] focus:outline-none bg-transparent py-1",autoFocus:!0}):v.jsx("div",{onClick:()=>{Ae({id:I.id,field:"action"}),Pe(I.action)},className:"flex-1 text-sm text-[#374151] font-medium cursor-text hover:text-[#0975d7] transition-colors py-1",children:I.action})]})]}),v.jsx("button",{onClick:()=>he(I.id),className:"shrink-0 opacity-0 group-hover:opacity-100 transition-opacity p-2 hover:bg-[#fee2e2] rounded-lg self-start",title:"Delete condition",children:v.jsx(K5,{className:"w-4 h-4 text-[#dc2626]",stroke:2})})]})})]})]},I.id)})}),v.jsx("div",{className:"mt-8",children:v.jsxs("button",{onClick:Ue,className:"w-full py-4 px-6 border-2 border-dashed border-[#d1d5db] rounded-2xl text-[#6b7280] hover:border-[#0975d7] hover:text-[#0975d7] hover:bg-[#f0f7ff] transition-all duration-300 flex items-center justify-center gap-3 group",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-[#f3f4f6] group-hover:bg-[#dbeafe] flex items-center justify-center transition-colors",children:v.jsx(Ns,{className:"w-4 h-4",stroke:2})}),v.jsx("span",{className:"font-medium",children:"Add exit condition"})]})}),v.jsx("p",{className:"mt-6 text-center text-xs text-[#9ca3af]",children:"Click on any text to edit  Click icons to change type  Hover to delete"})]})})]})]})]})]}),p&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-[600px] max-h-[80vh] flex flex-col overflow-hidden",children:[v.jsxs("div",{className:"flex items-center justify-between px-6 py-5 border-b border-[#eee]",children:[v.jsx("h2",{className:"text-xl font-semibold text-[#2b2b40]",children:"Select Workflow"}),v.jsx("button",{onClick:()=>m(!1),className:"p-1 hover:bg-[#f5f5f5] rounded transition-colors",children:v.jsx(Ff,{className:"w-5 h-5 text-[#6b697b]",stroke:2})})]}),v.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[#eee]",children:[v.jsxs("div",{className:"flex gap-6",children:[v.jsx("button",{onClick:()=>x("draft"),className:`text-sm font-medium pb-1 border-b-2 transition-colors ${g==="draft"?"text-[#0975d7] border-[#0975d7]":"text-[#6b697b] border-transparent hover:text-[#3d3c52]"}`,children:"Draft"}),v.jsx("button",{onClick:()=>x("ready"),className:`text-sm font-medium pb-1 border-b-2 transition-colors ${g==="ready"?"text-[#0975d7] border-[#0975d7]":"text-[#6b697b] border-transparent hover:text-[#3d3c52]"}`,children:"Ready"})]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",placeholder:"Search for the workflow",value:b,onChange:I=>T(I.target.value),className:"w-[220px] pl-3 pr-10 py-2 text-sm border border-[#d7d6d1] rounded-md focus:outline-none focus:ring-2 focus:ring-[#0975d7]/20 focus:border-[#0975d7]"}),v.jsx(mw,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-[#6b697b]",stroke:2})]})]}),v.jsx("div",{className:"flex-1 overflow-y-auto",children:Ev.filter(I=>I.name.toLowerCase().includes(b.toLowerCase())).map(I=>v.jsxs("label",{className:"flex items-center justify-between px-6 py-4 border-b border-[#f0f0f0] cursor-pointer hover:bg-[#fafafa] transition-colors",children:[v.jsx("span",{className:"text-sm text-[#2b2b40]",children:I.name}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"radio",name:"workflow",value:I.id,checked:w===I.id,onChange:()=>S(I.id),className:"sr-only"}),v.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${w===I.id?"border-[#0975d7] bg-[#0975d7]":"border-[#d7d6d1]"}`,children:w===I.id&&v.jsx("div",{className:"w-2 h-2 rounded-full bg-white"})})]})]},I.id))})]}),v.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-[#eee] bg-[#fafafa]",children:[v.jsx("button",{className:"text-sm text-[#0975d7] hover:underline",children:"Don't have a workflow, create one"}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>m(!1),className:"px-5 py-2.5 text-sm font-medium text-[#3d3c52] bg-white border border-[#d7d6d1] rounded-md hover:bg-[#f5f5f5] transition-colors",children:"Cancel"}),v.jsx("button",{onClick:()=>{const I=Ev.find(H=>H.id===w);I&&e&&e(I.id,I.name),m(!1)},className:"px-5 py-2.5 text-sm font-medium text-white bg-[#0975d7] rounded-md hover:bg-[#0861b8] transition-colors",children:"Attach"})]})]})]})})]})}const sn={p1df9e300:"M31.6062 10.1538L28.92 16.1815H28.8185L28.2646 10.1538H25.92L23.2892 16.1815H23.1877L22.5323 10.1538H20.1046L21.36 19.3846H23.9077L26.4462 13.7262L27 19.3846H29.6862L34.0892 10.1538H31.6062Z",p1e734d80:"M5.5 22H7.21238e-07V16.5H5.5V22Z",p1f8d54f0:"M39.6923 9.97846C39.1728 9.96384 38.6563 10.0619 38.1782 10.2658C37.7002 10.4698 37.272 10.7748 36.9231 11.16L37.7815 6.40615H35.2892L32.9908 19.3846H35.4738L36.3969 14.0585C36.4524 13.4897 36.7194 12.9626 37.1451 12.5814C37.5707 12.2002 38.124 11.9927 38.6954 12C39.8123 12 40.1077 12.6831 40.1077 13.4677C40.0941 13.8372 40.0478 14.2048 39.9692 14.5662L39.1108 19.3846H41.5385L42.4615 14.5108C42.5771 13.9358 42.645 13.3523 42.6646 12.7662C42.6863 12.3783 42.6227 11.9904 42.4783 11.6298C42.3339 11.2691 42.1123 10.9445 41.8289 10.6788C41.5456 10.413 41.2074 10.2126 40.8383 10.0916C40.4692 9.97062 40.078 9.932 39.6923 9.97846Z",p32703c00:"M64.9662 9.23077C65.0862 8.55692 65.1969 8.05846 66.1015 8.05846C66.355 8.06279 66.6079 8.08438 66.8585 8.12308L67.1539 6.46154C66.6741 6.33988 66.1811 6.27788 65.6862 6.27692C63.3969 6.27692 62.7785 7.95692 62.5108 9.39692L62.3723 10.2092H60.8585L60.6092 12.0554H62.0308L60.7385 19.5415C60.7252 19.8172 60.6104 20.0783 60.4161 20.2743C60.2217 20.4703 59.9617 20.5874 59.6862 20.6031L59.3446 22.4492C62.1139 22.6062 62.7877 21.5262 63.1292 19.5877L64.4769 12H66.1662L66.4615 10.1538H64.8L64.9662 9.23077Z",p3d4d0800:"M22 5.5H16.5V1.44248e-06H22V5.5Z",p5f73d00:"M51.1015 11.5385C50.7786 11.0178 50.318 10.5965 49.7707 10.3212C49.2233 10.0459 48.6105 9.9273 48 9.97846C47.3305 9.9599 46.6644 10.0798 46.0433 10.3306C45.4223 10.5815 44.8598 10.9579 44.391 11.4362C43.9222 11.9145 43.5572 12.4845 43.3189 13.1105C43.0806 13.7364 42.9741 14.4048 43.0062 15.0738C43.0062 17.6862 44.6308 19.5323 47.2154 19.5323C47.7134 19.567 48.2129 19.4887 48.6764 19.3033C49.1399 19.1179 49.5556 18.8301 49.8923 18.4615L49.7262 19.3385H51.9415L52.2646 17.3631L53.5385 10.1538H51.3415L51.1015 11.5385ZM47.7785 17.6123C47.4454 17.6253 47.1134 17.5659 46.8055 17.4383C46.4975 17.3107 46.2209 17.1179 45.9945 16.8731C45.7682 16.6284 45.5976 16.3375 45.4944 16.0205C45.3913 15.7036 45.358 15.368 45.3969 15.0369C45.3969 13.5046 46.2462 11.9077 48.1662 11.9077C48.5005 11.8914 48.8344 11.9474 49.1451 12.072C49.4557 12.1965 49.7359 12.3867 49.9664 12.6294C50.1968 12.8722 50.3722 13.1618 50.4805 13.4785C50.5888 13.7952 50.6275 14.1316 50.5938 14.4646C50.6253 14.8582 50.5765 15.2541 50.4504 15.6283C50.3243 16.0025 50.1236 16.3472 49.8603 16.6415C49.5971 16.9358 49.2768 17.1736 48.919 17.3404C48.5611 17.5073 48.1731 17.5998 47.7785 17.6123Z",p86d36f0:"M67.0431 10.1538L66.7108 12H67.8092L66.5077 19.3846H68.9446L70.5785 10.1538H67.0431Z",pbd1d800:"M56.5754 16.5046L57.3692 12H59.7508L60.0554 10.1538H57.6738L58.1538 7.50462H56.1231L55.2554 10.1538H53.9631L53.6215 12H54.9231L54.1754 16.2462C53.8523 18.0923 54.12 19.5692 56.4277 19.5692C57.1194 19.611 57.8107 19.481 58.44 19.1908L58.7446 17.4369C58.3068 17.5881 57.8502 17.6782 57.3877 17.7046C56.6215 17.6677 56.4462 17.2154 56.5754 16.5046Z",pcb8800:"M69.4154 8.91692C69.6823 8.91692 69.9433 8.83764 70.1651 8.68914C70.3869 8.54064 70.5596 8.32961 70.6614 8.08282C70.7631 7.83602 70.7892 7.56457 70.7365 7.3029C70.6837 7.04122 70.5544 6.8011 70.365 6.613C70.1756 6.42489 69.9346 6.29727 69.6726 6.24632C69.4106 6.19536 69.1393 6.22337 68.8932 6.32679C68.6471 6.43022 68.4373 6.60439 68.2903 6.82723C68.1434 7.05006 68.0659 7.31153 68.0677 7.57846C68.0701 7.93429 68.2132 8.27471 68.4657 8.52546C68.7182 8.77621 69.0596 8.91693 69.4154 8.91692Z",pd482700:"M23.8431 1.59692L17.4646 16.1908H17.3538L16.6615 10.1538L13.3385 17.5385L13.5785 19.3846H20.3077L28.2831 1.59692H23.8431Z",pd8fa900:"M16.6615 10.1538H12.3323L13.3385 17.6123L16.6615 10.2277V10.1538Z",pf911b40:"M16.0708 1.59692L9.69231 16.1908H9.58154L8.88923 10.1538H4.56L5.79692 19.3846H12.5538L13.3385 17.64L12.3323 10.1538H16.6615L20.5108 1.56923L16.0708 1.59692Z",pfa49600:"M80.3631 10.1538H77.4646L75.3415 12.9877L73.9292 10.1538H71.2892L73.6985 14.5938L69.6369 19.3846H72.5539L74.8154 16.3938L76.2831 19.3846H78.8769L76.4862 14.7692L80.3631 10.1538Z"},QI="/assets/9fd108fffcc9a09175ecdd31b797649bb5abc594-Di3pCWCL.png",ZI="/assets/3c37e63c6742aa8bdee80dfefd60ca99840641a4-D_dDp54q.png";function e6(){return v.jsxs("div",{className:"bg-[#1f1f32] flex flex-col h-screen items-start px-0 py-[8px] shrink-0 w-[240px] overflow-y-auto",children:[v.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:v.jsx("div",{className:"flex flex-row items-center size-full",children:v.jsx("div",{className:"content-stretch flex items-center px-[12px] py-[8px] relative w-full",children:v.jsxs("div",{className:"basis-0 bg-[#1f1f32] content-stretch flex grow items-center justify-between min-h-px min-w-px relative rounded-[8px] shrink-0",children:[v.jsxs("div",{className:"content-stretch flex items-center relative shrink-0",children:[v.jsx("div",{className:"content-stretch flex flex-col items-center justify-center relative shrink-0 size-[44px]",children:v.jsx("div",{className:"relative shrink-0 size-[22px]",children:v.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 22 22",children:v.jsxs("g",{children:[v.jsx("rect",{fill:"#F55800",height:"5.5",width:"16.5",x:"0",y:"16.5"}),v.jsx("rect",{fill:"#F55800",height:"5.5",transform:"rotate(-90 0 22)",width:"16.5",x:"0",y:"22"}),v.jsx("path",{d:sn.p1e734d80,fill:"#C63D22"}),v.jsx("rect",{fill:"#FBA450",height:"5.5",transform:"rotate(-180 22 5.5)",width:"16.5",x:"22",y:"5.5"}),v.jsx("rect",{fill:"#FBA450",height:"5.5",transform:"rotate(90 22 0)",width:"16.5",x:"22",y:"0"}),v.jsx("path",{d:sn.p3d4d0800,fill:"#FA8A1F"})]})})})}),v.jsx("p",{className:"font-['Inter:Semi_Bold',sans-serif] font-semibold leading-[24px] not-italic relative shrink-0 text-[16px] text-nowrap text-white",children:"Mirror"})]}),v.jsx("div",{className:"content-stretch flex items-center justify-center overflow-clip p-[12px] relative rounded-[24px] shrink-0",children:v.jsx(Fh,{className:"size-[20px] text-white",stroke:2})})]})})})}),v.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:v.jsx("div",{className:"content-stretch flex flex-col items-start px-[12px] py-[8px] relative w-full",children:v.jsx("div",{className:"bg-white h-px opacity-[0.16] shrink-0 w-full"})})}),v.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:v.jsx("div",{className:"content-stretch flex flex-col items-start px-[12px] py-[8px] relative w-full",children:v.jsxs("div",{className:"content-stretch flex items-center relative rounded-[8px] shrink-0 w-full",children:[v.jsx("div",{className:"overflow-clip relative rounded-[8px] shrink-0 size-[44px]",children:v.jsx("div",{className:"absolute left-1/2 size-[24px] top-1/2 translate-x-[-50%] translate-y-[-50%]",children:v.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:v.jsx("img",{alt:"",className:"absolute h-[70%] left-0 max-w-none top-[16.55%] w-full",src:QI})})})}),v.jsx("p",{className:"basis-0 font-['Inter:Medium',sans-serif] font-medium grow leading-[20px] min-h-px min-w-px not-italic relative shrink-0 text-[#ececf3] text-[14px]",children:"JnJ Salesforce"}),v.jsx("div",{className:"overflow-clip relative shrink-0 size-[44px]",children:v.jsx("div",{className:"absolute left-1/2 size-[20px] top-1/2 translate-x-[-50%] translate-y-[-50%]",children:v.jsx(hw,{className:"size-[20px] text-[#ECECF3]",stroke:2})})})]})})}),v.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:v.jsxs("div",{className:"content-stretch flex flex-col gap-[4px] items-start px-[12px] py-[8px] relative w-full",children:[v.jsxs("div",{className:"bg-[#3d3c52] relative rounded-[8px] shrink-0 w-full",children:[v.jsx("div",{className:"flex flex-row items-center overflow-clip rounded-[inherit] size-full",children:v.jsxs("div",{className:"content-stretch flex items-center pl-0 pr-[12px] py-0 relative w-full",children:[v.jsx("div",{className:"content-stretch flex gap-[8px] items-center justify-center p-[10px] relative rounded-[8px] shrink-0",children:v.jsx(Fh,{className:"size-[24px] text-[#F58857]",stroke:2})}),v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[#fff8f5] text-[14px] text-nowrap",children:"Workflows"})]})}),v.jsx("div",{"aria-hidden":"true",className:"absolute border border-[#525066] border-solid inset-0 pointer-events-none rounded-[8px]"})]}),v.jsx("div",{className:"relative shrink-0 w-full",children:v.jsx("div",{className:"flex flex-row items-center overflow-clip rounded-[inherit] size-full",children:v.jsxs("div",{className:"content-stretch flex items-center pl-0 pr-[12px] py-0 relative w-full",children:[v.jsx("div",{className:"content-stretch flex gap-[8px] items-center justify-center p-[10px] relative rounded-[8px] shrink-0",children:v.jsx(Z3,{className:"size-[24px] text-[#DFDDE7]",stroke:2})}),v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[#ececf3] text-[14px] text-nowrap",children:"Analytics"})]})})}),v.jsx("div",{className:"relative shrink-0 w-full",children:v.jsx("div",{className:"flex flex-row items-center overflow-clip rounded-[inherit] size-full",children:v.jsxs("div",{className:"content-stretch flex items-center pl-0 pr-[12px] py-0 relative w-full",children:[v.jsx("div",{className:"content-stretch flex gap-[8px] items-center justify-center p-[10px] relative rounded-[8px] shrink-0",children:v.jsx(gw,{className:"size-[24px] text-[#DFDDE7]",stroke:2})}),v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[#ececf3] text-[14px] text-nowrap",children:"Settings"})]})})})]})}),v.jsx("div",{className:"basis-0 grow min-h-px min-w-px shrink-0 w-full"}),v.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:v.jsx("div",{className:"content-stretch flex flex-col items-start px-[12px] py-[8px] relative w-full",children:v.jsx("div",{className:"bg-white h-px opacity-[0.16] shrink-0 w-full"})})}),v.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:v.jsxs("div",{className:"content-stretch flex flex-col gap-[4px] items-start px-[12px] py-[8px] relative w-full",children:[v.jsxs("div",{className:"content-stretch flex items-center relative rounded-[8px] shrink-0 w-full",children:[v.jsx("div",{className:"overflow-clip relative shrink-0 size-[44px]",children:v.jsxs("div",{className:"absolute left-1/2 pointer-events-none rounded-[16px] size-[32px] top-1/2 translate-x-[-50%] translate-y-[-50%]",children:[v.jsx("img",{alt:"",className:"absolute inset-0 max-w-none object-50%-50% object-cover rounded-[16px] size-full",src:ZI}),v.jsx("div",{"aria-hidden":"true",className:"absolute border-2 border-[#872345] border-solid inset-0 rounded-[16px]"})]})}),v.jsx("p",{className:"basis-0 font-['Inter:Medium',sans-serif] font-medium grow leading-[20px] min-h-px min-w-px not-italic relative shrink-0 text-[#ececf3] text-[14px]",children:"John Doe"})]}),v.jsx("div",{className:"relative shrink-0 w-full",children:v.jsx("div",{className:"flex flex-row items-center overflow-clip rounded-[inherit] size-full",children:v.jsxs("div",{className:"content-stretch flex items-center pl-0 pr-[12px] py-0 relative w-full",children:[v.jsxs("div",{className:"content-stretch flex gap-[8px] items-center justify-center p-[10px] relative rounded-[8px] shrink-0",children:[v.jsx(J3,{className:"size-[24px] text-[#DFDDE7]",stroke:2}),v.jsx("div",{className:"absolute left-[24px] size-[8px] top-[12px]",children:v.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 8 8",children:v.jsx("circle",{cx:"4",cy:"4",fill:"#2E9EFA",r:"4"})})})]}),v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[#ececf3] text-[14px] text-nowrap",children:"Notifications"})]})})}),v.jsx("div",{className:"relative shrink-0 w-full",children:v.jsx("div",{className:"flex flex-row items-center overflow-clip rounded-[inherit] size-full",children:v.jsxs("div",{className:"content-stretch flex items-center pl-0 pr-[12px] py-0 relative w-full",children:[v.jsx("div",{className:"content-stretch flex gap-[8px] items-center justify-center p-[10px] relative rounded-[8px] shrink-0",children:v.jsx(X3,{className:"size-[24px] text-[#DFDDE7]",stroke:2})}),v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[#ececf3] text-[14px] text-nowrap",children:"Resources"})]})})}),v.jsx("div",{className:"relative shrink-0 w-full",children:v.jsx("div",{className:"flex flex-row items-center overflow-clip rounded-[inherit] size-full",children:v.jsxs("div",{className:"content-stretch flex items-center pl-0 pr-[12px] py-0 relative w-full",children:[v.jsx("div",{className:"content-stretch flex gap-[8px] items-center justify-center p-[10px] relative rounded-[8px] shrink-0",children:v.jsx(b5,{className:"size-[24px] text-[#DFDDE7]",stroke:2})}),v.jsx("p",{className:"font-['Inter:Medium',sans-serif] font-medium leading-[20px] not-italic relative shrink-0 text-[#ececf3] text-[14px] text-nowrap",children:"Chat"})]})})})]})}),v.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:v.jsx("div",{className:"content-stretch flex flex-col items-start px-[12px] py-[8px] relative w-full",children:v.jsx("div",{className:"bg-white h-px opacity-[0.16] shrink-0 w-full"})})}),v.jsx("div",{className:"bg-[#1f1f32] relative shrink-0 w-full",children:v.jsx("div",{className:"content-stretch flex flex-col items-start px-[12px] py-[8px] relative w-full",children:v.jsx("div",{className:"content-stretch flex items-center justify-center overflow-clip pl-0 pr-[12px] py-0 relative shrink-0 w-[216px]",children:v.jsx("div",{className:"content-stretch flex items-center justify-center px-0 py-[10px] relative rounded-[8px] shrink-0",children:v.jsx("div",{className:"h-[24px] relative shrink-0 w-[84.923px]",children:v.jsxs("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 84.9231 24",children:[v.jsx("path",{d:sn.pd482700,fill:"#F05B22"}),v.jsx("path",{d:sn.pf911b40,fill:"#F8A352"}),v.jsx("path",{d:sn.pd8fa900,fill:"#C43F27"}),v.jsx("path",{d:sn.p1df9e300,fill:"white"}),v.jsx("path",{d:sn.p1f8d54f0,fill:"white"}),v.jsx("path",{d:sn.p5f73d00,fill:"white"}),v.jsx("path",{d:sn.pbd1d800,fill:"white"}),v.jsx("path",{d:sn.pcb8800,fill:"white"}),v.jsx("path",{d:sn.p86d36f0,fill:"white"}),v.jsx("path",{d:sn.pfa49600,fill:"white"}),v.jsx("path",{d:sn.p32703c00,fill:"white"})]})})})})})})]})}function t6(){const[t,e]=_.useState("dashboard"),[n,r]=_.useState([]),s=()=>{setTimeout(()=>{e("scenarioDetail")},2e3)},o=(a,c)=>{r(d=>d.some(f=>f.workflowId===a)?d:[...d,{workflowId:a,workflowName:c,scenarioTitle:"Dealing with angry customer for refund scenario"}]),e("dashboard")};return v.jsxs("div",{className:"h-screen w-screen flex bg-[#fcfcfd] overflow-hidden",children:[v.jsx(e6,{}),v.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:v.jsxs(jM,{mode:"wait",children:[t==="dashboard"&&v.jsx(Q5,{onNavigateToRoleplay:()=>e("roleplay"),onNavigateToSimulation:()=>e("simulation"),attachedRoleplays:n},"dashboard"),t==="roleplay"&&v.jsx(Z5,{onBack:()=>e("dashboard"),onSwitchToPrompt:()=>e("prompt"),onGenerateScenario:s},"roleplay"),t==="prompt"&&v.jsx(tA,{onBack:()=>e("dashboard"),onSwitchToBuilder:()=>e("roleplay"),onGenerateScenario:s},"prompt"),t==="scenarioDetail"&&v.jsx(XI,{onBack:()=>e("dashboard"),onAttachWorkflow:o},"scenarioDetail"),t==="simulation"&&v.jsx("div",{className:"flex-1 bg-[#fcfcfd] flex items-center justify-center p-8",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-2xl font-bold text-[#3d3c52] mb-4",children:"Simulation Builder"}),v.jsx("p",{className:"text-[#6b697b] mb-6",children:"This screen is coming soon..."}),v.jsx("button",{onClick:()=>e("dashboard"),className:"bg-[#0975d7] text-white px-6 py-3 rounded hover:bg-[#0861b8] transition-colors",children:"Back to Dashboard"})]})},"simulation")]})})]})}rT.createRoot(document.getElementById("root")).render(v.jsx(t6,{}));
